{"cache":{"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/configs/cfgApi.js":{"source":"\"use strict\";\n\nmodule.exports = /*@ngInject*/function (LavaboomAPIProvider, consts) {\n\tLavaboomAPIProvider.url = consts.API_URI;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2NvbmZpZ3MvY2ZnQXBpLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQUMsbUJBQW1CLEVBQUUsTUFBTSxFQUFLO0FBQzlELG9CQUFtQixDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO0NBQ3pDLENBQUMiLCJmaWxlIjoiL1VzZXJzL3BpZ2d5c2xhc2hlci9TaXRlcy9sYXZhYm9vbS13ZWIvc3JjL2pzL2FwcHMvVXRpbHMvY29uZmlncy9jZmdBcGkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oTGF2YWJvb21BUElQcm92aWRlciwgY29uc3RzKSA9PiB7XG5cdExhdmFib29tQVBJUHJvdmlkZXIudXJsID0gY29uc3RzLkFQSV9VUkk7XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/constants/consts.js":{"source":"'use strict';\n\nmodule.exports = {\n\tAPI_URI: \"https://api.lavaboom.com\",\n\tROOT_DOMAIN: \"lavaboom.com\",\n\tROOT_DOMAIN_LIST: ['lavaboom.com', 'lavaboom.io', 'lavaboom.co'],\n\tIMAGES_PROXY_URI: 'https://rr.lavaboom.com',\n\tDEFAULT_LANG: 'en',\n\tDEFAULT_KEY_LENGTH: 4096,\n\tESTIMATED_KEY_GENERATION_TIME_SECONDS: 24,\n\tINBOX_REDIRECT_DELAY: 1000,\n\tLAVABOOM_SYNC_REDIRECT_DELAY: 1000,\n\tBACKUP_KEYS_REDIRECT_DELAY: 1000,\n\tENVELOPE_DEFAULT_MAJOR_VERSION: 1,\n\tENVELOPE_DEFAULT_MINOR_VERSION: 0,\n\tAUTO_SAVE_TIMEOUT: 1000,\n\tLOADER_SHOW_DELAY: 150,\n\tFAST_ACTIONS_TIMEOUT: 250,\n\tMUMBLE_SHOW_DELAY: 1000,\n\tCRYPTO_CACHE_MAX_ENTRY_SIZE: 1024 * 512,\n\tCRYPTO_CACHE_TTL: 60 * 60 * 1000,\n\n\tCRYPTO_PERFORMANCE_TEST_COUNT: 3,\n\tCRYPTO_PERFORMANCE_TEST_KEY_LENGTH: 512,\n\tCRYPTO_PERFORMANCE_TEST_REF_TIME: 140 * 3,\n\n\t// we set this to one year as there is no reason to expire those entries from-memory only cache\n\t// inbox.js algos relies on constant in-memory presence of once loaded threads\n\t// we can manually invalidate the whole cache of threads when we need to do so(sorting of threads for example, whole because we store in chunks of 15)\n\tINBOX_THREADS_CACHE_TTL: 60 * 60 * 24 * 365 * 1000,\n\tINBOX_LABELS_CACHE_TTL: 60 * 60 * 24 * 365 * 1000,\n\n\tINBOX_EMAILS_CACHE_TTL: 60 * 10 * 1000,\n\tSET_READ_AFTER_TIMEOUT: 3000,\n\tKEYS_BACKUP_README: 'https://lavaboom.com/faq/keyring-backup',\n\tPOPUP_AUTO_HIDE_DELAY: 500,\n\tORDERED_LABELS: ['Inbox', 'Drafts', 'Sent', 'Starred', 'Spam', 'Trash'],\n\tPLAN_LIST: ['BASIC' /*, 'TEST'*/],\n\tCRYPTO_DEFAULT_THREAD_POOL_SIZE: 4,\n\tKEY_EXPIRY_DAYS: 365 * 30,\n\tKEY_EXPIRY_DAYS_WARNING: 10,\n\n\t// what, why? because reasons ^^\n\tstripBOM: function stripBOM(str) {\n\t\treturn str.replace(/^\\ufeff/g, '');\n\t}\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2NvbnN0YW50cy9jb25zdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2hCLFFBQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU87QUFDNUIsWUFBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRztBQUM1QixpQkFBZ0IsRUFBRSxDQUFDLGNBQWMsRUFBRSxhQUFhLEVBQUUsYUFBYSxDQUFDO0FBQ2hFLGlCQUFnQixFQUFFLHlCQUF5QjtBQUMzQyxhQUFZLEVBQUUsSUFBSTtBQUNsQixtQkFBa0IsRUFBRSxJQUFJO0FBQ3hCLHNDQUFxQyxFQUFFLEVBQUU7QUFDekMscUJBQW9CLEVBQUUsSUFBSTtBQUMxQiw2QkFBNEIsRUFBRSxJQUFJO0FBQ2xDLDJCQUEwQixFQUFFLElBQUk7QUFDaEMsK0JBQThCLEVBQUUsQ0FBQztBQUNqQywrQkFBOEIsRUFBRSxDQUFDO0FBQ2pDLGtCQUFpQixFQUFFLElBQUk7QUFDdkIsa0JBQWlCLEVBQUUsR0FBRztBQUN0QixxQkFBb0IsRUFBRSxHQUFHO0FBQ3pCLGtCQUFpQixFQUFFLElBQUk7QUFDdkIsNEJBQTJCLEVBQUUsSUFBSSxHQUFHLEdBQUc7QUFDdkMsaUJBQWdCLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJOztBQUVoQyw4QkFBNkIsRUFBRSxDQUFDO0FBQ2hDLG1DQUFrQyxFQUFFLEdBQUc7QUFDdkMsaUNBQWdDLEVBQUUsR0FBRyxHQUFHLENBQUM7Ozs7O0FBS3pDLHdCQUF1QixFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxJQUFJO0FBQ2xELHVCQUFzQixFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxJQUFJOztBQUVqRCx1QkFBc0IsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUk7QUFDdEMsdUJBQXNCLEVBQUUsSUFBSTtBQUM1QixtQkFBa0IsRUFBRSx5Q0FBeUM7QUFDN0Qsc0JBQXFCLEVBQUUsR0FBRztBQUMxQixlQUFjLEVBQUUsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUN2RSxVQUFTLEVBQUUsQ0FBQyxPQUFPLGNBQWE7QUFDaEMsZ0NBQStCLEVBQUUsQ0FBQztBQUNsQyxnQkFBZSxFQUFFLEdBQUcsR0FBRyxFQUFFO0FBQ3pCLHdCQUF1QixFQUFFLEVBQUU7OztBQUczQixTQUFRLEVBQUUsa0JBQUMsR0FBRztTQUFLLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQztFQUFBO0NBQzlDLENBQUMiLCJmaWxlIjoiL1VzZXJzL3BpZ2d5c2xhc2hlci9TaXRlcy9sYXZhYm9vbS13ZWIvc3JjL2pzL2FwcHMvVXRpbHMvY29uc3RhbnRzL2NvbnN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuXHRBUElfVVJJOiBwcm9jZXNzLmVudi5BUElfVVJJLFxuXHRST09UX0RPTUFJTjogcHJvY2Vzcy5lbnYuVExELFxuXHRST09UX0RPTUFJTl9MSVNUOiBbJ2xhdmFib29tLmNvbScsICdsYXZhYm9vbS5pbycsICdsYXZhYm9vbS5jbyddLFxuXHRJTUFHRVNfUFJPWFlfVVJJOiAnaHR0cHM6Ly9yci5sYXZhYm9vbS5jb20nLFxuXHRERUZBVUxUX0xBTkc6ICdlbicsXG5cdERFRkFVTFRfS0VZX0xFTkdUSDogNDA5Nixcblx0RVNUSU1BVEVEX0tFWV9HRU5FUkFUSU9OX1RJTUVfU0VDT05EUzogMjQsXG5cdElOQk9YX1JFRElSRUNUX0RFTEFZOiAxMDAwLFxuXHRMQVZBQk9PTV9TWU5DX1JFRElSRUNUX0RFTEFZOiAxMDAwLFxuXHRCQUNLVVBfS0VZU19SRURJUkVDVF9ERUxBWTogMTAwMCxcblx0RU5WRUxPUEVfREVGQVVMVF9NQUpPUl9WRVJTSU9OOiAxLFxuXHRFTlZFTE9QRV9ERUZBVUxUX01JTk9SX1ZFUlNJT046IDAsXG5cdEFVVE9fU0FWRV9USU1FT1VUOiAxMDAwLFxuXHRMT0FERVJfU0hPV19ERUxBWTogMTUwLFxuXHRGQVNUX0FDVElPTlNfVElNRU9VVDogMjUwLFxuXHRNVU1CTEVfU0hPV19ERUxBWTogMTAwMCxcblx0Q1JZUFRPX0NBQ0hFX01BWF9FTlRSWV9TSVpFOiAxMDI0ICogNTEyLFxuXHRDUllQVE9fQ0FDSEVfVFRMOiA2MCAqIDYwICogMTAwMCxcblxuXHRDUllQVE9fUEVSRk9STUFOQ0VfVEVTVF9DT1VOVDogMyxcblx0Q1JZUFRPX1BFUkZPUk1BTkNFX1RFU1RfS0VZX0xFTkdUSDogNTEyLFxuXHRDUllQVE9fUEVSRk9STUFOQ0VfVEVTVF9SRUZfVElNRTogMTQwICogMyxcblxuXHQvLyB3ZSBzZXQgdGhpcyB0byBvbmUgeWVhciBhcyB0aGVyZSBpcyBubyByZWFzb24gdG8gZXhwaXJlIHRob3NlIGVudHJpZXMgZnJvbS1tZW1vcnkgb25seSBjYWNoZVxuXHQvLyBpbmJveC5qcyBhbGdvcyByZWxpZXMgb24gY29uc3RhbnQgaW4tbWVtb3J5IHByZXNlbmNlIG9mIG9uY2UgbG9hZGVkIHRocmVhZHNcblx0Ly8gd2UgY2FuIG1hbnVhbGx5IGludmFsaWRhdGUgdGhlIHdob2xlIGNhY2hlIG9mIHRocmVhZHMgd2hlbiB3ZSBuZWVkIHRvIGRvIHNvKHNvcnRpbmcgb2YgdGhyZWFkcyBmb3IgZXhhbXBsZSwgd2hvbGUgYmVjYXVzZSB3ZSBzdG9yZSBpbiBjaHVua3Mgb2YgMTUpXG5cdElOQk9YX1RIUkVBRFNfQ0FDSEVfVFRMOiA2MCAqIDYwICogMjQgKiAzNjUgKiAxMDAwLFxuXHRJTkJPWF9MQUJFTFNfQ0FDSEVfVFRMOiA2MCAqIDYwICogMjQgKiAzNjUgKiAxMDAwLFxuXG5cdElOQk9YX0VNQUlMU19DQUNIRV9UVEw6IDYwICogMTAgKiAxMDAwLFxuXHRTRVRfUkVBRF9BRlRFUl9USU1FT1VUOiAzMDAwLFxuXHRLRVlTX0JBQ0tVUF9SRUFETUU6ICdodHRwczovL2xhdmFib29tLmNvbS9mYXEva2V5cmluZy1iYWNrdXAnLFxuXHRQT1BVUF9BVVRPX0hJREVfREVMQVk6IDUwMCxcblx0T1JERVJFRF9MQUJFTFM6IFsnSW5ib3gnLCAnRHJhZnRzJywgJ1NlbnQnLCAnU3RhcnJlZCcsICdTcGFtJywgJ1RyYXNoJ10sXG5cdFBMQU5fTElTVDogWydCQVNJQycvKiwgJ1RFU1QnKi9dLFxuXHRDUllQVE9fREVGQVVMVF9USFJFQURfUE9PTF9TSVpFOiA0LFxuXHRLRVlfRVhQSVJZX0RBWVM6IDM2NSAqIDMwLFxuXHRLRVlfRVhQSVJZX0RBWVNfV0FSTklORzogMTAsXG5cblx0Ly8gd2hhdCwgd2h5PyBiZWNhdXNlIHJlYXNvbnMgXl5cblx0c3RyaXBCT006IChzdHIpID0+IHN0ci5yZXBsYWNlKC9eXFx1ZmVmZi9nLCAnJylcbn07Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/controllers/ctrlChecker.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function (co, consts, LavaboomAPI, $scope) {\n\tvar token = sessionStorage['lava-token'] ? sessionStorage['lava-token'] : localStorage['lava-token'];\n\tLavaboomAPI.setAuthToken(token);\n\n\t$scope.initializeApplication = function (opts) {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar me, res;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\tcontext$3$0.next = 3;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.log('checker: no token found!');\n\t\t\t\t\t\treturn context$3$0.abrupt('return', loader.loadLoginApplication({ noDelay: true }));\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tcontext$3$0.prev = 3;\n\t\t\t\t\t\tcontext$3$0.next = 6;\n\t\t\t\t\t\treturn LavaboomAPI.connect();\n\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tcontext$3$0.prev = 6;\n\t\t\t\t\t\tcontext$3$0.next = 9;\n\t\t\t\t\t\treturn LavaboomAPI.accounts.get('me');\n\n\t\t\t\t\tcase 9:\n\t\t\t\t\t\tme = context$3$0.sent;\n\n\t\t\t\t\t\tconsole.log('checker: accounts.get(me) success', me);\n\n\t\t\t\t\t\tcontext$3$0.prev = 11;\n\t\t\t\t\t\tcontext$3$0.next = 14;\n\t\t\t\t\t\treturn LavaboomAPI.keys.get('' + me.body.user.name + '@' + \"lavaboom.com\");\n\n\t\t\t\t\tcase 14:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\tconsole.log('checker: keys.get success', res);\n\n\t\t\t\t\t\tif (!(!me.body.user.settings || me.body.user.settings.state != 'ok')) {\n\t\t\t\t\t\t\tcontext$3$0.next = 21;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.log('checker: user haven\\'t decided with keys');\n\n\t\t\t\t\t\tif (!(me.body.user.settings.state == 'backupKeys')) {\n\t\t\t\t\t\t\tcontext$3$0.next = 20;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn context$3$0.abrupt('return', loader.loadLoginApplication({ state: 'backupKeys', noDelay: true }));\n\n\t\t\t\t\tcase 20:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', loader.loadLoginApplication({ state: 'lavaboomSync', noDelay: true }));\n\n\t\t\t\t\tcase 21:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', loader.loadMainApplication({ noDelay: true }));\n\n\t\t\t\t\tcase 24:\n\t\t\t\t\t\tcontext$3$0.prev = 24;\n\t\t\t\t\t\tcontext$3$0.t39 = context$3$0['catch'](11);\n\n\t\t\t\t\t\tconsole.log('checker: keys.get error', context$3$0.t39);\n\t\t\t\t\t\treturn context$3$0.abrupt('return', loader.loadLoginApplication({ state: 'generateKeys', noDelay: true }));\n\n\t\t\t\t\tcase 28:\n\t\t\t\t\t\tcontext$3$0.next = 34;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 30:\n\t\t\t\t\t\tcontext$3$0.prev = 30;\n\t\t\t\t\t\tcontext$3$0.t40 = context$3$0['catch'](6);\n\n\t\t\t\t\t\tconsole.log('checker: accounts.get(me) error', context$3$0.t40);\n\t\t\t\t\t\treturn context$3$0.abrupt('return', loader.loadLoginApplication({ noDelay: true }));\n\n\t\t\t\t\tcase 34:\n\t\t\t\t\t\tcontext$3$0.next = 40;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 36:\n\t\t\t\t\t\tcontext$3$0.prev = 36;\n\t\t\t\t\t\tcontext$3$0.t41 = context$3$0['catch'](3);\n\n\t\t\t\t\t\tconsole.log('checker: error, cannot connect', context$3$0.t41);\n\t\t\t\t\t\tthrow context$3$0.t41;\n\n\t\t\t\t\tcase 40:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this, [[3, 36], [6, 30], [11, 24]]);\n\t\t}));\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2NvbnRyb2xsZXJzL2N0cmxDaGVja2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFLO0FBQ2xFLEtBQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxZQUFZLENBQUMsR0FBRyxjQUFjLENBQUMsWUFBWSxDQUFDLEdBQUcsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3ZHLFlBQVcsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRWhDLE9BQU0sQ0FBQyxxQkFBcUIsR0FBRyxVQUFDLElBQUk7U0FBSyxFQUFFLHlCQUFDO09BVW5DLEVBQUUsRUFJRCxHQUFHOzs7O1VBYlAsS0FBSzs7Ozs7QUFDVCxhQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDLENBQUM7MENBQ2pDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQzs7Ozs7YUFJN0MsV0FBVyxDQUFDLE9BQU8sRUFBRTs7Ozs7YUFHVCxXQUFXLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7OztBQUF6QyxRQUFFOztBQUNSLGFBQU8sQ0FBQyxHQUFHLENBQUMsbUNBQW1DLEVBQUUsRUFBRSxDQUFDLENBQUM7Ozs7YUFHbEMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQUksRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxTQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFHOzs7QUFBM0UsU0FBRzs7QUFDVCxhQUFPLENBQUMsR0FBRyxDQUFDLDJCQUEyQixFQUFFLEdBQUcsQ0FBQyxDQUFDOztZQUUxQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQTs7Ozs7QUFDaEUsYUFBTyxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDOztZQUVwRCxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxJQUFJLFlBQVksQ0FBQTs7Ozs7MENBQ3ZDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDLEtBQUssRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDOzs7MENBRWxFLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDOzs7MENBR3BFLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQzs7Ozs7O0FBRWxELGFBQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLGtCQUFNLENBQUM7MENBQ3JDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDOzs7Ozs7Ozs7O0FBRzNFLGFBQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLGtCQUFNLENBQUM7MENBQzdDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQzs7Ozs7Ozs7OztBQUdwRCxhQUFPLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxrQkFBTSxDQUFDOzs7Ozs7OztHQUdwRCxFQUFDO0VBQUEsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL1VzZXJzL3BpZ2d5c2xhc2hlci9TaXRlcy9sYXZhYm9vbS13ZWIvc3JjL2pzL2FwcHMvVXRpbHMvY29udHJvbGxlcnMvY3RybENoZWNrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oY28sIGNvbnN0cywgTGF2YWJvb21BUEksICRzY29wZSkgPT4ge1xuXHRjb25zdCB0b2tlbiA9IHNlc3Npb25TdG9yYWdlWydsYXZhLXRva2VuJ10gPyBzZXNzaW9uU3RvcmFnZVsnbGF2YS10b2tlbiddIDogbG9jYWxTdG9yYWdlWydsYXZhLXRva2VuJ107XG5cdExhdmFib29tQVBJLnNldEF1dGhUb2tlbih0b2tlbik7XG5cblx0JHNjb3BlLmluaXRpYWxpemVBcHBsaWNhdGlvbiA9IChvcHRzKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0aWYgKCF0b2tlbikge1xuXHRcdFx0Y29uc29sZS5sb2coJ2NoZWNrZXI6IG5vIHRva2VuIGZvdW5kIScpO1xuXHRcdFx0cmV0dXJuIGxvYWRlci5sb2FkTG9naW5BcHBsaWNhdGlvbih7bm9EZWxheTogdHJ1ZX0pO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHR5aWVsZCBMYXZhYm9vbUFQSS5jb25uZWN0KCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG1lID0geWllbGQgTGF2YWJvb21BUEkuYWNjb3VudHMuZ2V0KCdtZScpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnY2hlY2tlcjogYWNjb3VudHMuZ2V0KG1lKSBzdWNjZXNzJywgbWUpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzID0geWllbGQgTGF2YWJvb21BUEkua2V5cy5nZXQoYCR7bWUuYm9keS51c2VyLm5hbWV9QCR7cHJvY2Vzcy5lbnYuVExEfWApO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjaGVja2VyOiBrZXlzLmdldCBzdWNjZXNzJywgcmVzKTtcblxuXHRcdFx0XHRcdGlmICghbWUuYm9keS51c2VyLnNldHRpbmdzIHx8IG1lLmJvZHkudXNlci5zZXR0aW5ncy5zdGF0ZSAhPSAnb2snKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnY2hlY2tlcjogdXNlciBoYXZlblxcJ3QgZGVjaWRlZCB3aXRoIGtleXMnKTtcblxuXHRcdFx0XHRcdFx0aWYgKG1lLmJvZHkudXNlci5zZXR0aW5ncy5zdGF0ZSA9PSAnYmFja3VwS2V5cycpXG5cdFx0XHRcdFx0XHRcdHJldHVybiBsb2FkZXIubG9hZExvZ2luQXBwbGljYXRpb24oe3N0YXRlOiAnYmFja3VwS2V5cycsIG5vRGVsYXk6IHRydWV9KTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGxvYWRlci5sb2FkTG9naW5BcHBsaWNhdGlvbih7c3RhdGU6ICdsYXZhYm9vbVN5bmMnLCBub0RlbGF5OiB0cnVlfSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGxvYWRlci5sb2FkTWFpbkFwcGxpY2F0aW9uKHtub0RlbGF5OiB0cnVlfSk7XG5cdFx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2NoZWNrZXI6IGtleXMuZ2V0IGVycm9yJywgZXJyKTtcblx0XHRcdFx0XHRyZXR1cm4gbG9hZGVyLmxvYWRMb2dpbkFwcGxpY2F0aW9uKHtzdGF0ZTogJ2dlbmVyYXRlS2V5cycsIG5vRGVsYXk6IHRydWV9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ2NoZWNrZXI6IGFjY291bnRzLmdldChtZSkgZXJyb3InLCBlcnIpO1xuXHRcdFx0XHRyZXR1cm4gbG9hZGVyLmxvYWRMb2dpbkFwcGxpY2F0aW9uKHtub0RlbGF5OiB0cnVlfSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnY2hlY2tlcjogZXJyb3IsIGNhbm5vdCBjb25uZWN0JywgZXJyKTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cdH0pO1xufTsiXX0=","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/$templateCache.js":{"source":"\"use strict\";\n\nmodule.exports = /*@ngInject*/function ($delegate, $q, $http) {\n\t$delegate.fetch = function (url) {\n\t\tvar deferred = $q.defer();\n\n\t\tvar template = $delegate.get(url);\n\t\tif (template) deferred.resolve(template);else {\n\t\t\t$http.get(url).then(function (result) {\n\t\t\t\t$delegate.put(url, result.data);\n\t\t\t\tdeferred.resolve(result.data);\n\t\t\t})[\"catch\"](function (err) {\n\t\t\t\treturn deferred.reject(err);\n\t\t\t});\n\t\t}\n\n\t\treturn deferred.promise;\n\t};\n\treturn $delegate;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvJHRlbXBsYXRlQ2FjaGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBSztBQUN2RCxVQUFTLENBQUMsS0FBSyxHQUFHLFVBQUMsR0FBRyxFQUFLO0FBQzFCLE1BQUksUUFBUSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzs7QUFFMUIsTUFBSSxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNsQyxNQUFJLFFBQVEsRUFDWCxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQ3ZCO0FBQ0osUUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FDWixJQUFJLENBQUMsVUFBQSxNQUFNLEVBQUk7QUFDZixhQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEMsWUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsQ0FBQyxTQUNJLENBQUMsVUFBQSxHQUFHO1dBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFBQSxDQUFDLENBQUM7R0FDckM7O0FBRUQsU0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDO0VBQ3hCLENBQUM7QUFDRixRQUFPLFNBQVMsQ0FBQztDQUNqQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvJHRlbXBsYXRlQ2FjaGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oJGRlbGVnYXRlLCAkcSwgJGh0dHApID0+IHtcblx0JGRlbGVnYXRlLmZldGNoID0gKHVybCkgPT4ge1xuXHRcdGxldCBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cblx0XHRsZXQgdGVtcGxhdGUgPSAkZGVsZWdhdGUuZ2V0KHVybCk7XG5cdFx0aWYgKHRlbXBsYXRlKVxuXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSh0ZW1wbGF0ZSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHQkaHR0cC5nZXQodXJsKVxuXHRcdFx0XHQudGhlbihyZXN1bHQgPT4ge1xuXHRcdFx0XHRcdCRkZWxlZ2F0ZS5wdXQodXJsLCByZXN1bHQuZGF0YSk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQuZGF0YSk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChlcnIgPT4gZGVmZXJyZWQucmVqZWN0KGVycikpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHR9O1xuXHRyZXR1cm4gJGRlbGVnYXRlO1xufTsiXX0=","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/$timeout.js":{"source":"\"use strict\";\n\nmodule.exports = /*@ngInject*/function ($delegate, $q) {\n\t$delegate.schedule = function (timeoutVariable, action, timeout, invokeApply) {\n\t\tif (timeoutVariable) $delegate.cancel(timeoutVariable);\n\t\treturn $delegate(action, timeout, invokeApply);\n\t};\n\n\t$delegate.schedulePromise = function (timeoutVariable, action, timeout, invokeApply) {\n\t\tif (timeoutVariable) $delegate.cancel(timeoutVariable);\n\t\tvar deferred = $q.defer();\n\n\t\tvar t = $delegate(function () {\n\t\t\ttry {\n\t\t\t\tvar r = action();\n\n\t\t\t\tif (r.then) {\n\t\t\t\t\tr.then(function (res) {\n\t\t\t\t\t\treturn deferred.resolve(res);\n\t\t\t\t\t})[\"catch\"](function (err) {\n\t\t\t\t\t\treturn deferred.reject(err);\n\t\t\t\t\t});\n\t\t\t\t} else deferred.resolve(r);\n\t\t\t} catch (err) {\n\t\t\t\tdeferred.reject(err);\n\t\t\t}\n\t\t}, timeout, invokeApply);\n\n\t\treturn [t, deferred.promise];\n\t};\n\n\treturn $delegate;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvJHRpbWVvdXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBQyxTQUFTLEVBQUUsRUFBRSxFQUFLO0FBQ2hELFVBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBQyxlQUFlLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUs7QUFDdkUsTUFBSSxlQUFlLEVBQ2xCLFNBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDbkMsU0FBTyxTQUFTLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztFQUMvQyxDQUFDOztBQUVGLFVBQVMsQ0FBQyxlQUFlLEdBQUcsVUFBQyxlQUFlLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUs7QUFDOUUsTUFBSSxlQUFlLEVBQ2xCLFNBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDbkMsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDOztBQUU1QixNQUFNLENBQUMsR0FBRyxTQUFTLENBQUMsWUFBTTtBQUN6QixPQUFJO0FBQ0gsUUFBTSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUM7O0FBRW5CLFFBQUksQ0FBQyxDQUFDLElBQUksRUFBRTtBQUNYLE1BQUMsQ0FDQyxJQUFJLENBQUMsVUFBQSxHQUFHO2FBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7TUFBQSxDQUFDLFNBQzdCLENBQUMsVUFBQSxHQUFHO2FBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFBQSxDQUFDLENBQUM7S0FDckMsTUFDQSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDYixZQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCO0dBQ0QsRUFBRSxPQUFPLEVBQUUsV0FBVyxDQUFDLENBQUM7O0FBRXpCLFNBQU8sQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0VBQzdCLENBQUM7O0FBRUYsUUFBTyxTQUFTLENBQUM7Q0FDakIsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9kZWNvcmF0b3JzLyR0aW1lb3V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAvKkBuZ0luamVjdCovKCRkZWxlZ2F0ZSwgJHEpID0+IHtcblx0JGRlbGVnYXRlLnNjaGVkdWxlID0gKHRpbWVvdXRWYXJpYWJsZSwgYWN0aW9uLCB0aW1lb3V0LCBpbnZva2VBcHBseSkgPT4ge1xuXHRcdGlmICh0aW1lb3V0VmFyaWFibGUpXG5cdFx0XHQkZGVsZWdhdGUuY2FuY2VsKHRpbWVvdXRWYXJpYWJsZSk7XG5cdFx0cmV0dXJuICRkZWxlZ2F0ZShhY3Rpb24sIHRpbWVvdXQsIGludm9rZUFwcGx5KTtcblx0fTtcblxuXHQkZGVsZWdhdGUuc2NoZWR1bGVQcm9taXNlID0gKHRpbWVvdXRWYXJpYWJsZSwgYWN0aW9uLCB0aW1lb3V0LCBpbnZva2VBcHBseSkgPT4ge1xuXHRcdGlmICh0aW1lb3V0VmFyaWFibGUpXG5cdFx0XHQkZGVsZWdhdGUuY2FuY2VsKHRpbWVvdXRWYXJpYWJsZSk7XG5cdFx0Y29uc3QgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0Y29uc3QgdCA9ICRkZWxlZ2F0ZSgoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByID0gYWN0aW9uKCk7XG5cblx0XHRcdFx0aWYgKHIudGhlbikge1xuXHRcdFx0XHRcdHJcblx0XHRcdFx0XHRcdC50aGVuKHJlcyA9PiBkZWZlcnJlZC5yZXNvbHZlKHJlcykpXG5cdFx0XHRcdFx0XHQuY2F0Y2goZXJyID0+IGRlZmVycmVkLnJlamVjdChlcnIpKTtcblx0XHRcdFx0fSBlbHNlXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0XHRcdH1cblx0XHR9LCB0aW1lb3V0LCBpbnZva2VBcHBseSk7XG5cblx0XHRyZXR1cm4gW3QsIGRlZmVycmVkLnByb21pc2VdO1xuXHR9O1xuXG5cdHJldHVybiAkZGVsZWdhdGU7XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/$translate.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($delegate, $q, $rootScope, utils) {\n\tvar translationTablesCache = {};\n\n\t$delegate.instantWithPrefix = function (name) {\n\t\tvar prefix = arguments[1] === undefined ? '' : arguments[1];\n\n\t\tif (angular.isObject(name)) {\n\t\t\tvar _ret = (function () {\n\t\t\t\tvar translationTable = name;\n\t\t\t\tvar originalTranslationTable = translationTable;\n\n\t\t\t\tif (!translationTable.__UID) {\n\t\t\t\t\ttranslationTable.__UID = utils.getRandomString(16);\n\t\t\t\t\ttranslationTablesCache[translationTable.__UID] = angular.copy(translationTable);\n\t\t\t\t} else originalTranslationTable = translationTablesCache[translationTable.__UID];\n\n\t\t\t\treturn {\n\t\t\t\t\tv: Object.keys(originalTranslationTable).reduce(function (a, translationKey) {\n\t\t\t\t\t\tif (translationKey.startsWith('__')) return a;\n\n\t\t\t\t\t\tvar value = '';\n\t\t\t\t\t\tvar isParam = false;\n\n\t\t\t\t\t\tif (originalTranslationTable[translationKey].startsWith('%')) {\n\t\t\t\t\t\t\tvalue = originalTranslationTable[translationKey].substr(1);\n\t\t\t\t\t\t\tisParam = true;\n\t\t\t\t\t\t} else value = originalTranslationTable[translationKey];\n\n\t\t\t\t\t\tvar resolvedTranslationKey = prefix && !value ? prefix + '.' + translationKey : value + '.' + translationKey;\n\n\t\t\t\t\t\ta[translationKey] = isParam ? function (argsObject) {\n\t\t\t\t\t\t\treturn $delegate.instant(resolvedTranslationKey, argsObject);\n\t\t\t\t\t\t} : $delegate.instant(resolvedTranslationKey);\n\t\t\t\t\t\treturn a;\n\t\t\t\t\t}, {})\n\t\t\t\t};\n\t\t\t})();\n\n\t\t\tif (typeof _ret === 'object') return _ret.v;\n\t\t}\n\n\t\treturn $delegate.instant(name);\n\t};\n\n\t$delegate.bindAsObject = function (translations) {\n\t\tvar prefix = arguments[1] === undefined ? '' : arguments[1];\n\t\tvar map = arguments[2] === undefined ? null : arguments[2];\n\t\tvar postProcess = arguments[3] === undefined ? null : arguments[3];\n\n\t\tvar deferred = $q.defer();\n\n\t\t$rootScope.$bind('$translateChangeSuccess', function () {\n\t\t\ttry {\n\t\t\t\tvar currentTranslations = $delegate.instantWithPrefix(translations, prefix);\n\t\t\t\tvar mappedTranslations = map ? map(currentTranslations) : currentTranslations;\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = Object.keys(mappedTranslations)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar k = _step.value;\n\n\t\t\t\t\t\ttranslations[k] = mappedTranslations[k];\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (postProcess) postProcess();\n\n\t\t\t\tdeferred.resolve(translations);\n\t\t\t} catch (err) {\n\t\t\t\tdeferred.reject(err);\n\t\t\t}\n\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\treturn $delegate;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvJHRyYW5zbGF0ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBSztBQUNuRSxLQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQzs7QUFFbEMsVUFBUyxDQUFDLGlCQUFpQixHQUFHLFVBQUMsSUFBSSxFQUFrQjtNQUFoQixNQUFNLGdDQUFHLEVBQUU7O0FBQy9DLE1BQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTs7QUFDM0IsUUFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7QUFDNUIsUUFBSSx3QkFBd0IsR0FBRyxnQkFBZ0IsQ0FBQzs7QUFFaEQsUUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBRTtBQUM1QixxQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNuRCwyQkFBc0IsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7S0FDaEYsTUFDQSx3QkFBd0IsR0FBRyxzQkFBc0IsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7QUFFM0U7UUFBTyxNQUFNLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBQyxFQUFFLGNBQWMsRUFBSztBQUMxRSxVQUFJLGNBQWMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQ2xDLE9BQU8sQ0FBQyxDQUFDOztBQUVWLFVBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNmLFVBQUksT0FBTyxHQUFHLEtBQUssQ0FBQzs7QUFFcEIsVUFBSSx3QkFBd0IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDN0QsWUFBSyxHQUFHLHdCQUF3QixDQUFDLGNBQWMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzRCxjQUFPLEdBQUcsSUFBSSxDQUFDO09BQ2YsTUFBTSxLQUFLLEdBQUcsd0JBQXdCLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRXhELFVBQU0sc0JBQXNCLEdBQUcsTUFBTSxJQUFJLENBQUMsS0FBSyxHQUMzQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGNBQWMsR0FDN0IsS0FBSyxHQUFHLEdBQUcsR0FBRyxjQUFjLENBQUM7O0FBRWpDLE9BQUMsQ0FBQyxjQUFjLENBQUMsR0FBRyxPQUFPLEdBQ3hCLFVBQUMsVUFBVTtjQUFLLFNBQVMsQ0FBQyxPQUFPLENBQUMsc0JBQXNCLEVBQUUsVUFBVSxDQUFDO09BQUEsR0FDckUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQzdDLGFBQU8sQ0FBQyxDQUFDO01BQ1QsRUFBRSxFQUFFLENBQUM7TUFBQzs7OztHQUNQOztBQUVELFNBQU8sU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUMvQixDQUFDOztBQUVGLFVBQVMsQ0FBQyxZQUFZLEdBQUcsVUFBQyxZQUFZLEVBQWtEO01BQWhELE1BQU0sZ0NBQUcsRUFBRTtNQUFFLEdBQUcsZ0NBQUcsSUFBSTtNQUFFLFdBQVcsZ0NBQUcsSUFBSTs7QUFDbEYsTUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDOztBQUUxQixZQUFVLENBQUMsS0FBSyxDQUFDLHlCQUF5QixFQUFFLFlBQU07QUFDakQsT0FBSTtBQUNILFFBQU0sbUJBQW1CLEdBQUcsU0FBUyxDQUFDLGlCQUFpQixDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM5RSxRQUFNLGtCQUFrQixHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsbUJBQW1CLENBQUMsR0FBRyxtQkFBbUIsQ0FBQzs7Ozs7O0FBQ2hGLDBCQUFhLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7VUFBcEMsQ0FBQzs7QUFDUixrQkFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO01BQUE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFekMsUUFBSSxXQUFXLEVBQ2QsV0FBVyxFQUFFLENBQUM7O0FBRWYsWUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMvQixDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQ2IsWUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNyQjtHQUNELENBQUMsQ0FBQzs7QUFFSCxTQUFPLFFBQVEsQ0FBQyxPQUFPLENBQUM7RUFDeEIsQ0FBQzs7QUFFRixRQUFPLFNBQVMsQ0FBQztDQUNqQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvJHRyYW5zbGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqLygkZGVsZWdhdGUsICRxLCAkcm9vdFNjb3BlLCB1dGlscykgPT4ge1xuXHRjb25zdCB0cmFuc2xhdGlvblRhYmxlc0NhY2hlID0ge307XG5cblx0JGRlbGVnYXRlLmluc3RhbnRXaXRoUHJlZml4ID0gKG5hbWUsIHByZWZpeCA9ICcnKSA9PiB7XG5cdFx0aWYgKGFuZ3VsYXIuaXNPYmplY3QobmFtZSkpIHtcblx0XHRcdGxldCB0cmFuc2xhdGlvblRhYmxlID0gbmFtZTtcblx0XHRcdGxldCBvcmlnaW5hbFRyYW5zbGF0aW9uVGFibGUgPSB0cmFuc2xhdGlvblRhYmxlO1xuXG5cdFx0XHRpZiAoIXRyYW5zbGF0aW9uVGFibGUuX19VSUQpIHtcblx0XHRcdFx0dHJhbnNsYXRpb25UYWJsZS5fX1VJRCA9IHV0aWxzLmdldFJhbmRvbVN0cmluZygxNik7XG5cdFx0XHRcdHRyYW5zbGF0aW9uVGFibGVzQ2FjaGVbdHJhbnNsYXRpb25UYWJsZS5fX1VJRF0gPSBhbmd1bGFyLmNvcHkodHJhbnNsYXRpb25UYWJsZSk7XG5cdFx0XHR9IGVsc2Vcblx0XHRcdFx0b3JpZ2luYWxUcmFuc2xhdGlvblRhYmxlID0gdHJhbnNsYXRpb25UYWJsZXNDYWNoZVt0cmFuc2xhdGlvblRhYmxlLl9fVUlEXTtcblxuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKG9yaWdpbmFsVHJhbnNsYXRpb25UYWJsZSkucmVkdWNlKChhLCB0cmFuc2xhdGlvbktleSkgPT4ge1xuXHRcdFx0XHRpZiAodHJhbnNsYXRpb25LZXkuc3RhcnRzV2l0aCgnX18nKSlcblx0XHRcdFx0XHRyZXR1cm4gYTtcblxuXHRcdFx0XHRsZXQgdmFsdWUgPSAnJztcblx0XHRcdFx0bGV0IGlzUGFyYW0gPSBmYWxzZTtcblxuXHRcdFx0XHRpZiAob3JpZ2luYWxUcmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uS2V5XS5zdGFydHNXaXRoKCclJykpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IG9yaWdpbmFsVHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbktleV0uc3Vic3RyKDEpO1xuXHRcdFx0XHRcdGlzUGFyYW0gPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgdmFsdWUgPSBvcmlnaW5hbFRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25LZXldO1xuXG5cdFx0XHRcdGNvbnN0IHJlc29sdmVkVHJhbnNsYXRpb25LZXkgPSBwcmVmaXggJiYgIXZhbHVlXG5cdFx0XHRcdFx0XHQ/IHByZWZpeCArICcuJyArIHRyYW5zbGF0aW9uS2V5XG5cdFx0XHRcdFx0XHQ6IHZhbHVlICsgJy4nICsgdHJhbnNsYXRpb25LZXk7XG5cblx0XHRcdFx0YVt0cmFuc2xhdGlvbktleV0gPSBpc1BhcmFtXG5cdFx0XHRcdFx0PyAoYXJnc09iamVjdCkgPT4gJGRlbGVnYXRlLmluc3RhbnQocmVzb2x2ZWRUcmFuc2xhdGlvbktleSwgYXJnc09iamVjdClcblx0XHRcdFx0XHQ6ICRkZWxlZ2F0ZS5pbnN0YW50KHJlc29sdmVkVHJhbnNsYXRpb25LZXkpO1xuXHRcdFx0XHRyZXR1cm4gYTtcblx0XHRcdH0sIHt9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJGRlbGVnYXRlLmluc3RhbnQobmFtZSk7XG5cdH07XG5cblx0JGRlbGVnYXRlLmJpbmRBc09iamVjdCA9ICh0cmFuc2xhdGlvbnMsIHByZWZpeCA9ICcnLCBtYXAgPSBudWxsLCBwb3N0UHJvY2VzcyA9IG51bGwpID0+IHtcblx0XHRsZXQgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0JHJvb3RTY29wZS4kYmluZCgnJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50VHJhbnNsYXRpb25zID0gJGRlbGVnYXRlLmluc3RhbnRXaXRoUHJlZml4KHRyYW5zbGF0aW9ucywgcHJlZml4KTtcblx0XHRcdFx0Y29uc3QgbWFwcGVkVHJhbnNsYXRpb25zID0gbWFwID8gbWFwKGN1cnJlbnRUcmFuc2xhdGlvbnMpIDogY3VycmVudFRyYW5zbGF0aW9ucztcblx0XHRcdFx0Zm9yKGxldCBrIG9mIE9iamVjdC5rZXlzKG1hcHBlZFRyYW5zbGF0aW9ucykpXG5cdFx0XHRcdFx0dHJhbnNsYXRpb25zW2tdID0gbWFwcGVkVHJhbnNsYXRpb25zW2tdO1xuXG5cdFx0XHRcdGlmIChwb3N0UHJvY2Vzcylcblx0XHRcdFx0XHRwb3N0UHJvY2VzcygpO1xuXG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb25zKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHR9O1xuXG5cdHJldHVybiAkZGVsZWdhdGU7XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/LavaboomAPI.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($delegate, $rootScope, $translate, co, utils) {\n\tvar propsList = ['info', 'accounts', 'files', 'contacts', 'emails', 'labels', 'keys', 'threads', 'tokens'];\n\n\tvar formatError = function formatError(callName, error) {\n\t\tcallName = callName.toUpperCase();\n\n\t\tvar translate = function translate(name) {\n\t\t\tvar r = $translate.instant(name);\n\t\t\tif (r == name || !r) throw new Error('Translation \\'' + name + '\\' not found!');\n\t\t\treturn r;\n\t\t};\n\n\t\ttry {\n\t\t\tif (error.body && error.body.message == 'Unexpected end of input') return translate('LAVABOOM.API.ERROR.DOWN');\n\n\t\t\treturn translate('LAVABOOM.API.ERROR.' + callName + '.' + error.status);\n\t\t} catch (err) {\n\t\t\tvar def = utils.def(function () {\n\t\t\t\treturn translate('LAVABOOM.API.ERROR.' + callName + '.DEFAULT');\n\t\t\t}, '');\n\n\t\t\ttry {\n\t\t\t\tvar genericReason = translate('LAVABOOM.API.ERROR.' + error.status);\n\t\t\t\treturn def ? '' + def + ' (' + genericReason + ')' : genericReason;\n\t\t\t} catch (err) {\n\t\t\t\tif (error.body && error.body.message) return error.body.message;\n\n\t\t\t\t// huh? wtf!\n\t\t\t\ttry {\n\t\t\t\t\treturn translate('LAVABOOM.API.ERROR.UNKNOWN');\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// srsly? wtf!\n\t\t\t\t\treturn 'unknown error';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar patchApiMethod = function patchApiMethod(obj, k, callName) {\n\t\tvar originalFunction = obj[k];\n\n\t\tobj[k] = function () {\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tconsole.log('Calling ' + callName, args ? args : '[no args]', '...');\n\t\t\treturn co(regeneratorRuntime.mark(function callee$3$0() {\n\t\t\t\tvar res, formattedError, error;\n\t\t\t\treturn regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {\n\t\t\t\t\twhile (1) switch (context$4$0.prev = context$4$0.next) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tcontext$4$0.prev = 0;\n\t\t\t\t\t\t\tcontext$4$0.next = 3;\n\t\t\t\t\t\t\treturn originalFunction.apply(undefined, args);\n\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tres = context$4$0.sent;\n\n\t\t\t\t\t\t\tconsole.log('' + callName + ': ', res);\n\n\t\t\t\t\t\t\treturn context$4$0.abrupt('return', res);\n\n\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\tcontext$4$0.prev = 8;\n\t\t\t\t\t\t\tcontext$4$0.t42 = context$4$0['catch'](0);\n\t\t\t\t\t\t\tformattedError = formatError(callName, context$4$0.t42);\n\n\t\t\t\t\t\t\t$rootScope.currentErrorMessage = formattedError;\n\n\t\t\t\t\t\t\tconsole.error('' + callName + ' error: ', context$4$0.t42);\n\n\t\t\t\t\t\t\terror = new Error(formattedError);\n\n\t\t\t\t\t\t\terror.original = context$4$0.t42;\n\t\t\t\t\t\t\tthrow error;\n\n\t\t\t\t\t\tcase 16:\n\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\treturn context$4$0.stop();\n\t\t\t\t\t}\n\t\t\t\t}, callee$3$0, this, [[0, 8]]);\n\t\t\t}));\n\t\t};\n\t};\n\n\tfunction wrapApiCall(path, obj, k) {\n\t\tif (angular.isFunction(obj[k])) {\n\t\t\tvar callName = [].concat(babelHelpers.toConsumableArray(path), [k]).join('.');\n\n\t\t\t//console.log('patching LavaboomAPI', callName);\n\t\t\tpatchApiMethod(obj, k, callName);\n\t\t} else wrapApiObject([].concat(babelHelpers.toConsumableArray(path), [k]), obj[k]);\n\t}\n\n\tfunction wrapApiObject(path, obj) {\n\t\tfor (var k in obj) {\n\t\t\tif (obj.hasOwnProperty(k)) wrapApiCall(path, obj, k);\n\t\t}\n\t}\n\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = propsList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar prop = _step.value;\n\n\t\t\twrapApiObject([prop], $delegate[prop]);\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t_iterator['return']();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn $delegate;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvTGF2YWJvb21BUEkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFLO0FBQy9FLEtBQUksU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQzs7QUFFM0csS0FBTSxXQUFXLEdBQUcsU0FBZCxXQUFXLENBQUksUUFBUSxFQUFFLEtBQUssRUFBSztBQUN4QyxVQUFRLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDOztBQUVsQyxNQUFNLFNBQVMsR0FBRyxTQUFaLFNBQVMsQ0FBSSxJQUFJLEVBQUs7QUFDM0IsT0FBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqQyxPQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLEVBQ2xCLE1BQU0sSUFBSSxLQUFLLG9CQUFpQixJQUFJLG1CQUFlLENBQUM7QUFDckQsVUFBTyxDQUFDLENBQUM7R0FDVCxDQUFDOztBQUVGLE1BQUk7QUFDSCxPQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUkseUJBQXlCLEVBQ2hFLE9BQU8sU0FBUywyQkFBMkIsQ0FBQzs7QUFFN0MsVUFBTyxTQUFTLHlCQUF1QixRQUFRLFNBQUksS0FBSyxDQUFDLE1BQU0sQ0FBRyxDQUFDO0dBQ25FLENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDYixPQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO1dBQU0sU0FBUyx5QkFBdUIsUUFBUSxjQUFXO0lBQUEsRUFBRSxFQUFFLENBQUMsQ0FBQzs7QUFFckYsT0FBSTtBQUNILFFBQUksYUFBYSxHQUFHLFNBQVMseUJBQXVCLEtBQUssQ0FBQyxNQUFNLENBQUcsQ0FBQztBQUNwRSxXQUFPLEdBQUcsUUFBTSxHQUFHLFVBQUssYUFBYSxTQUFNLGFBQWEsQ0FBQztJQUN6RCxDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQ2IsUUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUNuQyxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDOzs7QUFHM0IsUUFBSTtBQUNILFlBQU8sU0FBUyw4QkFBOEIsQ0FBQztLQUMvQyxDQUFDLE9BQU8sR0FBRyxFQUFFOztBQUViLFlBQU8sZUFBZSxDQUFDO0tBQ3ZCO0lBQ0Q7R0FDRDtFQUNELENBQUM7O0FBRUYsS0FBSSxjQUFjLEdBQUcsU0FBakIsY0FBYyxDQUFJLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFLO0FBQzFDLE1BQUksZ0JBQWdCLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUU5QixLQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBYTtxQ0FBVCxJQUFJO0FBQUosUUFBSTs7O0FBQ2hCLFVBQU8sQ0FBQyxHQUFHLGNBQVksUUFBUSxFQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3JFLFVBQU8sRUFBRSx5QkFBQztRQUVKLEdBQUcsRUFNSCxjQUFjLEVBS2QsS0FBSzs7Ozs7O2NBWE8sZ0JBQWdCLGtCQUFJLElBQUksQ0FBQzs7O0FBQXJDLFVBQUc7O0FBRVAsY0FBTyxDQUFDLEdBQUcsTUFBSSxRQUFRLFNBQU0sR0FBRyxDQUFDLENBQUM7OzJDQUUzQixHQUFHOzs7OztBQUVOLHFCQUFjLEdBQUcsV0FBVyxDQUFDLFFBQVEsa0JBQU07O0FBQy9DLGlCQUFVLENBQUMsbUJBQW1CLEdBQUcsY0FBYyxDQUFDOztBQUVoRCxjQUFPLENBQUMsS0FBSyxNQUFJLFFBQVEsK0JBQWdCLENBQUM7O0FBRXRDLFlBQUssR0FBSSxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUM7O0FBQ3RDLFlBQUssQ0FBQyxRQUFRLGtCQUFNLENBQUM7YUFDZixLQUFLOzs7Ozs7O0lBRVosRUFBQyxDQUFDO0dBQ0gsQ0FBQztFQUNGLENBQUM7O0FBRUYsVUFBUyxXQUFXLENBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7QUFDbkMsTUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQy9CLE9BQUksUUFBUSxHQUFHLHlDQUFJLElBQUksSUFBRSxDQUFDLEdBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzs7QUFHdEMsaUJBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0dBQ2pDLE1BQ0EsYUFBYSwwQ0FBSyxJQUFJLElBQUUsQ0FBQyxJQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3JDOztBQUVELFVBQVMsYUFBYSxDQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7QUFDbEMsT0FBSSxJQUFJLENBQUMsSUFBSSxHQUFHO0FBQ2YsT0FBSSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUN4QixXQUFXLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztHQUFBO0VBQzVCOzs7Ozs7O0FBRUQsdUJBQWlCLFNBQVMsOEhBQUU7T0FBbkIsSUFBSTs7QUFDWixnQkFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7R0FDdkM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxRQUFPLFNBQVMsQ0FBQztDQUNqQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvTGF2YWJvb21BUEkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oJGRlbGVnYXRlLCAkcm9vdFNjb3BlLCAkdHJhbnNsYXRlLCBjbywgdXRpbHMpID0+IHtcblx0bGV0IHByb3BzTGlzdCA9IFsnaW5mbycsICdhY2NvdW50cycsICdmaWxlcycsICdjb250YWN0cycsICdlbWFpbHMnLCAnbGFiZWxzJywgJ2tleXMnLCAndGhyZWFkcycsICd0b2tlbnMnXTtcblxuXHRjb25zdCBmb3JtYXRFcnJvciA9IChjYWxsTmFtZSwgZXJyb3IpID0+IHtcblx0XHRjYWxsTmFtZSA9IGNhbGxOYW1lLnRvVXBwZXJDYXNlKCk7XG5cblx0XHRjb25zdCB0cmFuc2xhdGUgPSAobmFtZSkgPT4ge1xuXHRcdFx0bGV0IHIgPSAkdHJhbnNsYXRlLmluc3RhbnQobmFtZSk7XG5cdFx0XHRpZiAociA9PSBuYW1lIHx8ICFyKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFRyYW5zbGF0aW9uICcke25hbWV9JyBub3QgZm91bmQhYCk7XG5cdFx0XHRyZXR1cm4gcjtcblx0XHR9O1xuXG5cdFx0dHJ5IHtcblx0XHRcdGlmIChlcnJvci5ib2R5ICYmIGVycm9yLmJvZHkubWVzc2FnZSA9PSAnVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnKVxuXHRcdFx0XHRyZXR1cm4gdHJhbnNsYXRlKGBMQVZBQk9PTS5BUEkuRVJST1IuRE9XTmApO1xuXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlKGBMQVZBQk9PTS5BUEkuRVJST1IuJHtjYWxsTmFtZX0uJHtlcnJvci5zdGF0dXN9YCk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRjb25zdCBkZWYgPSB1dGlscy5kZWYoKCkgPT4gdHJhbnNsYXRlKGBMQVZBQk9PTS5BUEkuRVJST1IuJHtjYWxsTmFtZX0uREVGQVVMVGApLCAnJyk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGxldCBnZW5lcmljUmVhc29uID0gdHJhbnNsYXRlKGBMQVZBQk9PTS5BUEkuRVJST1IuJHtlcnJvci5zdGF0dXN9YCk7XG5cdFx0XHRcdHJldHVybiBkZWYgPyBgJHtkZWZ9ICgke2dlbmVyaWNSZWFzb259KWAgOiBnZW5lcmljUmVhc29uO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGlmIChlcnJvci5ib2R5ICYmIGVycm9yLmJvZHkubWVzc2FnZSlcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3IuYm9keS5tZXNzYWdlO1xuXG5cdFx0XHRcdC8vIGh1aD8gd3RmIVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJldHVybiB0cmFuc2xhdGUoYExBVkFCT09NLkFQSS5FUlJPUi5VTktOT1dOYCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdC8vIHNyc2x5PyB3dGYhXG5cdFx0XHRcdFx0cmV0dXJuICd1bmtub3duIGVycm9yJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRsZXQgcGF0Y2hBcGlNZXRob2QgPSAob2JqLCBrLCBjYWxsTmFtZSkgPT4ge1xuXHRcdGxldCBvcmlnaW5hbEZ1bmN0aW9uID0gb2JqW2tdO1xuXG5cdFx0b2JqW2tdID0gKC4uLmFyZ3MpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGBDYWxsaW5nICR7Y2FsbE5hbWV9YCwgYXJncyA/IGFyZ3MgOiAnW25vIGFyZ3NdJywgJy4uLicpO1xuXHRcdFx0cmV0dXJuIGNvKGZ1bmN0aW9uICooKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IHJlcyA9IHlpZWxkIG9yaWdpbmFsRnVuY3Rpb24oLi4uYXJncyk7XG5cblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgJHtjYWxsTmFtZX06IGAsIHJlcyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVzO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRsZXQgZm9ybWF0dGVkRXJyb3IgPSBmb3JtYXRFcnJvcihjYWxsTmFtZSwgZXJyKTtcblx0XHRcdFx0XHQkcm9vdFNjb3BlLmN1cnJlbnRFcnJvck1lc3NhZ2UgPSBmb3JtYXR0ZWRFcnJvcjtcblxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYCR7Y2FsbE5hbWV9IGVycm9yOiBgLCBlcnIpO1xuXG5cdFx0XHRcdFx0bGV0IGVycm9yID0gIG5ldyBFcnJvcihmb3JtYXR0ZWRFcnJvcik7XG5cdFx0XHRcdFx0ZXJyb3Iub3JpZ2luYWwgPSBlcnI7XG5cdFx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cdH07XG5cblx0ZnVuY3Rpb24gd3JhcEFwaUNhbGwgKHBhdGgsIG9iaiwgaykge1xuXHRcdGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ob2JqW2tdKSkge1xuXHRcdFx0bGV0IGNhbGxOYW1lID0gWy4uLnBhdGgsIGtdLmpvaW4oJy4nKTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygncGF0Y2hpbmcgTGF2YWJvb21BUEknLCBjYWxsTmFtZSk7XG5cdFx0XHRwYXRjaEFwaU1ldGhvZChvYmosIGssIGNhbGxOYW1lKTtcblx0XHR9IGVsc2Vcblx0XHRcdHdyYXBBcGlPYmplY3QoWy4uLnBhdGgsIGtdLCBvYmpba10pO1xuXHR9XG5cblx0ZnVuY3Rpb24gd3JhcEFwaU9iamVjdCAocGF0aCwgb2JqKSB7XG5cdFx0Zm9yKGxldCBrIGluIG9iailcblx0XHRcdGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpXG5cdFx0XHRcdHdyYXBBcGlDYWxsKHBhdGgsIG9iaiwgayk7XG5cdH1cblxuXHRmb3IgKGxldCBwcm9wIG9mIHByb3BzTGlzdCkge1xuXHRcdHdyYXBBcGlPYmplY3QoW3Byb3BdLCAkZGVsZWdhdGVbcHJvcF0pO1xuXHR9XG5cblx0cmV0dXJuICRkZWxlZ2F0ZTtcbn07Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/crypto.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($delegate, $rootScope, co, consts, Cache, Proxy) {\n\tvar self = $delegate;\n\n\tvar proxy = new Proxy($delegate);\n\tvar cache = new Cache('crypto cache', {\n\t\tttl: consts.CRYPTO_CACHE_TTL\n\t});\n\n\tproxy.methodCall('decodeRaw', regeneratorRuntime.mark(function callee$1$0(decodeRaw, args) {\n\t\tvar _args, message, key, value;\n\n\t\treturn regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {\n\t\t\twhile (1) switch (context$2$0.prev = context$2$0.next) {\n\t\t\t\tcase 0:\n\t\t\t\t\t_args = babelHelpers.slicedToArray(args, 1);\n\t\t\t\t\tmessage = _args[0];\n\n\t\t\t\t\tif (message) {\n\t\t\t\t\t\tcontext$2$0.next = 6;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext$2$0.next = 5;\n\t\t\t\t\treturn decodeRaw.apply(undefined, babelHelpers.toConsumableArray(args));\n\n\t\t\t\tcase 5:\n\t\t\t\t\treturn context$2$0.abrupt('return', context$2$0.sent);\n\n\t\t\t\tcase 6:\n\t\t\t\t\tif (!(message.length < consts.CRYPTO_CACHE_MAX_ENTRY_SIZE)) {\n\t\t\t\t\t\tcontext$2$0.next = 15;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = openpgp.crypto.hash.md5(message);\n\t\t\t\t\tvalue = cache.get(key);\n\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tcontext$2$0.next = 14;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext$2$0.next = 12;\n\t\t\t\t\treturn decodeRaw.apply(undefined, babelHelpers.toConsumableArray(args));\n\n\t\t\t\tcase 12:\n\t\t\t\t\tvalue = context$2$0.sent;\n\n\t\t\t\t\tcache.put(key, value);\n\n\t\t\t\tcase 14:\n\t\t\t\t\treturn context$2$0.abrupt('return', value);\n\n\t\t\t\tcase 15:\n\t\t\t\t\tcontext$2$0.next = 17;\n\t\t\t\t\treturn decodeRaw.apply(undefined, babelHelpers.toConsumableArray(args));\n\n\t\t\t\tcase 17:\n\t\t\t\t\treturn context$2$0.abrupt('return', context$2$0.sent);\n\n\t\t\t\tcase 18:\n\t\t\t\tcase 'end':\n\t\t\t\t\treturn context$2$0.stop();\n\t\t\t}\n\t\t}, callee$1$0, this);\n\t}));\n\n\t$delegate.invalidateCryptoCache = function () {\n\t\tcache.invalidateAll();\n\t};\n\n\t$rootScope.whenInitialized(function () {\n\t\t$rootScope.$on('keyring-updated', function () {\n\t\t\tself.invalidateCryptoCache();\n\t\t});\n\t\t$rootScope.$on('logout', function () {\n\t\t\tself.invalidateCryptoCache();\n\t\t});\n\t});\n\n\treturn $delegate;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvY3J5cHRvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUs7QUFDbEYsS0FBTSxJQUFJLEdBQUcsU0FBUyxDQUFDOztBQUV2QixLQUFNLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNuQyxLQUFNLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxjQUFjLEVBQUU7QUFDdkMsS0FBRyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0I7RUFDNUIsQ0FBQyxDQUFDOztBQUVILE1BQUssQ0FBQyxVQUFVLENBQUMsV0FBVywwQkFBRSxvQkFBVyxTQUFTLEVBQUUsSUFBSTthQUNoRCxPQUFPLEVBTVAsR0FBRyxFQUVMLEtBQUs7Ozs7O3dDQVJRLElBQUk7QUFBZixZQUFPOztTQUVULE9BQU87Ozs7OztZQUNFLFNBQVMsaURBQUksSUFBSSxFQUFDOzs7Ozs7V0FFNUIsT0FBTyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsMkJBQTJCLENBQUE7Ozs7O0FBQ2hELFFBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO0FBRXhDLFVBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQzs7U0FDckIsS0FBSzs7Ozs7O1lBQ0ssU0FBUyxpREFBSSxJQUFJLEVBQUM7OztBQUFoQyxVQUFLOztBQUNMLFVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDOzs7eUNBR2hCLEtBQUs7Ozs7WUFHQSxTQUFTLGlEQUFJLElBQUksRUFBQzs7Ozs7Ozs7OztFQUMvQixFQUFDLENBQUM7O0FBRUgsVUFBUyxDQUFDLHFCQUFxQixHQUFHLFlBQU07QUFDdkMsT0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDO0VBQ3RCLENBQUM7O0FBRUYsV0FBVSxDQUFDLGVBQWUsQ0FBQyxZQUFNO0FBQ2hDLFlBQVUsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsWUFBTTtBQUN2QyxPQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztHQUM3QixDQUFDLENBQUM7QUFDSCxZQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxZQUFNO0FBQzlCLE9BQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0dBQzdCLENBQUMsQ0FBQztFQUNILENBQUMsQ0FBQzs7QUFFSCxRQUFPLFNBQVMsQ0FBQztDQUNqQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RlY29yYXRvcnMvY3J5cHRvLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAvKkBuZ0luamVjdCovKCRkZWxlZ2F0ZSwgJHJvb3RTY29wZSwgY28sIGNvbnN0cywgQ2FjaGUsIFByb3h5KSA9PiB7XG5cdGNvbnN0IHNlbGYgPSAkZGVsZWdhdGU7XG5cblx0Y29uc3QgcHJveHkgPSBuZXcgUHJveHkoJGRlbGVnYXRlKTtcblx0Y29uc3QgY2FjaGUgPSBuZXcgQ2FjaGUoJ2NyeXB0byBjYWNoZScsIHtcblx0XHR0dGw6IGNvbnN0cy5DUllQVE9fQ0FDSEVfVFRMXG5cdH0pO1xuXG5cdHByb3h5Lm1ldGhvZENhbGwoJ2RlY29kZVJhdycsIGZ1bmN0aW9uICooZGVjb2RlUmF3LCBhcmdzKSB7XG5cdFx0Y29uc3QgW21lc3NhZ2VdID0gYXJncztcblxuXHRcdGlmICghbWVzc2FnZSlcblx0XHRcdHJldHVybiB5aWVsZCBkZWNvZGVSYXcoLi4uYXJncyk7XG5cblx0XHRpZiAobWVzc2FnZS5sZW5ndGggPCBjb25zdHMuQ1JZUFRPX0NBQ0hFX01BWF9FTlRSWV9TSVpFKSB7XG5cdFx0XHRjb25zdCBrZXkgPSBvcGVucGdwLmNyeXB0by5oYXNoLm1kNShtZXNzYWdlKTtcblxuXHRcdFx0bGV0IHZhbHVlID0gY2FjaGUuZ2V0KGtleSk7XG5cdFx0XHRpZiAoIXZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0geWllbGQgZGVjb2RlUmF3KC4uLmFyZ3MpO1xuXHRcdFx0XHRjYWNoZS5wdXQoa2V5LCB2YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4geWllbGQgZGVjb2RlUmF3KC4uLmFyZ3MpO1xuXHR9KTtcblxuXHQkZGVsZWdhdGUuaW52YWxpZGF0ZUNyeXB0b0NhY2hlID0gKCkgPT4ge1xuXHRcdGNhY2hlLmludmFsaWRhdGVBbGwoKTtcblx0fTtcblxuXHQkcm9vdFNjb3BlLndoZW5Jbml0aWFsaXplZCgoKSA9PiB7XG5cdFx0JHJvb3RTY29wZS4kb24oJ2tleXJpbmctdXBkYXRlZCcsICgpID0+IHtcblx0XHRcdHNlbGYuaW52YWxpZGF0ZUNyeXB0b0NhY2hlKCk7XG5cdFx0fSk7XG5cdFx0JHJvb3RTY29wZS4kb24oJ2xvZ291dCcsICgpID0+IHtcblx0XHRcdHNlbGYuaW52YWxpZGF0ZUNyeXB0b0NhY2hlKCk7XG5cdFx0fSk7XG5cdH0pO1xuXG5cdHJldHVybiAkZGVsZWdhdGU7XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/a.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function () {\n\treturn {\n\t\trestrict: 'E',\n\t\tlink: function link(scope, elem, attrs) {\n\t\t\tif (attrs.ngClick || attrs.href === '' || attrs.href === '#') {\n\t\t\t\telem.on('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQjtRQUFPO0FBQ3BDLFVBQVEsRUFBRSxHQUFHO0FBQ2IsTUFBSSxFQUFFLGNBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUs7QUFDN0IsT0FBRyxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssR0FBRyxFQUFDO0FBQzNELFFBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFVBQUMsQ0FBQyxFQUFLO0FBQ3ZCLE1BQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztLQUNuQixDQUFDLENBQUM7SUFDSDtHQUNEO0VBQ0Q7Q0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqLygpID0+ICh7XG5cdHJlc3RyaWN0OiAnRScsXG5cdGxpbms6IChzY29wZSwgZWxlbSwgYXR0cnMpID0+IHtcblx0XHRpZihhdHRycy5uZ0NsaWNrIHx8IGF0dHJzLmhyZWYgPT09ICcnIHx8IGF0dHJzLmhyZWYgPT09ICcjJyl7XG5cdFx0XHRlbGVtLm9uKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufSk7Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/fileSelect.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($parse) {\n\treturn {\n\t\tlink: function link(scope, element, attrs) {\n\t\t\tvar getFile = $parse(attrs.getFile);\n\t\t\telement.bind('change', function (e) {\n\t\t\t\tgetFile(scope, { file: (e.srcElement || e.target).files[0] });\n\t\t\t});\n\t\t}\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvZmlsZVNlbGVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFDLE1BQU07UUFBTTtBQUMxQyxNQUFJLEVBQUUsY0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBSztBQUNoQyxPQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3RDLFVBQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFVBQUMsQ0FBQyxFQUFLO0FBQzdCLFdBQU8sQ0FBQyxLQUFLLEVBQUUsRUFBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUEsQ0FBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO0lBQzVELENBQUMsQ0FBQztHQUNIO0VBQ0Q7Q0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvZmlsZVNlbGVjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqLygkcGFyc2UpID0+ICh7XG5cdGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpID0+IHtcblx0XHRjb25zdCBnZXRGaWxlID0gJHBhcnNlKGF0dHJzLmdldEZpbGUpO1xuXHRcdGVsZW1lbnQuYmluZCgnY2hhbmdlJywgKGUpID0+IHtcblx0XHRcdGdldEZpbGUoc2NvcGUsIHtmaWxlOiAoZS5zcmNFbGVtZW50IHx8IGUudGFyZ2V0KS5maWxlc1swXX0pO1xuXHRcdH0pO1xuXHR9XG59KTtcbiJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/focus.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($timeout) {\n\treturn {\n\t\tlink: function link(scope, element, attrs) {\n\t\t\tscope.$watch(attrs.focus, function (val) {\n\t\t\t\tif (angular.isDefined(val) && val) {\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\telement[0].focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t\telement.bind('blur', function () {\n\t\t\t\tif (angular.isDefined(attrs.focusLost)) {\n\t\t\t\t\tscope.$apply(attrs.focusLost);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvZm9jdXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBaUIsVUFBQyxRQUFRO1FBQU07QUFDN0MsTUFBSSxFQUFFLGNBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQU07QUFDbEMsUUFBSyxDQUFDLE1BQU0sQ0FBRSxLQUFLLENBQUMsS0FBSyxFQUFFLFVBQUEsR0FBRyxFQUFJO0FBQ2pDLFFBQUssT0FBTyxDQUFDLFNBQVMsQ0FBRSxHQUFHLENBQUUsSUFBSSxHQUFHLEVBQUc7QUFDdEMsYUFBUSxDQUFFLFlBQU07QUFBRSxhQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7TUFBRSxDQUFFLENBQUM7S0FDMUM7SUFDRCxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUVULFVBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFlBQU07QUFDMUIsUUFBSyxPQUFPLENBQUMsU0FBUyxDQUFFLEtBQUssQ0FBQyxTQUFTLENBQUUsRUFBRztBQUMzQyxVQUFLLENBQUMsTUFBTSxDQUFFLEtBQUssQ0FBQyxTQUFTLENBQUUsQ0FBQztLQUNoQztJQUNELENBQUMsQ0FBQztHQUNIO0VBQ0Q7Q0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvZm9jdXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8gKCR0aW1lb3V0KSA9PiAoe1xuXHRsaW5rOiAoIHNjb3BlLCBlbGVtZW50LCBhdHRycyApID0+IHtcblx0XHRzY29wZS4kd2F0Y2goIGF0dHJzLmZvY3VzLCB2YWwgPT4ge1xuXHRcdFx0aWYgKCBhbmd1bGFyLmlzRGVmaW5lZCggdmFsICkgJiYgdmFsICkge1xuXHRcdFx0XHQkdGltZW91dCggKCkgPT4geyBlbGVtZW50WzBdLmZvY3VzKCk7IH0gKTtcblx0XHRcdH1cblx0XHR9LCB0cnVlKTtcblxuXHRcdGVsZW1lbnQuYmluZCgnYmx1cicsICgpID0+IHtcblx0XHRcdGlmICggYW5ndWxhci5pc0RlZmluZWQoIGF0dHJzLmZvY3VzTG9zdCApICkge1xuXHRcdFx0XHRzY29wZS4kYXBwbHkoIGF0dHJzLmZvY3VzTG9zdCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTsiXX0=","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/match.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function () {\n\treturn {\n\t\trequire: 'ngModel',\n\t\tscope: {\n\t\t\totherModelValue: '=match'\n\t\t},\n\t\tlink: function link(scope, element, attributes, ngModel) {\n\t\t\tngModel.$validators.match = function (modelValue) {\n\t\t\t\treturn modelValue == scope.otherModelValue;\n\t\t\t};\n\t\t\tscope.$watch('otherModelValue', function () {\n\t\t\t\treturn ngModel.$validate();\n\t\t\t});\n\t\t}\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2RpcmVjdGl2ZXMvbWF0Y2guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0I7UUFBTztBQUNwQyxTQUFPLEVBQUUsU0FBUztBQUNsQixPQUFLLEVBQUU7QUFDTixrQkFBZSxFQUFFLFFBQVE7R0FDekI7QUFDRCxNQUFJLEVBQUUsY0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUs7QUFDOUMsVUFBTyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsVUFBQSxVQUFVO1dBQUksVUFBVSxJQUFJLEtBQUssQ0FBQyxlQUFlO0lBQUEsQ0FBQztBQUM5RSxRQUFLLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFO1dBQU0sT0FBTyxDQUFDLFNBQVMsRUFBRTtJQUFBLENBQUMsQ0FBQztHQUMzRDtFQUNEO0NBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9kaXJlY3RpdmVzL21hdGNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAvKkBuZ0luamVjdCovKCkgPT4gKHtcblx0cmVxdWlyZTogJ25nTW9kZWwnLFxuXHRzY29wZToge1xuXHRcdG90aGVyTW9kZWxWYWx1ZTogJz1tYXRjaCdcblx0fSxcblx0bGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGVzLCBuZ01vZGVsKSA9PiB7XG5cdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5tYXRjaCA9IG1vZGVsVmFsdWUgPT4gbW9kZWxWYWx1ZSA9PSBzY29wZS5vdGhlck1vZGVsVmFsdWU7XG5cdFx0c2NvcGUuJHdhdGNoKCdvdGhlck1vZGVsVmFsdWUnLCAoKSA9PiBuZ01vZGVsLiR2YWxpZGF0ZSgpKTtcblx0fVxufSk7Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/factories/cache.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function (co) {\n\tfunction Cache(name) {\n\t\tvar opts = arguments[1] === undefined ? {} : arguments[1];\n\n\t\tvar cacheByKey = {};\n\t\tvar cacheById = {};\n\t\tvar self = this;\n\n\t\tconsole.log('construct Cache instance name: ', name, 'options:', opts);\n\n\t\tif (!opts.unfold) opts.unfold = null;\n\t\tif (!opts.list) opts.list = function (value) {\n\t\t\treturn value;\n\t\t};\n\n\t\tthis.get = function (key) {\n\t\t\tvar r = cacheByKey[key];\n\t\t\tif (!r) return null;\n\n\t\t\tvar now = new Date();\n\n\t\t\tif (now - r.time > opts.ttl) {\n\t\t\t\tconsole.log('cache(1) ', name, 'invalidate:', now, r.time);\n\t\t\t\tself.invalidate(key);\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn r.value;\n\t\t};\n\n\t\tthis.getById = function (id) {\n\t\t\tvar r = cacheById[id];\n\t\t\tif (!r) return null;\n\n\t\t\tvar rList = cacheByKey[r.key];\n\n\t\t\tvar now = new Date();\n\n\t\t\tif (now - rList.time > opts.ttl) {\n\t\t\t\tself.invalidate(r.key);\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn r.value;\n\t\t};\n\n\t\tthis.removeById = function (id) {\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = Object.keys(cacheByKey)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar key = _step.value;\n\n\t\t\t\t\tvar list = opts.list(cacheByKey[key].value);\n\t\t\t\t\tvar index = list.findIndex(function (item) {\n\t\t\t\t\t\treturn opts.unfold(item) == id;\n\t\t\t\t\t});\n\t\t\t\t\tif (index > -1) list.splice(index, 1);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdelete cacheById[id];\n\t\t};\n\n\t\tthis.exposeIds = function () {\n\t\t\treturn Object.keys(cacheById).reduce(function (a, id) {\n\t\t\t\ta[id] = cacheById[id].value;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t};\n\n\t\tthis.exposeKeys = function (key) {\n\t\t\treturn cacheByKey[key] ? cacheByKey[key].value : null;\n\t\t};\n\n\t\tthis.put = function (key, value) {\n\t\t\tvar date = new Date();\n\n\t\t\tcacheByKey[key] = {\n\t\t\t\tvalue: value,\n\t\t\t\ttime: date\n\t\t\t};\n\n\t\t\tif (opts.unfold) opts.list(value).forEach(function (item) {\n\t\t\t\tvar id = opts.unfold(item);\n\t\t\t\tcacheById[id] = {\n\t\t\t\t\tvalue: item,\n\t\t\t\t\tkey: key\n\t\t\t\t};\n\t\t\t});\n\t\t};\n\n\t\tthis.unshiftOnlyIfKeyIsPreset = function (key, item) {\n\t\t\tvar r = cacheByKey[key];\n\t\t\tif (!r) return false;\n\n\t\t\tvar now = new Date();\n\n\t\t\tif (now - r.time > opts.ttl) {\n\t\t\t\tconsole.log('cache(3) ', name, 'invalidate:', now, r.time);\n\t\t\t\tself.invalidate(key);\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\topts.list(r.value).unshift(item);\n\n\t\t\tif (opts.unfold) {\n\t\t\t\tvar id = opts.unfold(item);\n\t\t\t\tcacheById[id] = {\n\t\t\t\t\tvalue: item,\n\t\t\t\t\tkey: key\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\tthis.invalidate = function (key) {\n\t\t\tif (cacheByKey[key]) {\n\t\t\t\tvar value = cacheByKey[key].value;\n\t\t\t\tif (opts.unfold) opts.list(value).forEach(function (item) {\n\t\t\t\t\tvar id = opts.unfold(item);\n\t\t\t\t\tdelete cacheById[id];\n\t\t\t\t});\n\t\t\t\tdelete cacheByKey[key];\n\t\t\t}\n\t\t};\n\n\t\tthis.invalidateAll = function () {\n\t\t\tcacheByKey = {};\n\t\t\tcacheById = {};\n\t\t};\n\t}\n\n\treturn Cache;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2ZhY3Rvcmllcy9jYWNoZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFDLEVBQUUsRUFBSztBQUNyQyxVQUFTLEtBQUssQ0FBRSxJQUFJLEVBQWE7TUFBWCxJQUFJLGdDQUFHLEVBQUU7O0FBQzlCLE1BQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNwQixNQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDbkIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUVsQixTQUFPLENBQUMsR0FBRyxDQUFDLGlDQUFpQyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7O0FBRXZFLE1BQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUNmLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLE1BQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBQSxLQUFLO1VBQUksS0FBSztHQUFBLENBQUM7O0FBRTVCLE1BQUksQ0FBQyxHQUFHLEdBQUcsVUFBQyxHQUFHLEVBQUs7QUFDbkIsT0FBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLE9BQUksQ0FBQyxDQUFDLEVBQ0wsT0FBTyxJQUFJLENBQUM7O0FBRWIsT0FBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQzs7QUFFdkIsT0FBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFO0FBQzVCLFdBQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzRCxRQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FB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LENBQUM7QUFDSixXQUFPLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN2QjtHQUNELENBQUM7O0FBRUYsTUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFNO0FBQzFCLGFBQVUsR0FBRyxFQUFFLENBQUM7QUFDaEIsWUFBUyxHQUFHLEVBQUUsQ0FBQztHQUNmLENBQUM7RUFDRjs7QUFFRCxRQUFPLEtBQUssQ0FBQztDQUNiLENBQUMiLCJmaWxlIjoiL1VzZXJzL3BpZ2d5c2xhc2hlci9TaXRlcy9sYXZhYm9vbS13ZWIvc3JjL2pzL2FwcHMvVXRpbHMvZmFjdG9yaWVzL2NhY2hlLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAvKkBuZ0luamVjdCovKGNvKSA9PiB7XG5cdGZ1bmN0aW9uIENhY2hlIChuYW1lLCBvcHRzID0ge30pIHtcblx0XHRsZXQgY2FjaGVCeUtleSA9IHt9O1xuXHRcdGxldCBjYWNoZUJ5SWQgPSB7fTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblxuXHRcdGNvbnNvbGUubG9nKCdjb25zdHJ1Y3QgQ2FjaGUgaW5zdGFuY2UgbmFtZTogJywgbmFtZSwgJ29wdGlvbnM6Jywgb3B0cyk7XG5cblx0XHRpZiAoIW9wdHMudW5mb2xkKVxuXHRcdFx0b3B0cy51bmZvbGQgPSBudWxsO1xuXHRcdGlmICghb3B0cy5saXN0KVxuXHRcdFx0b3B0cy5saXN0ID0gdmFsdWUgPT4gdmFsdWU7XG5cdFx0XG5cdFx0dGhpcy5nZXQgPSAoa2V5KSA9PiB7XG5cdFx0XHRjb25zdCByID0gY2FjaGVCeUtleVtrZXldO1xuXHRcdFx0aWYgKCFyKVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuXHRcdFx0aWYgKG5vdyAtIHIudGltZSA+IG9wdHMudHRsKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdjYWNoZSgxKSAnLCBuYW1lLCAnaW52YWxpZGF0ZTonLCBub3csIHIudGltZSk7XG5cdFx0XHRcdHNlbGYuaW52YWxpZGF0ZShrZXkpO1xuXG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gci52YWx1ZTtcblx0XHR9O1xuXG5cdFx0dGhpcy5nZXRCeUlkID0gKGlkKSA9PiB7XG5cdFx0XHRjb25zdCByID0gY2FjaGVCeUlkW2lkXTtcblx0XHRcdGlmICghcilcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdGNvbnN0IHJMaXN0ID0gY2FjaGVCeUtleVtyLmtleV07XG5cblx0XHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cblx0XHRcdGlmIChub3cgLSByTGlzdC50aW1lID4gb3B0cy50dGwpIHtcblx0XHRcdFx0c2VsZi5pbnZhbGlkYXRlKHIua2V5KTtcblxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHIudmFsdWU7XG5cdFx0fTtcblxuXHRcdHRoaXMucmVtb3ZlQnlJZCA9IChpZCkgPT4ge1xuXHRcdFx0Zm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoY2FjaGVCeUtleSkpIHtcblx0XHRcdFx0Y29uc3QgbGlzdCA9IG9wdHMubGlzdChjYWNoZUJ5S2V5W2tleV0udmFsdWUpO1xuXHRcdFx0XHRsZXQgaW5kZXggPSBsaXN0LmZpbmRJbmRleChpdGVtID0+IG9wdHMudW5mb2xkKGl0ZW0pID09IGlkKTtcblx0XHRcdFx0aWYgKGluZGV4ID4gLTEpXG5cdFx0XHRcdFx0bGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIGNhY2hlQnlJZFtpZF07XG5cdFx0fTtcblxuXHRcdHRoaXMuZXhwb3NlSWRzID0gKCkgPT5cblx0XHRcdE9iamVjdC5rZXlzKGNhY2hlQnlJZCkucmVkdWNlKChhLCBpZCkgPT4ge1xuXHRcdFx0XHRhW2lkXSA9IGNhY2hlQnlJZFtpZF0udmFsdWU7XG5cdFx0XHRcdHJldHVybiBhO1xuXHRcdFx0fSwge30pO1xuXG5cdFx0dGhpcy5leHBvc2VLZXlzID0gKGtleSkgPT4gY2FjaGVCeUtleVtrZXldID8gY2FjaGVCeUtleVtrZXldLnZhbHVlIDogbnVsbDtcblxuXHRcdHRoaXMucHV0ID0gKGtleSwgdmFsdWUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXG5cdFx0XHRjYWNoZUJ5S2V5W2tleV0gPSB7XG5cdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0dGltZTogZGF0ZVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKG9wdHMudW5mb2xkKVxuXHRcdFx0XHRvcHRzLmxpc3QodmFsdWUpLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgaWQgPSBvcHRzLnVuZm9sZChpdGVtKTtcblx0XHRcdFx0XHRjYWNoZUJ5SWRbaWRdID0ge1xuXHRcdFx0XHRcdFx0dmFsdWU6IGl0ZW0sXG5cdFx0XHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR0aGlzLnVuc2hpZnRPbmx5SWZLZXlJc1ByZXNldCA9IChrZXksIGl0ZW0pID0+IHtcblx0XHRcdGNvbnN0IHIgPSBjYWNoZUJ5S2V5W2tleV07XG5cdFx0XHRpZiAoIXIpXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuXHRcdFx0aWYgKG5vdyAtIHIudGltZSA+IG9wdHMudHRsKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdjYWNoZSgzKSAnLCBuYW1lLCAnaW52YWxpZGF0ZTonLCBub3csIHIudGltZSk7XG5cdFx0XHRcdHNlbGYuaW52YWxpZGF0ZShrZXkpO1xuXG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRvcHRzLmxpc3Qoci52YWx1ZSkudW5zaGlmdChpdGVtKTtcblxuXHRcdFx0aWYgKG9wdHMudW5mb2xkKSB7XG5cdFx0XHRcdGNvbnN0IGlkID0gb3B0cy51bmZvbGQoaXRlbSk7XG5cdFx0XHRcdGNhY2hlQnlJZFtpZF0gPSB7XG5cdFx0XHRcdFx0dmFsdWU6IGl0ZW0sXG5cdFx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fTtcblxuXHRcdHRoaXMuaW52YWxpZGF0ZSA9IChrZXkpID0+IHtcblx0XHRcdGlmIChjYWNoZUJ5S2V5W2tleV0pIHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBjYWNoZUJ5S2V5W2tleV0udmFsdWU7XG5cdFx0XHRcdGlmIChvcHRzLnVuZm9sZClcblx0XHRcdFx0XHRvcHRzLmxpc3QodmFsdWUpLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBpZCA9IG9wdHMudW5mb2xkKGl0ZW0pO1xuXHRcdFx0XHRcdFx0ZGVsZXRlIGNhY2hlQnlJZFtpZF07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZUJ5S2V5W2tleV07XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMuaW52YWxpZGF0ZUFsbCA9ICgpID0+IHtcblx0XHRcdGNhY2hlQnlLZXkgPSB7fTtcblx0XHRcdGNhY2hlQnlJZCA9IHt9O1xuXHRcdH07XG5cdH1cblxuXHRyZXR1cm4gQ2FjaGU7XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/factories/cryptoKeysStorage.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function (co, utils) {\n\tvar prefix = 'lava-openpgp-';\n\tvar publicKeysItem = 'public-keys';\n\tvar privateKeysItem = 'private-keys';\n\n\tvar publicName = prefix + publicKeysItem;\n\tvar privateName = prefix + privateKeysItem;\n\tvar privateSecureName = prefix + 'secure-' + privateKeysItem;\n\n\t/*\n  isPrivateComputer: store decrypted private keys in local storage\n  isShortMemory: store both encrypted and decrypted private keys in session storage only\n  normally we want isShortMemory only when Lavaboom Sync is enabled and all our encrypted private keys were synced\n \t loadOnlyForEmails: load private and public keys that match only those email\n  isLoadDecrypted: load decrypted private keys\n  */\n\n\tfunction CryptoKeysStorage() {\n\t\tvar isPrivateComputer = arguments[0] === undefined ? false : arguments[0];\n\t\tvar isShortMemory = arguments[1] === undefined ? false : arguments[1];\n\t\tvar loadOnlyForEmails = arguments[2] === undefined ? [] : arguments[2];\n\t\tvar isLoadDecrypted = arguments[3] === undefined ? false : arguments[3];\n\n\t\tvar self = this;\n\n\t\tconsole.log('CryptoKeysStorage created, isPrivateComputer:', isPrivateComputer, 'isShortMemory:', isShortMemory, 'loadOnlyForEmails:', loadOnlyForEmails, 'isLoadDecrypted:', isLoadDecrypted);\n\n\t\tvar loadKeys = function loadKeys(storage, name) {\n\t\t\tvar notForEmail = arguments[2] === undefined ? '' : arguments[2];\n\t\t\tvar onlyForEmail = arguments[3] === undefined ? '' : arguments[3];\n\n\t\t\tvar keys = [];\n\t\t\tvar armoredKeys = utils.def(function () {\n\t\t\t\treturn JSON.parse(storage[name]);\n\t\t\t}, null);\n\n\t\t\tif (armoredKeys && armoredKeys.length > 0) {\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = armoredKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar keyArmored = _step.value;\n\n\t\t\t\t\t\tvar key = openpgp.key.readArmored(keyArmored);\n\t\t\t\t\t\tif (!key.err) {\n\t\t\t\t\t\t\tvar email = utils.getEmailFromAddressString(key.keys[0].users[0].userId.userid);\n\n\t\t\t\t\t\t\tif (notForEmail) {\n\t\t\t\t\t\t\t\tif (email != notForEmail) keys.push(key.keys[0]);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (onlyForEmail) {\n\t\t\t\t\t\t\t\tif (email == onlyForEmail) keys.push(key.keys[0]);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (loadOnlyForEmails.length < 1 || loadOnlyForEmails.includes(email)) keys.push(key.keys[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn keys;\n\t\t};\n\n\t\tvar replaceKeys = function replaceKeys(dstKeys, srcKeys) {\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tvar _loop = function () {\n\t\t\t\t\tvar srcKey = _step2.value;\n\n\t\t\t\t\tvar i = dstKeys.findIndex(function (k) {\n\t\t\t\t\t\treturn k.primaryKey.fingerprint == srcKey.primaryKey.fingerprint;\n\t\t\t\t\t});\n\t\t\t\t\tif (i < 0) dstKeys.push(srcKey);else dstKeys[i] = srcKey;\n\t\t\t\t};\n\n\t\t\t\tfor (var _iterator2 = srcKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t_loop();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t\t\t\t\t\t_iterator2['return']();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar storeKeys = function storeKeys(storage, name, keys) {\n\t\t\tvar armoredKeys = keys.map(function (k) {\n\t\t\t\treturn k.armor();\n\t\t\t});\n\t\t\tstorage[name] = JSON.stringify(armoredKeys);\n\t\t};\n\n\t\tthis.clearAllKeys = function () {\n\t\t\tdelete localStorage[privateName];\n\t\t\tdelete localStorage[publicName];\n\t\t\tself.clearDecryptedPrivateKeys();\n\t\t};\n\n\t\tthis.clearDecryptedPrivateKeys = function () {\n\t\t\tdelete localStorage[privateSecureName];\n\t\t\tdelete sessionStorage[privateSecureName];\n\t\t};\n\n\t\tthis.clearPermanentPrivateKeysForEmail = function (email) {\n\t\t\tvar rPrivateKeys = loadKeys(localStorage, privateName, '', email);\n\t\t\tvar rPrivateSecuredKeys = loadKeys(localStorage, privateSecureName, '', email);\n\n\t\t\tstoreKeys(localStorage, privateName, loadKeys(localStorage, privateName, email));\n\t\t\tstoreKeys(localStorage, privateSecureName, loadKeys(localStorage, privateSecureName, email));\n\n\t\t\treplaceKeys(rPrivateKeys, loadKeys(sessionStorage, privateName, '', email));\n\t\t\treplaceKeys(rPrivateSecuredKeys, loadKeys(sessionStorage, privateSecureName, '', email));\n\n\t\t\treturn [rPrivateKeys, rPrivateSecuredKeys];\n\t\t};\n\n\t\tthis.loadPublic = function () {\n\t\t\treturn loadKeys(localStorage, publicName);\n\t\t};\n\n\t\tthis.loadPrivate = function () {\n\t\t\tvar keys = loadKeys(localStorage, privateName);\n\t\t\treplaceKeys(keys, loadKeys(sessionStorage, privateName));\n\n\t\t\tif (isLoadDecrypted) {\n\t\t\t\treplaceKeys(keys, loadKeys(localStorage, privateSecureName));\n\t\t\t\treplaceKeys(keys, loadKeys(sessionStorage, privateSecureName));\n\t\t\t}\n\n\t\t\treturn keys;\n\t\t};\n\n\t\tthis.storePublic = function (keys) {\n\t\t\tstoreKeys(localStorage, publicName, keys);\n\t\t};\n\n\t\tvar storePrivateKeys = function storePrivateKeys(storage, name, keys) {\n\t\t\tvar existingKeys = loadKeys(storage, name);\n\t\t\treplaceKeys(existingKeys, keys);\n\t\t\tstoreKeys(storage, name, existingKeys);\n\t\t};\n\n\t\tthis.storePrivate = function (keys) {\n\t\t\tconsole.log('storePrivate called, isShortMemory:', isShortMemory);\n\t\t\tstorePrivateKeys(isShortMemory ? sessionStorage : localStorage, privateName, keys.filter(function (k) {\n\t\t\t\treturn !k.primaryKey.isDecrypted;\n\t\t\t}));\n\n\t\t\tstorePrivateKeys(isPrivateComputer && !isShortMemory ? localStorage : sessionStorage, privateSecureName, keys.filter(function (k) {\n\t\t\t\treturn k.primaryKey.isDecrypted;\n\t\t\t}));\n\t\t};\n\t}\n\n\tCryptoKeysStorage.prototype.publicKeysItem = publicKeysItem;\n\tCryptoKeysStorage.prototype.privateKeysItem = privateKeysItem;\n\n\treturn CryptoKeysStorage;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2ZhY3Rvcmllcy9jcnlwdG9LZXlzU3RvcmFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUs7QUFDNUMsS0FBTSxNQUFNLEdBQUcsZUFBZSxDQUFDO0FBQy9CLEtBQU0sY0FBYyxHQUFHLGFBQWEsQ0FBQztBQUNyQyxLQUFNLGVBQWUsR0FBRyxjQUFjLENBQUM7O0FBRXZDLEtBQU0sVUFBVSxHQUFHLE1BQU0sR0FBRyxjQUFjLENBQUM7QUFDM0MsS0FBTSxXQUFXLEdBQUcsTUFBTSxHQUFHLGVBQWUsQ0FBQztBQUM3QyxLQUFNLGlCQUFpQixHQUFHLE1BQU0sR0FBRyxTQUFTLEdBQUcsZUFBZSxDQUFDOzs7Ozs7Ozs7O0FBVy9ELFVBQVMsaUJBQWlCLEdBQXFHO01BQW5HLGlCQUFpQixnQ0FBRyxLQUFLO01BQUUsYUFBYSxnQ0FBRyxLQUFLO01BQUUsaUJBQWlCLGdDQUFHLEVBQUU7TUFBRSxlQUFlLGdDQUFHLEtBQUs7O0FBQzVILE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQzs7QUFFbEIsU0FBTyxDQUFDLEdBQUcsQ0FBQywrQ0FBK0MsRUFBRSxpQkFBaUIsRUFDN0UsZ0JBQWdCLEVBQUUsYUFBYSxFQUMvQixvQkFBb0IsRUFBRSxpQkFBaUIsRUFDdkMsa0JBQWtCLEVBQUUsZUFBZSxDQUFDLENBQUM7O0FBRXRDLE1BQU0sUUFBUSxHQUFHLFNBQVgsUUFBUSxDQUFJLE9BQU8sRUFBRSxJQUFJLEVBQTBDO09BQXhDLFdBQVcsZ0NBQUcsRUFBRTtPQUFFLFlBQVksZ0NBQUcsRUFBRTs7QUFDbkUsT0FBTSxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ2hCLE9BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7V0FBTSxJQUFJLENBQUMsS0FBSyxDQUFD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QyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9mYWN0b3JpZXMvY3J5cHRvS2V5c1N0b3JhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oY28sIHV0aWxzKSA9PiB7XG5cdGNvbnN0IHByZWZpeCA9ICdsYXZhLW9wZW5wZ3AtJztcblx0Y29uc3QgcHVibGljS2V5c0l0ZW0gPSAncHVibGljLWtleXMnO1xuXHRjb25zdCBwcml2YXRlS2V5c0l0ZW0gPSAncHJpdmF0ZS1rZXlzJztcblxuXHRjb25zdCBwdWJsaWNOYW1lID0gcHJlZml4ICsgcHVibGljS2V5c0l0ZW07XG5cdGNvbnN0IHByaXZhdGVOYW1lID0gcHJlZml4ICsgcHJpdmF0ZUtleXNJdGVtO1xuXHRjb25zdCBwcml2YXRlU2VjdXJlTmFtZSA9IHByZWZpeCArICdzZWN1cmUtJyArIHByaXZhdGVLZXlzSXRlbTtcblxuXHQvKlxuXHQgaXNQcml2YXRlQ29tcHV0ZXI6IHN0b3JlIGRlY3J5cHRlZCBwcml2YXRlIGtleXMgaW4gbG9jYWwgc3RvcmFnZVxuXHQgaXNTaG9ydE1lbW9yeTogc3RvcmUgYm90aCBlbmNyeXB0ZWQgYW5kIGRlY3J5cHRlZCBwcml2YXRlIGtleXMgaW4gc2Vzc2lvbiBzdG9yYWdlIG9ubHlcblx0IG5vcm1hbGx5IHdlIHdhbnQgaXNTaG9ydE1lbW9yeSBvbmx5IHdoZW4gTGF2YWJvb20gU3luYyBpcyBlbmFibGVkIGFuZCBhbGwgb3VyIGVuY3J5cHRlZCBwcml2YXRlIGtleXMgd2VyZSBzeW5jZWRcblxuXHQgbG9hZE9ubHlGb3JFbWFpbHM6IGxvYWQgcHJpdmF0ZSBhbmQgcHVibGljIGtleXMgdGhhdCBtYXRjaCBvbmx5IHRob3NlIGVtYWlsXG5cdCBpc0xvYWREZWNyeXB0ZWQ6IGxvYWQgZGVjcnlwdGVkIHByaXZhdGUga2V5c1xuXHQgKi9cblxuXHRmdW5jdGlvbiBDcnlwdG9LZXlzU3RvcmFnZSAoaXNQcml2YXRlQ29tcHV0ZXIgPSBmYWxzZSwgaXNTaG9ydE1lbW9yeSA9IGZhbHNlLCBsb2FkT25seUZvckVtYWlscyA9IFtdLCBpc0xvYWREZWNyeXB0ZWQgPSBmYWxzZSkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdFx0Y29uc29sZS5sb2coJ0NyeXB0b0tleXNTdG9yYWdlIGNyZWF0ZWQsIGlzUHJpdmF0ZUNvbXB1dGVyOicsIGlzUHJpdmF0ZUNvbXB1dGVyLFxuXHRcdFx0J2lzU2hvcnRNZW1vcnk6JywgaXNTaG9ydE1lbW9yeSxcblx0XHRcdCdsb2FkT25seUZvckVtYWlsczonLCBsb2FkT25seUZvckVtYWlscyxcblx0XHRcdCdpc0xvYWREZWNyeXB0ZWQ6JywgaXNMb2FkRGVjcnlwdGVkKTtcblxuXHRcdGNvbnN0IGxvYWRLZXlzID0gKHN0b3JhZ2UsIG5hbWUsIG5vdEZvckVtYWlsID0gJycsIG9ubHlGb3JFbWFpbCA9ICcnKSA9PiB7XG5cdFx0XHRjb25zdCBrZXlzID0gW107XG5cdFx0XHRjb25zdCBhcm1vcmVkS2V5cyA9IHV0aWxzLmRlZigoKSA9PiBKU09OLnBhcnNlKHN0b3JhZ2VbbmFtZV0pLCBudWxsKTtcblxuXHRcdFx0aWYgKGFybW9yZWRLZXlzICYmIGFybW9yZWRLZXlzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Zm9yIChsZXQga2V5QXJtb3JlZCBvZiBhcm1vcmVkS2V5cykge1xuXHRcdFx0XHRcdGNvbnN0IGtleSA9IG9wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKGtleUFybW9yZWQpO1xuXHRcdFx0XHRcdGlmICgha2V5LmVycikge1xuXHRcdFx0XHRcdFx0Y29uc3QgZW1haWwgPSB1dGlscy5nZXRFbWFpbEZyb21BZGRyZXNzU3RyaW5nKGtleS5rZXlzWzBdLnVzZXJzWzBdLnVzZXJJZC51c2VyaWQpO1xuXG5cdFx0XHRcdFx0XHRpZiAobm90Rm9yRW1haWwpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGVtYWlsICE9IG5vdEZvckVtYWlsKVxuXHRcdFx0XHRcdFx0XHRcdGtleXMucHVzaChrZXkua2V5c1swXSk7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAob25seUZvckVtYWlsKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChlbWFpbCA9PSBvbmx5Rm9yRW1haWwpXG5cdFx0XHRcdFx0XHRcdFx0a2V5cy5wdXNoKGtleS5rZXlzWzBdKTtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChsb2FkT25seUZvckVtYWlscy5sZW5ndGggPCAxIHx8IGxvYWRPbmx5Rm9yRW1haWxzLmluY2x1ZGVzKGVtYWlsKSlcblx0XHRcdFx0XHRcdFx0a2V5cy5wdXNoKGtleS5rZXlzWzBdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBrZXlzO1xuXHRcdH07XG5cblx0XHRjb25zdCByZXBsYWNlS2V5cyA9IChkc3RLZXlzLCBzcmNLZXlzKSA9PiB7XG5cdFx0XHRmb3IgKGxldCBzcmNLZXkgb2Ygc3JjS2V5cykge1xuXHRcdFx0XHRjb25zdCBpID0gZHN0S2V5cy5maW5kSW5kZXgoayA9PiBrLnByaW1hcnlLZXkuZmluZ2VycHJpbnQgPT0gc3JjS2V5LnByaW1hcnlLZXkuZmluZ2VycHJpbnQpO1xuXHRcdFx0XHRpZiAoaSA8IDApXG5cdFx0XHRcdFx0ZHN0S2V5cy5wdXNoKHNyY0tleSk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRkc3RLZXlzW2ldID0gc3JjS2V5O1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb25zdCBzdG9yZUtleXMgPSAoc3RvcmFnZSwgbmFtZSwga2V5cykgPT4ge1xuXHRcdFx0Y29uc3QgYXJtb3JlZEtleXMgPSBrZXlzLm1hcChrID0+IGsuYXJtb3IoKSk7XG5cdFx0XHRzdG9yYWdlW25hbWVdID0gSlNPTi5zdHJpbmdpZnkoYXJtb3JlZEtleXMpO1xuXHRcdH07XG5cblx0XHR0aGlzLmNsZWFyQWxsS2V5cyA9ICgpID0+IHtcblx0XHRcdGRlbGV0ZSBsb2NhbFN0b3JhZ2VbcHJpdmF0ZU5hbWVdO1xuXHRcdFx0ZGVsZXRlIGxvY2FsU3RvcmFnZVtwdWJsaWNOYW1lXTtcblx0XHRcdHNlbGYuY2xlYXJEZWNyeXB0ZWRQcml2YXRlS2V5cygpO1xuXHRcdH07XG5cblx0XHR0aGlzLmNsZWFyRGVjcnlwdGVkUHJpdmF0ZUtleXMgPSAoKSA9PiB7XG5cdFx0XHRkZWxldGUgbG9jYWxTdG9yYWdlW3ByaXZhdGVTZWN1cmVOYW1lXTtcblx0XHRcdGRlbGV0ZSBzZXNzaW9uU3RvcmFnZVtwcml2YXRlU2VjdXJlTmFtZV07XG5cdFx0fTtcblxuXHRcdHRoaXMuY2xlYXJQZXJtYW5lbnRQcml2YXRlS2V5c0ZvckVtYWlsID0gKGVtYWlsKSA9PiB7XG5cdFx0XHRsZXQgW3JQcml2YXRlS2V5cywgclByaXZhdGVTZWN1cmVkS2V5c10gPSBbXG5cdFx0XHRcdGxvYWRLZXlzKGxvY2FsU3RvcmFnZSwgcHJpdmF0ZU5hbWUsICcnLCBlbWFpbCksXG5cdFx0XHRcdGxvYWRLZXlzKGxvY2FsU3RvcmFnZSwgcHJpdmF0ZVNlY3VyZU5hbWUsICcnLCBlbWFpbClcblx0XHRcdF07XG5cblx0XHRcdHN0b3JlS2V5cyhsb2NhbFN0b3JhZ2UsIHByaXZhdGVOYW1lLCBsb2FkS2V5cyhsb2NhbFN0b3JhZ2UsIHByaXZhdGVOYW1lLCBlbWFpbCkpO1xuXHRcdFx0c3RvcmVLZXlzKGxvY2FsU3RvcmFnZSwgcHJpdmF0ZVNlY3VyZU5hbWUsIGxvYWRLZXlzKGxvY2FsU3RvcmFnZSwgcHJpdmF0ZVNlY3VyZU5hbWUsIGVtYWlsKSk7XG5cblx0XHRcdHJlcGxhY2VLZXlzKHJQcml2YXRlS2V5cywgbG9hZEtleXMoc2Vzc2lvblN0b3JhZ2UsIHByaXZhdGVOYW1lLCAnJywgZW1haWwpKTtcblx0XHRcdHJlcGxhY2VLZXlzKHJQcml2YXRlU2VjdXJlZEtleXMsIGxvYWRLZXlzKHNlc3Npb25TdG9yYWdlLCBwcml2YXRlU2VjdXJlTmFtZSwgJycsIGVtYWlsKSk7XG5cblx0XHRcdHJldHVybiBbclByaXZhdGVLZXlzLCByUHJpdmF0ZVNlY3VyZWRLZXlzXTtcblx0XHR9O1xuXG5cdFx0dGhpcy5sb2FkUHVibGljID0gKCkgPT4ge1xuXHRcdFx0cmV0dXJuIGxvYWRLZXlzKGxvY2FsU3RvcmFnZSwgcHVibGljTmFtZSk7XG5cdFx0fTtcblxuXHRcdHRoaXMubG9hZFByaXZhdGUgPSAoKSA9PiB7XG5cdFx0XHRjb25zdCBrZXlzID0gbG9hZEtleXMobG9jYWxTdG9yYWdlLCBwcml2YXRlTmFtZSk7XG5cdFx0XHRyZXBsYWNlS2V5cyhrZXlzLCBsb2FkS2V5cyhzZXNzaW9uU3RvcmFnZSwgcHJpdmF0ZU5hbWUpKTtcblxuXHRcdFx0aWYgKGlzTG9hZERlY3J5cHRlZCkge1xuXHRcdFx0XHRyZXBsYWNlS2V5cyhrZXlzLCBsb2FkS2V5cyhsb2NhbFN0b3JhZ2UsIHByaXZhdGVTZWN1cmVOYW1lKSk7XG5cdFx0XHRcdHJlcGxhY2VLZXlzKGtleXMsIGxvYWRLZXlzKHNlc3Npb25TdG9yYWdlLCBwcml2YXRlU2VjdXJlTmFtZSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ga2V5cztcblx0XHR9O1xuXG5cdFx0dGhpcy5zdG9yZVB1YmxpYyA9IChrZXlzKSA9PiB7XG5cdFx0XHRzdG9yZUtleXMobG9jYWxTdG9yYWdlLCBwdWJsaWNOYW1lLCBrZXlzKTtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RvcmVQcml2YXRlS2V5cyA9IChzdG9yYWdlLCBuYW1lLCBrZXlzKSA9PiB7XG5cdFx0XHRjb25zdCBleGlzdGluZ0tleXMgPSBsb2FkS2V5cyhzdG9yYWdlLCBuYW1lKTtcblx0XHRcdHJlcGxhY2VLZXlzKGV4aXN0aW5nS2V5cywga2V5cyk7XG5cdFx0XHRzdG9yZUtleXMoc3RvcmFnZSwgbmFtZSwgZXhpc3RpbmdLZXlzKTtcblx0XHR9O1xuXG5cdFx0dGhpcy5zdG9yZVByaXZhdGUgPSAoa2V5cykgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ3N0b3JlUHJpdmF0ZSBjYWxsZWQsIGlzU2hvcnRNZW1vcnk6JywgaXNTaG9ydE1lbW9yeSk7XG5cdFx0XHRzdG9yZVByaXZhdGVLZXlzKGlzU2hvcnRNZW1vcnkgPyBzZXNzaW9uU3RvcmFnZSA6IGxvY2FsU3RvcmFnZSxcblx0XHRcdFx0cHJpdmF0ZU5hbWUsIGtleXMuZmlsdGVyKGsgPT4gIWsucHJpbWFyeUtleS5pc0RlY3J5cHRlZCkpO1xuXG5cdFx0XHRzdG9yZVByaXZhdGVLZXlzKGlzUHJpdmF0ZUNvbXB1dGVyICYmICFpc1Nob3J0TWVtb3J5ID8gbG9jYWxTdG9yYWdlIDogc2Vzc2lvblN0b3JhZ2UsXG5cdFx0XHRcdHByaXZhdGVTZWN1cmVOYW1lLCBrZXlzLmZpbHRlcihrID0+IGsucHJpbWFyeUtleS5pc0RlY3J5cHRlZCkpO1xuXHRcdH07XG5cdH1cblxuXHRDcnlwdG9LZXlzU3RvcmFnZS5wcm90b3R5cGUucHVibGljS2V5c0l0ZW0gPSBwdWJsaWNLZXlzSXRlbTtcblx0Q3J5cHRvS2V5c1N0b3JhZ2UucHJvdG90eXBlLnByaXZhdGVLZXlzSXRlbSA9IHByaXZhdGVLZXlzSXRlbTtcblxuXHRyZXR1cm4gQ3J5cHRvS2V5c1N0b3JhZ2U7XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/factories/proxy.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function (co) {\n\tfunction Proxy($delegate) {\n\t\tvar self = this;\n\n\t\tthis.unbindedMethodCall = function (call, proxy) {\n\t\t\tvar isCache = arguments[2] === undefined ? false : arguments[2];\n\n\t\t\tvar cache = {};\n\n\t\t\tvar original = $delegate[call];\n\n\t\t\tif (isCache) {\n\t\t\t\tvar _ret = (function () {\n\t\t\t\t\t// we don't want to have multiple simultaneous calls to the same resource(call + arguments)\n\t\t\t\t\t// so basically if we have one pending we always wait for it to return instead of making a new one\n\t\t\t\t\tvar originalCachingWrapper = function originalCachingWrapper() {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn co(regeneratorRuntime.mark(function callee$5$0() {\n\t\t\t\t\t\t\tvar key, promise;\n\t\t\t\t\t\t\treturn regeneratorRuntime.wrap(function callee$5$0$(context$6$0) {\n\t\t\t\t\t\t\t\twhile (1) switch (context$6$0.prev = context$6$0.next) {\n\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\tkey = call + '.' + args.join(':');\n\n\t\t\t\t\t\t\t\t\t\tconsole.log('calling original, cache key', key);\n\n\t\t\t\t\t\t\t\t\t\tif (!cache[key]) cache[key] = original.apply(undefined, args);\n\n\t\t\t\t\t\t\t\t\t\tpromise = cache[key];\n\t\t\t\t\t\t\t\t\t\tcontext$6$0.prev = 4;\n\t\t\t\t\t\t\t\t\t\tcontext$6$0.next = 7;\n\t\t\t\t\t\t\t\t\t\treturn promise;\n\n\t\t\t\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\t\t\t\t\treturn context$6$0.abrupt('return', context$6$0.sent);\n\n\t\t\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t\t\tcontext$6$0.prev = 8;\n\n\t\t\t\t\t\t\t\t\t\tdelete cache[key];\n\t\t\t\t\t\t\t\t\t\treturn context$6$0.finish(8);\n\n\t\t\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\t\t\treturn context$6$0.stop();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, callee$5$0, this, [[4,, 8, 11]]);\n\t\t\t\t\t\t}));\n\t\t\t\t\t};\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tv: function () {\n\t\t\t\t\t\t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\t\t\t\targs[_key2] = arguments[_key2];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn co(regeneratorRuntime.mark(function callee$5$0() {\n\t\t\t\t\t\t\t\treturn regeneratorRuntime.wrap(function callee$5$0$(context$6$0) {\n\t\t\t\t\t\t\t\t\twhile (1) switch (context$6$0.prev = context$6$0.next) {\n\t\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\t\tcontext$6$0.next = 2;\n\t\t\t\t\t\t\t\t\t\t\treturn co(proxy(originalCachingWrapper, args));\n\n\t\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\t\treturn context$6$0.abrupt('return', context$6$0.sent);\n\n\t\t\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\t\t\t\treturn context$6$0.stop();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, callee$5$0, this);\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})();\n\n\t\t\t\tif (typeof _ret === 'object') return _ret.v;\n\t\t\t}\n\n\t\t\treturn function () {\n\t\t\t\tfor (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t\t\t\t\targs[_key3] = arguments[_key3];\n\t\t\t\t}\n\n\t\t\t\treturn co(regeneratorRuntime.mark(function callee$4$0() {\n\t\t\t\t\treturn regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {\n\t\t\t\t\t\twhile (1) switch (context$5$0.prev = context$5$0.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tcontext$5$0.next = 2;\n\t\t\t\t\t\t\t\treturn co(proxy(original, args));\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\treturn context$5$0.abrupt('return', context$5$0.sent);\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn context$5$0.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, callee$4$0, this);\n\t\t\t\t}));\n\t\t\t};\n\t\t};\n\n\t\tthis.methodCall = function (call, proxy) {\n\t\t\tvar isCache = arguments[2] === undefined ? false : arguments[2];\n\n\t\t\t$delegate[call] = self.unbindedMethodCall(call, proxy, isCache);\n\t\t};\n\n\t\tthis.unbindedMethodSyncCall = function (call, proxy) {\n\t\t\tvar original = $delegate[call];\n\n\t\t\treturn function () {\n\t\t\t\tfor (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t\t\t\t\targs[_key4] = arguments[_key4];\n\t\t\t\t}\n\n\t\t\t\treturn function () {\n\t\t\t\t\treturn proxy(original, args);\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\n\t\tthis.methodSyncCall = function (call, proxy) {\n\t\t\t$delegate[call] = self.unbindedMethodCall(call, proxy);\n\t\t};\n\t}\n\n\treturn Proxy;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2ZhY3Rvcmllcy9wcm94eS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFDLEVBQUUsRUFBSztBQUNyQyxVQUFTLEtBQUssQ0FBRSxTQUFTLEVBQUU7QUFDMUIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUVsQixNQUFJLENBQUMsa0JBQWtCLEdBQUcsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFzQjtPQUFwQixPQUFPLGdDQUFHLEtBQUs7O0FBQ3RELE9BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQzs7QUFFakIsT0FBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVqQyxPQUFJLE9BQU8sRUFBRTs7OztBQUdaLFNBQU0sc0JBQXNCLEdBQUcsU0FBekIsc0JBQXNCO3dDQUFPLElBQUk7QUFBSixXQUFJOzs7YUFBSyxFQUFFLHlCQUFDO1dBQ3hDLEdBQUcsRUFNSCxPQUFPOzs7O0FBTlAsYUFBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7O0FBQ3ZDLGlCQUFPLENBQUMsR0FBRyxDQUFDLDZCQUE2QixFQUFFLEdBQUcsQ0FBQyxDQUFDOztBQUVoRCxjQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUNkLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLGtCQUFJLElBQUksQ0FBQyxDQUFDOztBQUUxQixpQkFBTyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7OztpQkFFWixPQUFPOzs7Ozs7OztBQUVwQixpQkFBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Ozs7Ozs7O09BRW5CLEVBQUM7TUFBQSxDQUFDOztBQUVIO1NBQU87MENBQUksSUFBSTtBQUFKLFlBQUk7OztjQUFLLEVBQUUseUJBQUM7Ozs7O2tCQUNULEVBQUUsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLENBQUM7Ozs7Ozs7Ozs7UUFDcEQsRUFBQztPQUFBO09BQUM7Ozs7SUFDSDs7QUFFRCxVQUFPO3VDQUFJLElBQUk7QUFBSixTQUFJOzs7V0FBSyxFQUFFLHlCQUFDOzs7OztlQUNULEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDOzs7Ozs7Ozs7O0tBQ3RDLEVBQUM7SUFBQSxDQUFDO0dBQ0gsQ0FBQzs7QUFFRixNQUFJLENBQUMsVUFBVSxHQUFHLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBc0I7T0FBcEIsT0FBTyxnQ0FBRyxLQUFLOztBQUM5QyxZQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDaEUsQ0FBQzs7QUFFRixNQUFJLENBQUMsc0JBQXNCLEdBQUcsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFLO0FBQzlDLE9BQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFakMsVUFBTzt1Q0FBSSxJQUFJO0FBQUosU0FBSTs7O1dBQUssWUFBWTtBQUMvQixZQUFPLEtBQUssQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0I7SUFBQSxDQUFDO0dBQ0YsQ0FBQzs7QUFFRixNQUFJLENBQUMsY0FBYyxHQUFHLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBSztBQUN0QyxZQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztHQUN2RCxDQUFDO0VBQ0Y7O0FBRUQsUUFBTyxLQUFLLENBQUM7Q0FDYixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2ZhY3Rvcmllcy9wcm94eS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqLyhjbykgPT4ge1xuXHRmdW5jdGlvbiBQcm94eSAoJGRlbGVnYXRlKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cblx0XHR0aGlzLnVuYmluZGVkTWV0aG9kQ2FsbCA9IChjYWxsLCBwcm94eSwgaXNDYWNoZSA9IGZhbHNlKSA9PiB7XG5cdFx0XHRjb25zdCBjYWNoZSA9IHt9O1xuXG5cdFx0XHRjb25zdCBvcmlnaW5hbCA9ICRkZWxlZ2F0ZVtjYWxsXTtcblxuXHRcdFx0aWYgKGlzQ2FjaGUpIHtcblx0XHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBoYXZlIG11bHRpcGxlIHNpbXVsdGFuZW91cyBjYWxscyB0byB0aGUgc2FtZSByZXNvdXJjZShjYWxsICsgYXJndW1lbnRzKVxuXHRcdFx0XHQvLyBzbyBiYXNpY2FsbHkgaWYgd2UgaGF2ZSBvbmUgcGVuZGluZyB3ZSBhbHdheXMgd2FpdCBmb3IgaXQgdG8gcmV0dXJuIGluc3RlYWQgb2YgbWFraW5nIGEgbmV3IG9uZVxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbENhY2hpbmdXcmFwcGVyID0gKC4uLmFyZ3MpID0+IGNvKGZ1bmN0aW9uICooKSB7XG5cdFx0XHRcdFx0Y29uc3Qga2V5ID0gY2FsbCArICcuJyArIGFyZ3Muam9pbignOicpO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjYWxsaW5nIG9yaWdpbmFsLCBjYWNoZSBrZXknLCBrZXkpO1xuXG5cdFx0XHRcdFx0aWYgKCFjYWNoZVtrZXldKVxuXHRcdFx0XHRcdFx0Y2FjaGVba2V5XSA9IG9yaWdpbmFsKC4uLmFyZ3MpO1xuXG5cdFx0XHRcdFx0Y29uc3QgcHJvbWlzZSA9IGNhY2hlW2tleV07XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHJldHVybiB5aWVsZCBwcm9taXNlO1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRkZWxldGUgY2FjaGVba2V5XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiAoLi4uYXJncykgPT4gY28oZnVuY3Rpb24gKigpIHtcblx0XHRcdFx0XHRyZXR1cm4geWllbGQgY28ocHJveHkob3JpZ2luYWxDYWNoaW5nV3JhcHBlciwgYXJncykpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICguLi5hcmdzKSA9PiBjbyhmdW5jdGlvbiAqKCkge1xuXHRcdFx0XHRyZXR1cm4geWllbGQgY28ocHJveHkob3JpZ2luYWwsIGFyZ3MpKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR0aGlzLm1ldGhvZENhbGwgPSAoY2FsbCwgcHJveHksIGlzQ2FjaGUgPSBmYWxzZSkgPT4ge1xuXHRcdFx0JGRlbGVnYXRlW2NhbGxdID0gc2VsZi51bmJpbmRlZE1ldGhvZENhbGwoY2FsbCwgcHJveHksIGlzQ2FjaGUpO1xuXHRcdH07XG5cblx0XHR0aGlzLnVuYmluZGVkTWV0aG9kU3luY0NhbGwgPSAoY2FsbCwgcHJveHkpID0+IHtcblx0XHRcdGNvbnN0IG9yaWdpbmFsID0gJGRlbGVnYXRlW2NhbGxdO1xuXG5cdFx0XHRyZXR1cm4gKC4uLmFyZ3MpID0+IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHByb3h5KG9yaWdpbmFsLCBhcmdzKTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdHRoaXMubWV0aG9kU3luY0NhbGwgPSAoY2FsbCwgcHJveHkpID0+IHtcblx0XHRcdCRkZWxlZ2F0ZVtjYWxsXSA9IHNlbGYudW5iaW5kZWRNZXRob2RDYWxsKGNhbGwsIHByb3h5KTtcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIFByb3h5O1xufTsiXX0=","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/cryptoKeys.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($q, $rootScope, $filter, $translate, co, crypto, consts, utils) {\n\tvar translations = {\n\t\tBACKUP_WARNING_TEXT: ''\n\t};\n\n\t$translate.bindAsObject(translations, 'NOTIFICATIONS');\n\n\tthis.importKeys = function (jsonBackup) {\n\t\tvar importObj = null;\n\t\ttry {\n\t\t\timportObj = JSON.parse(jsonBackup);\n\t\t} catch (error) {\n\t\t\tvar keyring = openpgp.key.readArmored(jsonBackup);\n\n\t\t\tif (keyring.err && keyring.err.length > 0) throw new Error('WRONG_FORMAT');\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = keyring.keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar key = _step.value;\n\n\t\t\t\t\tif (!crypto.getPrivateKeyByFingerprint(key.primaryKey.fingerprint)) crypto.importPrivateKey(key);else console.log('skip private key import - already existing', key.primaryKey.fingerprint);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar bodyHash = utils.hexify(openpgp.crypto.hash.sha512(JSON.stringify(importObj.body)));\n\t\tif (bodyHash != importObj.bodyHash) throw new Error('CORRUPTED');\n\n\t\tObject.keys(importObj.body.key_pairs).forEach(function (email) {\n\t\t\tif (angular.isString(importObj.body.key_pairs[email].prv)) importObj.body.key_pairs[email].prv = [importObj.body.key_pairs[email].prv];\n\n\t\t\timportObj.body.key_pairs[email].prv.forEach(function (privateKeyArmored) {\n\t\t\t\ttry {\n\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator2 = openpgp.key.readArmored(privateKeyArmored).keys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\tvar key = _step2.value;\n\n\t\t\t\t\t\t\tif (!crypto.getPrivateKeyByFingerprint(key.primaryKey.fingerprint)) crypto.importPrivateKey(key);else console.log('skip private key import - already existing', key.primaryKey.fingerprint);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t\t\t\t\t\t\t\t_iterator2['return']();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn('cannot import private key', privateKeyArmored, error);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (angular.isString(importObj.body.key_pairs[email].pub)) importObj.body.key_pairs[email].pub = [importObj.body.key_pairs[email].pub];\n\n\t\t\timportObj.body.key_pairs[email].pub.forEach(function (publicKeyArmored) {\n\t\t\t\ttry {\n\t\t\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\t\t\tvar _didIteratorError3 = false;\n\t\t\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator3 = openpgp.key.readArmored(publicKeyArmored).keys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\t\t\tvar key = _step3.value;\n\n\t\t\t\t\t\t\tif (!crypto.getPublicKeyByFingerprint(key.primaryKey.fingerprint)) crypto.importPublicKey(key);else console.log('skip public key import - already existing', key.primaryKey.fingerprint);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t\t\t_iteratorError3 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3['return']) {\n\t\t\t\t\t\t\t\t_iterator3['return']();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn('cannot import public key', publicKeyArmored, error);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tcrypto.storeKeyring();\n\t\tcrypto.initialize();\n\t};\n\n\tfunction formatExportFile(body) {\n\t\tvar bodyHash = utils.hexify(openpgp.crypto.hash.sha512(JSON.stringify(body)));\n\n\t\treturn JSON.stringify({\n\t\t\treadme: consts.KEYS_BACKUP_README,\n\t\t\twarning: translations.BACKUP_WARNING_TEXT,\n\t\t\tbody: body,\n\t\t\tbodyHash: bodyHash\n\t\t}, null, 4);\n\t}\n\n\tthis.exportKeys = function () {\n\t\tvar email = arguments[0] === undefined ? null : arguments[0];\n\n\t\tvar _crypto$createKeyring = crypto.createKeyring(false);\n\n\t\tvar _crypto$createKeyring2 = babelHelpers.slicedToArray(_crypto$createKeyring, 1);\n\n\t\tvar keyring = _crypto$createKeyring2[0];\n\n\t\tvar keyPairs = (email ? [email] : crypto.getAvailableSourceEmails()).reduce(function (a, email) {\n\t\t\ta[email] = {\n\t\t\t\tprv: keyring.privateKeys.getForAddress(email).map(function (k) {\n\t\t\t\t\treturn k.armor();\n\t\t\t\t}),\n\t\t\t\tpub: keyring.publicKeys.getForAddress(email).map(function (k) {\n\t\t\t\t\treturn k.armor();\n\t\t\t\t})\n\t\t\t};\n\t\t\treturn a;\n\t\t}, {});\n\n\t\treturn formatExportFile({\n\t\t\tkey_pairs: keyPairs,\n\t\t\texported: $filter('date')(Date.now(), 'yyyy-MM-dd HH:mm:ss Z')\n\t\t});\n\t};\n\n\tthis.exportKeyPairByFingerprint = function (fingerprint) {\n\t\tvar _crypto$createKeyring3 = crypto.createKeyring(false);\n\n\t\tvar _crypto$createKeyring32 = babelHelpers.slicedToArray(_crypto$createKeyring3, 1);\n\n\t\tvar keyring = _crypto$createKeyring32[0];\n\n\t\tvar privateKey = keyring.privateKeys.findByFingerprint(fingerprint);\n\t\tvar publicKey = keyring.publicKeys.findByFingerprint(fingerprint);\n\n\t\tconsole.log(privateKey, publicKey);\n\n\t\treturn formatExportFile({\n\t\t\tkey_pairs: babelHelpers.defineProperty({}, privateKey.users[0].userId.userid, {\n\t\t\t\tprv: [privateKey.armor()],\n\t\t\t\tpub: [publicKey.armor()]\n\t\t\t}),\n\t\t\texported: $filter('date')(Date.now(), 'yyyy-MM-dd HH:mm:ss Z')\n\t\t});\n\t};\n\n\tthis.exportPublicKeyByFingerprint = function (fingerprint) {\n\t\tvar _crypto$createKeyring4 = crypto.createKeyring(false);\n\n\t\tvar _crypto$createKeyring42 = babelHelpers.slicedToArray(_crypto$createKeyring4, 1);\n\n\t\tvar keyring = _crypto$createKeyring42[0];\n\n\t\tvar publicKey = keyring.publicKeys.findByFingerprint(fingerprint);\n\n\t\treturn publicKey.armor();\n\t};\n\n\tthis.getExportFilename = function (backup, userName) {\n\t\tvar hashPostfix = utils.hexify(openpgp.crypto.hash.md5(backup)).substr(0, 8);\n\t\treturn '' + userName + '-' + hashPostfix + '.json';\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL2NyeXB0b0tleXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBVSxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQ3ZHLEtBQU0sWUFBWSxHQUFHO0FBQ3BCLHFCQUFtQixFQUFFLEVBQUU7RUFDdkIsQ0FBQzs7QUFFRixXQUFVLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxlQUFlLENBQUMsQ0FBQzs7QUFFdkQsS0FBSSxDQUFDLFVBQVUsR0FBRyxVQUFDLFVBQVUsRUFBSztBQUNqQyxNQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDckIsTUFBSTtBQUNILFlBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0dBQ25DLENBQUMsT0FBTyxLQUFLLEVBQUU7QUFDZixPQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQzs7QUFFbEQsT0FBSSxPQUFPLENBQUMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFDeEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQzs7Ozs7OztBQUVqQyx5QkFBZSxPQUFPLENBQUMsSUFBSSw4SEFBRTtTQUFyQixHQUFHOztBQUNWLFNBQUksQ0FBQyxNQUFNLENBQUMsMEJBQTBCLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsRUFDakUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBRTdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsNENBQTRDLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FB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QUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDOztBQUVsRSxTQUFPLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztFQUN6QixDQUFDOztBQUVGLEtBQUksQ0FBQyxpQkFBaUIsR0FBRyxVQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUs7QUFDOUMsTUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzdFLGNBQVUsUUFBUSxTQUFJLFdBQVcsV0FBUTtFQUN6QyxDQUFDO0NBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9zZXJ2aWNlcy9jcnlwdG9LZXlzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAvKkBuZ0luamVjdCovZnVuY3Rpb24gKCRxLCAkcm9vdFNjb3BlLCAkZmlsdGVyLCAkdHJhbnNsYXRlLCBjbywgY3J5cHRvLCBjb25zdHMsIHV0aWxzKSB7XG5cdGNvbnN0IHRyYW5zbGF0aW9ucyA9IHtcblx0XHRCQUNLVVBfV0FSTklOR19URVhUOiAnJ1xuXHR9O1xuXG5cdCR0cmFuc2xhdGUuYmluZEFzT2JqZWN0KHRyYW5zbGF0aW9ucywgJ05PVElGSUNBVElPTlMnKTtcblxuXHR0aGlzLmltcG9ydEtleXMgPSAoanNvbkJhY2t1cCkgPT4ge1xuXHRcdGxldCBpbXBvcnRPYmogPSBudWxsO1xuXHRcdHRyeSB7XG5cdFx0XHRpbXBvcnRPYmogPSBKU09OLnBhcnNlKGpzb25CYWNrdXApO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRsZXQga2V5cmluZyA9IG9wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKGpzb25CYWNrdXApO1xuXG5cdFx0XHRpZiAoa2V5cmluZy5lcnIgJiYga2V5cmluZy5lcnIubGVuZ3RoID4gMClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdXUk9OR19GT1JNQVQnKTtcblxuXHRcdFx0Zm9yKGxldCBrZXkgb2Yga2V5cmluZy5rZXlzKSB7XG5cdFx0XHRcdGlmICghY3J5cHRvLmdldFByaXZhdGVLZXlCeUZpbmdlcnByaW50KGtleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50KSlcblx0XHRcdFx0XHRjcnlwdG8uaW1wb3J0UHJpdmF0ZUtleShrZXkpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ3NraXAgcHJpdmF0ZSBrZXkgaW1wb3J0IC0gYWxyZWFkeSBleGlzdGluZycsIGtleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBib2R5SGFzaCA9IHV0aWxzLmhleGlmeShvcGVucGdwLmNyeXB0by5oYXNoLnNoYTUxMihKU09OLnN0cmluZ2lmeShpbXBvcnRPYmouYm9keSkpKTtcblx0XHRpZiAoYm9keUhhc2ggIT0gaW1wb3J0T2JqLmJvZHlIYXNoKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDT1JSVVBURUQnKTtcblxuXHRcdE9iamVjdC5rZXlzKGltcG9ydE9iai5ib2R5LmtleV9wYWlycykuZm9yRWFjaChlbWFpbCA9PiB7XG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyhpbXBvcnRPYmouYm9keS5rZXlfcGFpcnNbZW1haWxdLnBydikpXG5cdFx0XHRcdGltcG9ydE9iai5ib2R5LmtleV9wYWlyc1tlbWFpbF0ucHJ2ID0gW2ltcG9ydE9iai5ib2R5LmtleV9wYWlyc1tlbWFpbF0ucHJ2XTtcblxuXHRcdFx0aW1wb3J0T2JqLmJvZHkua2V5X3BhaXJzW2VtYWlsXS5wcnYuZm9yRWFjaChwcml2YXRlS2V5QXJtb3JlZCA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yKGxldCBrZXkgb2Ygb3BlbnBncC5rZXkucmVhZEFybW9yZWQocHJpdmF0ZUtleUFybW9yZWQpLmtleXMpIHtcblx0XHRcdFx0XHRcdGlmICghY3J5cHRvLmdldFByaXZhdGVLZXlCeUZpbmdlcnByaW50KGtleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50KSlcblx0XHRcdFx0XHRcdFx0Y3J5cHRvLmltcG9ydFByaXZhdGVLZXkoa2V5KTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3NraXAgcHJpdmF0ZSBrZXkgaW1wb3J0IC0gYWxyZWFkeSBleGlzdGluZycsIGtleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdjYW5ub3QgaW1wb3J0IHByaXZhdGUga2V5JywgcHJpdmF0ZUtleUFybW9yZWQsIGVycm9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChhbmd1bGFyLmlzU3RyaW5nKGltcG9ydE9iai5ib2R5LmtleV9wYWlyc1tlbWFpbF0ucHViKSlcblx0XHRcdFx0aW1wb3J0T2JqLmJvZHkua2V5X3BhaXJzW2VtYWlsXS5wdWIgPSBbaW1wb3J0T2JqLmJvZHkua2V5X3BhaXJzW2VtYWlsXS5wdWJdO1xuXG5cdFx0XHRpbXBvcnRPYmouYm9keS5rZXlfcGFpcnNbZW1haWxdLnB1Yi5mb3JFYWNoKHB1YmxpY0tleUFybW9yZWQgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvcihsZXQga2V5IG9mIG9wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKHB1YmxpY0tleUFybW9yZWQpLmtleXMpIHtcblx0XHRcdFx0XHRcdGlmICghY3J5cHRvLmdldFB1YmxpY0tleUJ5RmluZ2VycHJpbnQoa2V5LnByaW1hcnlLZXkuZmluZ2VycHJpbnQpKVxuXHRcdFx0XHRcdFx0XHRjcnlwdG8uaW1wb3J0UHVibGljS2V5KGtleSk7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdza2lwIHB1YmxpYyBrZXkgaW1wb3J0IC0gYWxyZWFkeSBleGlzdGluZycsIGtleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdjYW5ub3QgaW1wb3J0IHB1YmxpYyBrZXknLCBwdWJsaWNLZXlBcm1vcmVkLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Y3J5cHRvLnN0b3JlS2V5cmluZygpO1xuXHRcdGNyeXB0by5pbml0aWFsaXplKCk7XG5cdH07XG5cblx0ZnVuY3Rpb24gZm9ybWF0RXhwb3J0RmlsZShib2R5KSB7XG5cdFx0bGV0IGJvZHlIYXNoID0gdXRpbHMuaGV4aWZ5KG9wZW5wZ3AuY3J5cHRvLmhhc2guc2hhNTEyKEpTT04uc3RyaW5naWZ5KGJvZHkpKSk7XG5cblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0cmVhZG1lOiBjb25zdHMuS0VZU19CQUNLVVBfUkVBRE1FLFxuXHRcdFx0d2FybmluZzogdHJhbnNsYXRpb25zLkJBQ0tVUF9XQVJOSU5HX1RFWFQsXG5cdFx0XHRib2R5OiBib2R5LFxuXHRcdFx0Ym9keUhhc2g6IGJvZHlIYXNoXG5cdFx0fSwgbnVsbCwgNCk7XG5cdH1cblxuXHR0aGlzLmV4cG9ydEtleXMgPSAoZW1haWwgPSBudWxsKSA9PiB7XG5cdFx0Y29uc3QgW2tleXJpbmddID0gY3J5cHRvLmNyZWF0ZUtleXJpbmcoZmFsc2UpO1xuXG5cdFx0bGV0IGtleVBhaXJzID0gKGVtYWlsID8gW2VtYWlsXSA6IGNyeXB0by5nZXRBdmFpbGFibGVTb3VyY2VFbWFpbHMoKSkucmVkdWNlKChhLCBlbWFpbCkgPT4ge1xuXHRcdFx0YVtlbWFpbF0gPSB7XG5cdFx0XHRcdHBydjoga2V5cmluZy5wcml2YXRlS2V5cy5nZXRGb3JBZGRyZXNzKGVtYWlsKS5tYXAoayA9PiBrLmFybW9yKCkpLFxuXHRcdFx0XHRwdWI6IGtleXJpbmcucHVibGljS2V5cy5nZXRGb3JBZGRyZXNzKGVtYWlsKS5tYXAoayA9PiBrLmFybW9yKCkpXG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIGE7XG5cdFx0fSwge30pO1xuXG5cdFx0cmV0dXJuIGZvcm1hdEV4cG9ydEZpbGUoe1xuXHRcdFx0a2V5X3BhaXJzOiBrZXlQYWlycyxcblx0XHRcdGV4cG9ydGVkOiAkZmlsdGVyKCdkYXRlJykoRGF0ZS5ub3coKSwgJ3l5eXktTU0tZGQgSEg6bW06c3MgWicpXG5cdFx0fSk7XG5cdH07XG5cblx0dGhpcy5leHBvcnRLZXlQYWlyQnlGaW5nZXJwcmludCA9IChmaW5nZXJwcmludCkgPT4ge1xuXHRcdGNvbnN0IFtrZXlyaW5nXSA9IGNyeXB0by5jcmVhdGVLZXlyaW5nKGZhbHNlKTtcblxuXHRcdGNvbnN0IHByaXZhdGVLZXkgPSBrZXlyaW5nLnByaXZhdGVLZXlzLmZpbmRCeUZpbmdlcnByaW50KGZpbmdlcnByaW50KTtcblx0XHRjb25zdCBwdWJsaWNLZXkgPSBrZXlyaW5nLnB1YmxpY0tleXMuZmluZEJ5RmluZ2VycHJpbnQoZmluZ2VycHJpbnQpO1xuXG5cdFx0Y29uc29sZS5sb2cocHJpdmF0ZUtleSwgcHVibGljS2V5KTtcblxuXHRcdHJldHVybiBmb3JtYXRFeHBvcnRGaWxlKHtcblx0XHRcdGtleV9wYWlyczoge1xuXHRcdFx0XHRbcHJpdmF0ZUtleS51c2Vyc1swXS51c2VySWQudXNlcmlkXToge1xuXHRcdFx0XHRcdHBydjogW3ByaXZhdGVLZXkuYXJtb3IoKV0sXG5cdFx0XHRcdFx0cHViOiBbcHVibGljS2V5LmFybW9yKCldXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRleHBvcnRlZDogJGZpbHRlcignZGF0ZScpKERhdGUubm93KCksICd5eXl5LU1NLWRkIEhIOm1tOnNzIFonKVxuXHRcdH0pO1xuXHR9O1xuXG5cdHRoaXMuZXhwb3J0UHVibGljS2V5QnlGaW5nZXJwcmludCA9IChmaW5nZXJwcmludCkgPT4ge1xuXHRcdGNvbnN0IFtrZXlyaW5nXSA9IGNyeXB0by5jcmVhdGVLZXlyaW5nKGZhbHNlKTtcblxuXHRcdGxldCBwdWJsaWNLZXkgPSBrZXlyaW5nLnB1YmxpY0tleXMuZmluZEJ5RmluZ2VycHJpbnQoZmluZ2VycHJpbnQpO1xuXG5cdFx0cmV0dXJuIHB1YmxpY0tleS5hcm1vcigpO1xuXHR9O1xuXG5cdHRoaXMuZ2V0RXhwb3J0RmlsZW5hbWUgPSAoYmFja3VwLCB1c2VyTmFtZSkgPT4ge1xuXHRcdGxldCBoYXNoUG9zdGZpeCA9IHV0aWxzLmhleGlmeShvcGVucGdwLmNyeXB0by5oYXNoLm1kNShiYWNrdXApKS5zdWJzdHIoMCwgOCk7XG5cdFx0cmV0dXJuIGAke3VzZXJOYW1lfS0ke2hhc2hQb3N0Zml4fS5qc29uYDtcblx0fTtcbn07Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/fileReader.js":{"source":"\"use strict\";\n\nmodule.exports = /*@ngInject*/function ($rootScope, $q) {\n\tvar getReader = function getReader(deferred, opts) {\n\t\tvar reader = new FileReader();\n\n\t\treader.onload = function () {\n\t\t\treturn deferred.resolve(reader.result);\n\t\t};\n\t\treader.onerror = function () {\n\t\t\treturn deferred.reject(reader.result);\n\t\t};\n\n\t\tif (opts && opts.fileProgress) reader.onprogress = function (event) {\n\t\t\treturn $rootScope.$apply(function () {\n\t\t\t\topts.fileProgress({\n\t\t\t\t\ttotal: event.total,\n\t\t\t\t\tloaded: event.loaded\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\treturn reader;\n\t};\n\n\tthis.readAsDataURL = function (file) {\n\t\tvar opts = arguments[1] === undefined ? {} : arguments[1];\n\n\t\tvar deferred = $q.defer();\n\n\t\tvar reader = getReader(deferred, opts);\n\t\treader.readAsDataURL(file);\n\n\t\treturn deferred.promise;\n\t};\n\n\tthis.readAsText = function (file) {\n\t\tvar opts = arguments[1] === undefined ? {} : arguments[1];\n\n\t\tvar deferred = $q.defer();\n\n\t\tvar reader = getReader(deferred, opts);\n\t\treader.readAsText(file);\n\n\t\treturn deferred.promise;\n\t};\n\n\tthis.readAsArrayBuffer = function (file) {\n\t\tvar opts = arguments[1] === undefined ? {} : arguments[1];\n\n\t\tvar deferred = $q.defer();\n\n\t\tvar reader = getReader(deferred, opts);\n\t\treader.readAsArrayBuffer(file);\n\n\t\treturn deferred.promise;\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL2ZpbGVSZWFkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBVSxVQUFVLEVBQUUsRUFBRSxFQUFFO0FBQ3ZELEtBQU0sU0FBUyxHQUFHLFNBQVosU0FBUyxDQUFJLFFBQVEsRUFBRSxJQUFJLEVBQUs7QUFDckMsTUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQzs7QUFFOUIsUUFBTSxDQUFDLE1BQU0sR0FBRztVQUFNLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztHQUFBLENBQUM7QUFDdEQsUUFBTSxDQUFDLE9BQU8sR0FBRztVQUFNLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztHQUFBLENBQUM7O0FBRXRELE1BQUksSUFBSSxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQzVCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsVUFBQSxLQUFLO1VBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxZQUFNO0FBQ3BELFFBQUksQ0FBQyxZQUFZLENBQUM7QUFDakIsVUFBSyxFQUFFLEtBQUssQ0FBQyxLQUFLO0FBQ2xCLFdBQU0sRUFBRSxLQUFLLENBQUMsTUFBTTtLQUNwQixDQUFDLENBQUM7SUFDSCxDQUFDO0dBQUEsQ0FBQzs7QUFFSixTQUFPLE1BQU0sQ0FBQztFQUNkLENBQUM7O0FBRUYsS0FBSSxDQUFDLGFBQWEsR0FBRyxVQUFDLElBQUksRUFBZ0I7TUFBZCxJQUFJLGdDQUFHLEVBQUU7O0FBQ3BDLE1BQUksUUFBUSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzs7QUFFMUIsTUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN2QyxRQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUUzQixTQUFPLFFBQVEsQ0FBQyxPQUFPLENBQUM7RUFDeEIsQ0FBQzs7QUFFRixLQUFJLENBQUMsVUFBVSxHQUFHLFVBQUMsSUFBSSxFQUFnQjtNQUFkLElBQUksZ0NBQUcsRUFBRTs7QUFDakMsTUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDOztBQUUxQixNQUFJLE1BQU0sR0FBRyxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLFFBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXhCLFNBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQztFQUN4QixDQUFDOztBQUVGLEtBQUksQ0FBQyxpQkFBaUIsR0FBRyxVQUFDLElBQUksRUFBZ0I7TUFBZCxJQUFJLGdDQUFHLEVBQUU7O0FBQ3hDLE1BQUksUUFBUSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzs7QUFFMUIsTUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN2QyxRQUFNLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRS9CLFNBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQztFQUN4QixDQUFDO0NBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9zZXJ2aWNlcy9maWxlUmVhZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAvKkBuZ0luamVjdCovZnVuY3Rpb24gKCRyb290U2NvcGUsICRxKSB7XG5cdGNvbnN0IGdldFJlYWRlciA9IChkZWZlcnJlZCwgb3B0cykgPT4ge1xuXHRcdGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG5cdFx0cmVhZGVyLm9ubG9hZCA9ICgpID0+IGRlZmVycmVkLnJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG5cdFx0cmVhZGVyLm9uZXJyb3IgPSAoKSA9PiBkZWZlcnJlZC5yZWplY3QocmVhZGVyLnJlc3VsdCk7XG5cblx0XHRpZiAob3B0cyAmJiBvcHRzLmZpbGVQcm9ncmVzcylcblx0XHRcdHJlYWRlci5vbnByb2dyZXNzID0gZXZlbnQgPT4gJHJvb3RTY29wZS4kYXBwbHkoKCkgPT4ge1xuXHRcdFx0XHRvcHRzLmZpbGVQcm9ncmVzcyh7XG5cdFx0XHRcdFx0dG90YWw6IGV2ZW50LnRvdGFsLFxuXHRcdFx0XHRcdGxvYWRlZDogZXZlbnQubG9hZGVkXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRyZXR1cm4gcmVhZGVyO1xuXHR9O1xuXG5cdHRoaXMucmVhZEFzRGF0YVVSTCA9IChmaWxlLCBvcHRzID0ge30pID0+IHtcblx0XHRsZXQgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0bGV0IHJlYWRlciA9IGdldFJlYWRlcihkZWZlcnJlZCwgb3B0cyk7XG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cblx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0fTtcblxuXHR0aGlzLnJlYWRBc1RleHQgPSAoZmlsZSwgb3B0cyA9IHt9KSA9PiB7XG5cdFx0bGV0IGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuXHRcdGxldCByZWFkZXIgPSBnZXRSZWFkZXIoZGVmZXJyZWQsIG9wdHMpO1xuXHRcdHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdH07XG5cblx0dGhpcy5yZWFkQXNBcnJheUJ1ZmZlciA9IChmaWxlLCBvcHRzID0ge30pID0+IHtcblx0XHRsZXQgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0bGV0IHJlYWRlciA9IGdldFJlYWRlcihkZWZlcnJlZCwgb3B0cyk7XG5cdFx0cmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdH07XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/loader.js":{"source":"\"use strict\";\n\nmodule.exports = /*@ngInject*/function () {\n\tvar loader = window.loader;\n\n\tthis.loadMainApplication = function (opts) {\n\t\tloader.loadMainApplication(opts);\n\t};\n\n\tthis.loadLoginApplication = function (opts) {\n\t\tloader.loadLoginApplication(opts);\n\t};\n\n\tthis.resetProgress = function () {\n\t\tloader.resetProgress();\n\t};\n\n\tthis.setProgress = function (text, progress) {\n\t\tloader.setProgress(text, progress);\n\t};\n\n\tthis.incProgress = function (text, progress) {\n\t\tloader.incProgress(text, progress);\n\t};\n\n\tthis.getProgress = function () {\n\t\treturn loader.getProgress();\n\t};\n\n\tthis.showLoader = function () {\n\t\tvar isImmediate = arguments[0] === undefined ? false : arguments[0];\n\n\t\tloader.showLoader(isImmediate);\n\t};\n\n\tthis.isMainApplication = function () {\n\t\treturn loader.isMainApplication();\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL2xvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixZQUFXO0FBQ3hDLEtBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7O0FBRTNCLEtBQUksQ0FBQyxtQkFBbUIsR0FBRyxVQUFDLElBQUksRUFBSztBQUNwQyxRQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDakMsQ0FBQzs7QUFFRixLQUFJLENBQUMsb0JBQW9CLEdBQUcsVUFBQyxJQUFJLEVBQUs7QUFDckMsUUFBTSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO0VBQ2xDLENBQUM7O0FBRUYsS0FBSSxDQUFDLGFBQWEsR0FBRyxZQUFNO0FBQzFCLFFBQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQztFQUN2QixDQUFDOztBQUVGLEtBQUksQ0FBQyxXQUFXLEdBQUcsVUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFLO0FBQ3RDLFFBQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0VBQ25DLENBQUM7O0FBRUYsS0FBSSxDQUFDLFdBQVcsR0FBRyxVQUFDLElBQUksRUFBRSxRQUFRLEVBQUs7QUFDdEMsUUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7RUFDbkMsQ0FBQzs7QUFFRixLQUFJLENBQUMsV0FBVyxHQUFHO1NBQU0sTUFBTSxDQUFDLFdBQVcsRUFBRTtFQUFBLENBQUM7O0FBRTlDLEtBQUksQ0FBQyxVQUFVLEdBQUcsWUFBeUI7TUFBeEIsV0FBVyxnQ0FBRyxLQUFLOztBQUNyQyxRQUFNLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0VBQy9CLENBQUM7O0FBRUYsS0FBSSxDQUFDLGlCQUFpQixHQUFHO1NBQU0sTUFBTSxDQUFDLGlCQUFpQixFQUFFO0VBQUEsQ0FBQztDQUMxRCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL2xvYWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqL2Z1bmN0aW9uKCkge1xuXHRsZXQgbG9hZGVyID0gd2luZG93LmxvYWRlcjtcblxuXHR0aGlzLmxvYWRNYWluQXBwbGljYXRpb24gPSAob3B0cykgPT4ge1xuXHRcdGxvYWRlci5sb2FkTWFpbkFwcGxpY2F0aW9uKG9wdHMpO1xuXHR9O1xuXG5cdHRoaXMubG9hZExvZ2luQXBwbGljYXRpb24gPSAob3B0cykgPT4ge1xuXHRcdGxvYWRlci5sb2FkTG9naW5BcHBsaWNhdGlvbihvcHRzKTtcblx0fTtcblxuXHR0aGlzLnJlc2V0UHJvZ3Jlc3MgPSAoKSA9PiB7XG5cdFx0bG9hZGVyLnJlc2V0UHJvZ3Jlc3MoKTtcblx0fTtcblxuXHR0aGlzLnNldFByb2dyZXNzID0gKHRleHQsIHByb2dyZXNzKSA9PiB7XG5cdFx0bG9hZGVyLnNldFByb2dyZXNzKHRleHQsIHByb2dyZXNzKTtcblx0fTtcblxuXHR0aGlzLmluY1Byb2dyZXNzID0gKHRleHQsIHByb2dyZXNzKSA9PiB7XG5cdFx0bG9hZGVyLmluY1Byb2dyZXNzKHRleHQsIHByb2dyZXNzKTtcblx0fTtcblxuXHR0aGlzLmdldFByb2dyZXNzID0gKCkgPT4gbG9hZGVyLmdldFByb2dyZXNzKCk7XG5cblx0dGhpcy5zaG93TG9hZGVyID0gKGlzSW1tZWRpYXRlID0gZmFsc2UpID0+IHtcblx0XHRsb2FkZXIuc2hvd0xvYWRlcihpc0ltbWVkaWF0ZSk7XG5cdH07XG5cblx0dGhpcy5pc01haW5BcHBsaWNhdGlvbiA9ICgpID0+IGxvYWRlci5pc01haW5BcHBsaWNhdGlvbigpO1xufTsiXX0=","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/notifications.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($rootScope, $translate, $timeout) {\n\tvar self = this;\n\n\tvar translations = {\n\t\tWEB_CRYPTO_IS_NOT_AVAILABLE_TITLE: '',\n\t\tWEB_CRYPTO_IS_NOT_AVAILABLE_TEXT: '',\n\t\tWEB_WORKERS_IS_NOT_AVAILABLE_TITLE: '',\n\t\tWEB_WORKERS_IS_NOT_AVAILABLE_TEXT: ''\n\t};\n\n\t$translate.bindAsObject(translations, 'NOTIFICATIONS');\n\n\tvar notifications = {};\n\n\tthis.clear = function () {\n\t\tnotifications = {};\n\t\t$rootScope.$broadcast('notifications');\n\t};\n\n\tthis.set = function (name, _ref) {\n\t\tvar text = _ref.text;\n\t\tvar title = _ref.title;\n\t\tvar type = _ref.type;\n\t\tvar timeout = _ref.timeout;\n\t\tvar namespace = _ref.namespace;\n\t\tvar onRemove = _ref.onRemove;\n\n\t\tif (!type) type = 'warning';\n\t\tif (!namespace) namespace = 'root';\n\t\tif (!title) title = '';\n\t\tif (!timeout) timeout = 0;\n\t\tif (!onRemove) onRemove = null;\n\n\t\tvar cssClass = '';\n\t\tif (type == 'warning') cssClass = 'icon-info-circle';\n\n\t\tvar notification = {\n\t\t\ttext: text,\n\t\t\ttitle: title,\n\t\t\ttype: type,\n\t\t\ttimeout: timeout,\n\t\t\tnamespace: namespace,\n\t\t\tcssClass: cssClass,\n\t\t\tonRemove: onRemove\n\t\t};\n\t\tnotifications[namespace + '.' + name] = notification;\n\n\t\tif (timeout > 0) $timeout(function () {\n\t\t\tself.unSet(name, namespace);\n\t\t}, timeout);\n\n\t\t$rootScope.$broadcast('notifications');\n\t};\n\n\tthis.unSet = function (name) {\n\t\tvar namespace = arguments[1] === undefined ? 'root' : arguments[1];\n\n\t\tname = namespace + '.' + name;\n\t\tif (name in notifications) {\n\t\t\tif (notifications[name].onRemove) notifications[name].onRemove();\n\t\t\tdelete notifications[name];\n\t\t\t$rootScope.$broadcast('notifications');\n\t\t}\n\t};\n\n\tthis.get = function (type) {\n\t\tvar namespace = arguments[1] === undefined ? 'root' : arguments[1];\n\n\t\tvar notificationsSet = angular.copy(notifications);\n\t\tvar r = Object.keys(notificationsSet).reduce(function (a, name) {\n\t\t\tif (!name.startsWith(namespace + '.')) return a;\n\n\t\t\tif (notificationsSet[name].type == type) a[name.replace(namespace + '.', '')] = notificationsSet[name];\n\n\t\t\treturn a;\n\t\t}, {});\n\n\t\tif (namespace != 'root') angular.extend(r, self.get(type));\n\n\t\treturn r;\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL25vdGlmaWNhdGlvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBUyxVQUFVLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRTtBQUN4RSxLQUFNLElBQUksR0FBRyxJQUFJLENBQUM7O0FBRWxCLEtBQU0sWUFBWSxHQUFHO0FBQ3BCLG1DQUFpQyxFQUFDLEVBQUU7QUFDcEMsa0NBQWdDLEVBQUMsRUFBRTtBQUNuQyxvQ0FBa0MsRUFBQyxFQUFFO0FBQ3JDLG1DQUFpQyxFQUFDLEVBQUU7RUFDcEMsQ0FBQzs7QUFFRixXQUFVLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxlQUFlLENBQUMsQ0FBQzs7QUFFdkQsS0FBSSxhQUFhLEdBQUcsRUFBRSxDQUFDOztBQUV2QixLQUFJLENBQUMsS0FBSyxHQUFHLFlBQU07QUFDbEIsZUFBYSxHQUFHLEVBQUUsQ0FBQztBQUNuQixZQUFVLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0VBQ3ZDLENBQUM7O0FBRUYsS0FBSSxDQUFDLEdBQUcsR0FBRyxVQUFDLElBQUksRUFBRSxJQUFpRCxFQUFLO01BQXJELElBQUksR0FBTCxJQUFpRCxDQUFoRCxJQUFJO01BQUUsS0FBSyxHQUFaLElBQWlELENBQTFDLEtBQUs7TUFBRSxJQUFJLEdBQWxCLElBQWlELENBQW5DLElBQUk7TUFBRSxPQUFPLEdBQTNCLElBQWlELENBQTdCLE9BQU87TUFBRSxTQUFTLEdBQXRDLElBQWlELENBQXBCLFNBQVM7TUFBRSxRQUFRLEdBQWhELElBQWlELENBQVQsUUFBUTs7QUFDakUsTUFBSSxDQUFDLElBQUksRUFDUixJQUFJLEdBQUcsU0FBUyxDQUFDO0FBQ2xCLE1BQUksQ0FBQyxTQUFTLEVBQ2IsU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUNwQixNQUFJLENBQUMsS0FBSyxFQUNULEtBQUssR0FBRyxFQUFFLENBQUM7QUFDWixNQUFJLENBQUMsT0FBTyxFQUNYLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFDYixNQUFJLENBQUMsUUFBUSxFQUNaLFFBQVEsR0FBRyxJQUFJLENBQUM7O0FBRWpCLE1BQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztBQUNsQixNQUFJLElBQUksSUFBSSxTQUFTLEVBQ3BCLFFBQVEsR0FBRyxrQkFBa0IsQ0FBQzs7QUFFL0IsTUFBTSxZQUFZLEdBQUc7QUFDcEIsT0FBSSxFQUFKLElBQUk7QUFDSixRQUFLLEVBQUwsS0FBSztBQUNMLE9BQUksRUFBSixJQUFJO0FBQ0osVUFBTyxFQUFQLE9BQU87QUFDUCxZQUFTLEVBQVQsU0FBUztBQUNULFdBQVEsRUFBUixRQUFRO0FBQ1IsV0FBUSxFQUFSLFFBQVE7R0FDUixDQUFDO0FBQ0YsZUFBYSxDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsWUFBWSxDQUFDOztBQUVyRCxNQUFJLE9BQU8sR0FBRyxDQUFDLEVBQ2QsUUFBUSxDQUFDLFlBQU07QUFDZCxPQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztHQUM1QixFQUFFLE9BQU8sQ0FBQyxDQUFDOztBQUViLFlBQVUsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLENBQUM7RUFDdkMsQ0FBQzs7QUFFRixLQUFJLENBQUMsS0FBSyxHQUFHLFVBQUMsSUFBSSxFQUF5QjtNQUF2QixTQUFTLGdDQUFHLE1BQU07O0FBQ3JDLE1BQUksR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztBQUM5QixNQUFJLElBQUksSUFBSSxhQUFhLEVBQUU7QUFDMUIsT0FBSSxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUMvQixhQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDaEMsVUFBTyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0IsYUFBVSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQztHQUN2QztFQUNELENBQUM7O0FBRUYsS0FBSSxDQUFDLEdBQUcsR0FBRyxVQUFDLElBQUksRUFBeUI7TUFBdkIsU0FBUyxnQ0FBRyxNQUFNOztBQUNuQyxNQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDckQsTUFBSSxDQUFDLEdBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsRUFBRSxJQUFJLEVBQUs7QUFDMUQsT0FBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxFQUNwQyxPQUFPLENBQUMsQ0FBQzs7QUFFVixPQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFL0QsVUFBTyxDQUFDLENBQUM7R0FDVCxFQUFFLEVBQUUsQ0FBQyxDQUFDOztBQUVQLE1BQUksU0FBUyxJQUFJLE1BQU0sRUFDdEIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUVuQyxTQUFPLENBQUMsQ0FBQztFQUNULENBQUM7Q0FDRixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL25vdGlmaWNhdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki9mdW5jdGlvbigkcm9vdFNjb3BlLCAkdHJhbnNsYXRlLCAkdGltZW91dCkge1xuXHRjb25zdCBzZWxmID0gdGhpcztcblxuXHRjb25zdCB0cmFuc2xhdGlvbnMgPSB7XG5cdFx0V0VCX0NSWVBUT19JU19OT1RfQVZBSUxBQkxFX1RJVExFOicnLFxuXHRcdFdFQl9DUllQVE9fSVNfTk9UX0FWQUlMQUJMRV9URVhUOicnLFxuXHRcdFdFQl9XT1JLRVJTX0lTX05PVF9BVkFJTEFCTEVfVElUTEU6JycsXG5cdFx0V0VCX1dPUktFUlNfSVNfTk9UX0FWQUlMQUJMRV9URVhUOicnXG5cdH07XG5cblx0JHRyYW5zbGF0ZS5iaW5kQXNPYmplY3QodHJhbnNsYXRpb25zLCAnTk9USUZJQ0FUSU9OUycpO1xuXG5cdGxldCBub3RpZmljYXRpb25zID0ge307XG5cblx0dGhpcy5jbGVhciA9ICgpID0+IHtcblx0XHRub3RpZmljYXRpb25zID0ge307XG5cdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdub3RpZmljYXRpb25zJyk7XG5cdH07XG5cblx0dGhpcy5zZXQgPSAobmFtZSwge3RleHQsIHRpdGxlLCB0eXBlLCB0aW1lb3V0LCBuYW1lc3BhY2UsIG9uUmVtb3ZlfSkgPT4ge1xuXHRcdGlmICghdHlwZSlcblx0XHRcdHR5cGUgPSAnd2FybmluZyc7XG5cdFx0aWYgKCFuYW1lc3BhY2UpXG5cdFx0XHRuYW1lc3BhY2UgPSAncm9vdCc7XG5cdFx0aWYgKCF0aXRsZSlcblx0XHRcdHRpdGxlID0gJyc7XG5cdFx0aWYgKCF0aW1lb3V0KVxuXHRcdFx0dGltZW91dCA9IDA7XG5cdFx0aWYgKCFvblJlbW92ZSlcblx0XHRcdG9uUmVtb3ZlID0gbnVsbDtcblxuXHRcdGxldCBjc3NDbGFzcyA9ICcnO1xuXHRcdGlmICh0eXBlID09ICd3YXJuaW5nJylcblx0XHRcdGNzc0NsYXNzID0gJ2ljb24taW5mby1jaXJjbGUnO1xuXG5cdFx0Y29uc3Qgbm90aWZpY2F0aW9uID0ge1xuXHRcdFx0dGV4dCxcblx0XHRcdHRpdGxlLFxuXHRcdFx0dHlwZSxcblx0XHRcdHRpbWVvdXQsXG5cdFx0XHRuYW1lc3BhY2UsXG5cdFx0XHRjc3NDbGFzcyxcblx0XHRcdG9uUmVtb3ZlXG5cdFx0fTtcblx0XHRub3RpZmljYXRpb25zW25hbWVzcGFjZSArICcuJyArIG5hbWVdID0gbm90aWZpY2F0aW9uO1xuXG5cdFx0aWYgKHRpbWVvdXQgPiAwKVxuXHRcdFx0JHRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRzZWxmLnVuU2V0KG5hbWUsIG5hbWVzcGFjZSk7XG5cdFx0XHR9LCB0aW1lb3V0KTtcblxuXHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnbm90aWZpY2F0aW9ucycpO1xuXHR9O1xuXG5cdHRoaXMudW5TZXQgPSAobmFtZSwgbmFtZXNwYWNlID0gJ3Jvb3QnKSA9PiB7XG5cdFx0bmFtZSA9IG5hbWVzcGFjZSArICcuJyArIG5hbWU7XG5cdFx0aWYgKG5hbWUgaW4gbm90aWZpY2F0aW9ucykge1xuXHRcdFx0aWYgKG5vdGlmaWNhdGlvbnNbbmFtZV0ub25SZW1vdmUpXG5cdFx0XHRcdG5vdGlmaWNhdGlvbnNbbmFtZV0ub25SZW1vdmUoKTtcblx0XHRcdGRlbGV0ZSBub3RpZmljYXRpb25zW25hbWVdO1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdub3RpZmljYXRpb25zJyk7XG5cdFx0fVxuXHR9O1xuXG5cdHRoaXMuZ2V0ID0gKHR5cGUsIG5hbWVzcGFjZSA9ICdyb290JykgPT4ge1xuXHRcdGNvbnN0IG5vdGlmaWNhdGlvbnNTZXQgPSBhbmd1bGFyLmNvcHkobm90aWZpY2F0aW9ucyk7XG5cdFx0bGV0IHIgPSAgT2JqZWN0LmtleXMobm90aWZpY2F0aW9uc1NldCkucmVkdWNlKChhLCBuYW1lKSA9PiB7XG5cdFx0XHRpZiAoIW5hbWUuc3RhcnRzV2l0aChuYW1lc3BhY2UgKyAnLicpKVxuXHRcdFx0XHRyZXR1cm4gYTtcblxuXHRcdFx0aWYgKG5vdGlmaWNhdGlvbnNTZXRbbmFtZV0udHlwZSA9PSB0eXBlKVxuXHRcdFx0XHRhW25hbWUucmVwbGFjZShuYW1lc3BhY2UgKyAnLicsICcnKV0gPSBub3RpZmljYXRpb25zU2V0W25hbWVdO1xuXG5cdFx0XHRyZXR1cm4gYTtcblx0XHR9LCB7fSk7XG5cblx0XHRpZiAobmFtZXNwYWNlICE9ICdyb290Jylcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKHIsIHNlbGYuZ2V0KHR5cGUpKTtcblxuXHRcdHJldHVybiByO1xuXHR9O1xufTsiXX0=","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/saver.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($translate, utils, notifications, co) {\n\tvar notifications18n = {\n\t\tBAD_BROWSER_TITLE: '',\n\t\tBAD_BROWSER_TEXT: ''\n\t};\n\n\t$translate.bindAsObject(notifications18n, 'NOTIFICATIONS');\n\n\tfunction checkBrowser() {\n\t\tif (utils.getBrowser().isSafari || !window.Blob || !window.FileReader) notifications.set('bad-browser', {\n\t\t\ttitle: notifications18n.BAD_BROWSER_TITLE,\n\t\t\ttext: notifications18n.BAD_BROWSER_TEXT,\n\t\t\ttype: 'warning'\n\t\t});\n\n\t\treturn !!window.Blob && !!window.FileReader;\n\t}\n\n\tthis.saveAs = function (data, name) {\n\t\tvar type = arguments[2] === undefined ? 'application/octet-stream' : arguments[2];\n\n\t\tif (!checkBrowser()) return;\n\n\t\tvar blob = new Blob([utils.str2Uint8Array(data)], { type: type });\n\t\tsaveAs(blob, name);\n\t};\n\n\tthis.openAs = function (data, type) {\n\t\tif (!checkBrowser()) return;\n\n\t\tvar reader = new FileReader();\n\t\tvar out = new Blob([data], { type: type });\n\t\treader.onload = function (e) {\n\t\t\tvar base64Data = btoa(reader.result);\n\t\t\tvar dataUri = 'data:' + type + ';base64,' + base64Data;\n\t\t\twindow.open(dataUri);\n\t\t};\n\t\treader.readAsBinaryString(out);\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3NhdmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQVMsVUFBVSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFO0FBQzVFLEtBQU0sZ0JBQWdCLEdBQUc7QUFDeEIsbUJBQWlCLEVBQUUsRUFBRTtBQUNyQixrQkFBZ0IsRUFBRSxFQUFFO0VBQ3BCLENBQUM7O0FBRUYsV0FBVSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRSxlQUFlLENBQUMsQ0FBQzs7QUFFM0QsVUFBUyxZQUFZLEdBQUc7QUFDdkIsTUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQ3BFLGFBQWEsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFO0FBQ2hDLFFBQUssRUFBRSxnQkFBZ0IsQ0FBQyxpQkFBaUI7QUFDekMsT0FBSSxFQUFFLGdCQUFnQixDQUFDLGdCQUFnQjtBQUN2QyxPQUFJLEVBQUUsU0FBUztHQUNmLENBQUMsQ0FBQzs7QUFFSixTQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO0VBQzVDOztBQUVELEtBQUksQ0FBQyxNQUFNLEdBQUcsVUFBQyxJQUFJLEVBQUUsSUFBSSxFQUF3QztNQUF0QyxJQUFJLGdDQUFHLDBCQUEwQjs7QUFDM0QsTUFBSSxDQUFDLFlBQVksRUFBRSxFQUNsQixPQUFPOztBQUVSLE1BQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7QUFDaEUsUUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztFQUNuQixDQUFDOztBQUVGLEtBQUksQ0FBQyxNQUFNLEdBQUcsVUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFLO0FBQzdCLE1BQUksQ0FBQyxZQUFZLEVBQUUsRUFDbEIsT0FBTzs7QUFFUixNQUFJLE1BQU0sR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO0FBQzlCLE1BQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztBQUN6QyxRQUFNLENBQUMsTUFBTSxHQUFHLFVBQVMsQ0FBQyxFQUFDO0FBQzFCLE9BQUksVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckMsT0FBSSxPQUFPLEdBQUcsT0FBTyxHQUFHLElBQUksR0FBRyxVQUFVLEdBQUcsVUFBVSxDQUFDO0FBQ3ZELFNBQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDckIsQ0FBQztBQUNGLFFBQU0sQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztFQUMvQixDQUFDO0NBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9zZXJ2aWNlcy9zYXZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqL2Z1bmN0aW9uKCR0cmFuc2xhdGUsIHV0aWxzLCBub3RpZmljYXRpb25zLCBjbykge1xuXHRjb25zdCBub3RpZmljYXRpb25zMThuID0ge1xuXHRcdEJBRF9CUk9XU0VSX1RJVExFOiAnJyxcblx0XHRCQURfQlJPV1NFUl9URVhUOiAnJ1xuXHR9O1xuXG5cdCR0cmFuc2xhdGUuYmluZEFzT2JqZWN0KG5vdGlmaWNhdGlvbnMxOG4sICdOT1RJRklDQVRJT05TJyk7XG5cblx0ZnVuY3Rpb24gY2hlY2tCcm93c2VyKCkge1xuXHRcdGlmICh1dGlscy5nZXRCcm93c2VyKCkuaXNTYWZhcmkgfHwgIXdpbmRvdy5CbG9iIHx8ICF3aW5kb3cuRmlsZVJlYWRlcilcblx0XHRcdG5vdGlmaWNhdGlvbnMuc2V0KCdiYWQtYnJvd3NlcicsIHtcblx0XHRcdFx0dGl0bGU6IG5vdGlmaWNhdGlvbnMxOG4uQkFEX0JST1dTRVJfVElUTEUsXG5cdFx0XHRcdHRleHQ6IG5vdGlmaWNhdGlvbnMxOG4uQkFEX0JST1dTRVJfVEVYVCxcblx0XHRcdFx0dHlwZTogJ3dhcm5pbmcnXG5cdFx0XHR9KTtcblxuXHRcdHJldHVybiAhIXdpbmRvdy5CbG9iICYmICEhd2luZG93LkZpbGVSZWFkZXI7XG5cdH1cblxuXHR0aGlzLnNhdmVBcyA9IChkYXRhLCBuYW1lLCB0eXBlID0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpID0+IHtcblx0XHRpZiAoIWNoZWNrQnJvd3NlcigpKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbdXRpbHMuc3RyMlVpbnQ4QXJyYXkoZGF0YSldLCB7dHlwZTogdHlwZX0pO1xuXHRcdHNhdmVBcyhibG9iLCBuYW1lKTtcblx0fTtcblxuXHR0aGlzLm9wZW5BcyA9IChkYXRhLCB0eXBlKSA9PiB7XG5cdFx0aWYgKCFjaGVja0Jyb3dzZXIoKSlcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdHZhciBvdXQgPSBuZXcgQmxvYihbZGF0YV0sIHt0eXBlOiB0eXBlfSk7XG5cdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0dmFyIGJhc2U2NERhdGEgPSBidG9hKHJlYWRlci5yZXN1bHQpO1xuXHRcdFx0dmFyIGRhdGFVcmkgPSAnZGF0YTonICsgdHlwZSArICc7YmFzZTY0LCcgKyBiYXNlNjREYXRhO1xuXHRcdFx0d2luZG93Lm9wZW4oZGF0YVVyaSk7XG5cdFx0fTtcblx0XHRyZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKG91dCk7XG5cdH07XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/tests.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($rootScope, $timeout, $state, $translate, $http, co, notifications, crypto, user, utils) {\n\tvar self = this;\n\n\tvar notifications18n = {\n\t\tWEB_CRYPTO_IS_NOT_AVAILABLE_TITLE: '',\n\t\tWEB_CRYPTO_IS_NOT_AVAILABLE_TEXT: '',\n\t\tWEB_WORKERS_IS_NOT_AVAILABLE_TITLE: '',\n\t\tWEB_WORKERS_IS_NOT_AVAILABLE_TEXT: '',\n\t\tWEB_CRYPTO_LIMITED_TITLE: '',\n\t\tWEB_CRYPTO_LIMITED_TEXT: '',\n\t\tSERVED_BY_TITLE: '%',\n\t\tSERVED_BY_TEXT: '%',\n\t\tSERVED_BY_UNKNOWN_TITLE: '',\n\t\tSERVED_BY_UNKNOWN_TEXT: '',\n\t\tNO_KEY_TITLE: '',\n\t\tNO_KEY_TEXT: '',\n\t\tMOBILE_BROWSER_TITLE: '',\n\t\tMOBILE_BROWSER_TEXT: ''\n\t};\n\n\tvar poweredBy = '';\n\n\tthis.initialize = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn $translate.bindAsObject(notifications18n, 'NOTIFICATIONS');\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.performCompatibilityChecks = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar browser, isWebCryptoKeysGeneration, headRes, list;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tbrowser = utils.getBrowser();\n\n\t\t\t\t\t\tif (browser.isMobile) {\n\t\t\t\t\t\t\tnotifications.set('mobile-platform', {\n\t\t\t\t\t\t\t\ttitle: notifications18n.MOBILE_BROWSER_TITLE,\n\t\t\t\t\t\t\t\ttext: notifications18n.MOBILE_BROWSER_TEXT,\n\t\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!self.isWebWorkers()) notifications.set('web-workers', {\n\t\t\t\t\t\t\ttitle: notifications18n.WEB_WORKERS_IS_NOT_AVAILABLE_TITLE,\n\t\t\t\t\t\t\ttext: notifications18n.WEB_WORKERS_IS_NOT_AVAILABLE_TEXT\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (!self.isWebCrypto()) notifications.set('web-crypto', {\n\t\t\t\t\t\t\ttitle: notifications18n.WEB_CRYPTO_IS_NOT_AVAILABLE_TITLE,\n\t\t\t\t\t\t\ttext: notifications18n.WEB_CRYPTO_IS_NOT_AVAILABLE_TEXT\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcontext$3$0.next = 6;\n\t\t\t\t\t\treturn self.isWebCryptoKeysGeneration();\n\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tisWebCryptoKeysGeneration = context$3$0.sent;\n\n\t\t\t\t\t\tif (!isWebCryptoKeysGeneration) notifications.set('web-crypto-limited', {\n\t\t\t\t\t\t\ttitle: notifications18n.WEB_CRYPTO_LIMITED_TITLE,\n\t\t\t\t\t\t\ttext: notifications18n.WEB_CRYPTO_LIMITED_TEXT\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcontext$3$0.next = 10;\n\t\t\t\t\t\treturn $http.head('/');\n\n\t\t\t\t\tcase 10:\n\t\t\t\t\t\theadRes = context$3$0.sent;\n\n\t\t\t\t\t\tpoweredBy = headRes.headers('X-Powered-By');\n\n\t\t\t\t\t\tif (poweredBy) {\n\t\t\t\t\t\t\tnotifications.set('powered-by', {\n\t\t\t\t\t\t\t\ttitle: notifications18n.SERVED_BY_TITLE({ servedBy: poweredBy }),\n\t\t\t\t\t\t\t\ttext: notifications18n.SERVED_BY_TEXT({ servedBy: poweredBy }),\n\t\t\t\t\t\t\t\tnamespace: 'status',\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotifications.set('powered-by', {\n\t\t\t\t\t\t\t\ttitle: notifications18n.SERVED_BY_UNKNOWN_TITLE,\n\t\t\t\t\t\t\t\ttext: notifications18n.SERVED_BY_UNKNOWN_TEXT,\n\t\t\t\t\t\t\t\tnamespace: 'status',\n\t\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnotifications.set('powered-by', {\n\t\t\t\t\t\t\t\ttitle: notifications18n.SERVED_BY_UNKNOWN_TITLE,\n\t\t\t\t\t\t\t\ttext: notifications18n.SERVED_BY_UNKNOWN_TEXT,\n\t\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlist = crypto.getAvailablePrivateKeysForEmail(user.email);\n\n\t\t\t\t\t\tif (list.length < 1 || list.every(function (k) {\n\t\t\t\t\t\t\treturn !k.primaryKey.isDecrypted;\n\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\tnotifications.set('no-key', {\n\t\t\t\t\t\t\t\ttitle: notifications18n.NO_KEY_TITLE,\n\t\t\t\t\t\t\t\ttext: notifications18n.NO_KEY_TEXT,\n\t\t\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\t\t\tnamespace: 'mailbox',\n\t\t\t\t\t\t\t\tonRemove: function onRemove() {\n\t\t\t\t\t\t\t\t\t$state.go('main.settings.security');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\tcase 15:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.isWebCrypto = function () {\n\t\treturn !!window.crypto || !!window.msCrypto;\n\t};\n\n\tthis.isWebWorkers = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', !!window.Worker);\n\n\t\t\t\t\tcase 1:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.isWebCryptoKeysGeneration = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.prev = 0;\n\t\t\t\t\t\tcontext$3$0.next = 3;\n\t\t\t\t\t\treturn openpgp.key.generate({ numBits: 1024, userId: 'test@test', passphrase: 'test' });\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', true);\n\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tcontext$3$0.prev = 6;\n\t\t\t\t\t\tcontext$3$0.t46 = context$3$0['catch'](0);\n\t\t\t\t\t\treturn context$3$0.abrupt('return', false);\n\n\t\t\t\t\tcase 9:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this, [[0, 6]]);\n\t\t}));\n\t};\n\n\tthis.getPoweredBy = function () {\n\t\treturn poweredBy;\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3Rlc3RzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQVMsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFDMUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUNuRCxLQUFNLElBQUksR0FBRyxJQUFJLENBQUM7O0FBRWxCLEtBQU0sZ0JBQWdCLEdBQUc7QUFDeEIsbUNBQWlDLEVBQUUsRUFBRTtBQUNyQyxrQ0FBZ0MsRUFBRSxFQUFFO0FBQ3BDLG9DQUFrQyxFQUFFLEVBQUU7QUFDdEMsbUNBQWlDLEVBQUUsRUFBRTtBQUNyQywwQkFBd0IsRUFBRSxFQUFFO0FBQzVCLHlCQUF1QixFQUFFLEVBQUU7QUFDM0IsaUJBQWUsRUFBRSxHQUFHO0FBQ3BCLGdCQUFjLEVBQUUsR0FBRztBQUNuQix5QkFBdUIsRUFBRSxFQUFFO0FBQzNCLHdCQUFzQixFQUFFLEVBQUU7QUFDMUIsY0FBWSxFQUFFLEVBQUU7QUFDaEIsYUFBVyxFQUFFLEVBQUU7QUFDZixzQkFBb0IsRUFBRSxFQUFFO0FBQ3hCLHFCQUFtQixFQUFFLEVBQUU7RUFDdkIsQ0FBQzs7QUFFRixLQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7O0FBRW5CLEtBQUksQ0FBQyxVQUFVLEdBQUc7U0FBTSxFQUFFLHlCQUFDOzs7OzthQUNwQixVQUFVLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLGVBQWUsQ0FBQzs7Ozs7OztHQUNoRSxFQUFDO0VBQUEsQ0FBQzs7QUFFSCxLQUFJLENBQUMsMEJBQTBCLEdBQUc7U0FBTSxFQUFFLHlCQUFDO09BQ3RDLE9BQU8sRUFxQlAseUJBQXlCLEVBT3pCLE9BQU8sRUF3QlAsSUFBSTs7OztBQXBESixhQUFPLEdB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T0FDSDs7Ozs7OztHQUNELEVBQUM7RUFBQSxDQUFDOztBQUVILEtBQUksQ0FBQyxXQUFXLEdBQUcsWUFBTTtBQUN4QixTQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0VBQzVDLENBQUM7O0FBRUYsS0FBSSxDQUFDLFlBQVksR0FBRztTQUFNLEVBQUUseUJBQUM7Ozs7MENBQ3JCLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTTs7Ozs7OztHQUN0QixFQUFDO0VBQUEsQ0FBQzs7QUFFSCxLQUFJLENBQUMseUJBQXlCLEdBQUc7U0FBTSxFQUFFLHlCQUFDOzs7Ozs7YUFFbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBQyxDQUFDOzs7MENBRTdFLElBQUk7Ozs7OzBDQUVKLEtBQUs7Ozs7Ozs7R0FFYixFQUFDO0VBQUEsQ0FBQzs7QUFFSCxLQUFJLENBQUMsWUFBWSxHQUFHO1NBQU0sU0FBUztFQUFBLENBQUM7Q0FDcEMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy9VdGlscy9zZXJ2aWNlcy90ZXN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqL2Z1bmN0aW9uKCRyb290U2NvcGUsICR0aW1lb3V0LCAkc3RhdGUsICR0cmFuc2xhdGUsICRodHRwLFxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgY28sIG5vdGlmaWNhdGlvbnMsIGNyeXB0bywgdXNlciwgdXRpbHMpIHtcblx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cblx0Y29uc3Qgbm90aWZpY2F0aW9uczE4biA9IHtcblx0XHRXRUJfQ1JZUFRPX0lTX05PVF9BVkFJTEFCTEVfVElUTEU6ICcnLFxuXHRcdFdFQl9DUllQVE9fSVNfTk9UX0FWQUlMQUJMRV9URVhUOiAnJyxcblx0XHRXRUJfV09SS0VSU19JU19OT1RfQVZBSUxBQkxFX1RJVExFOiAnJyxcblx0XHRXRUJfV09SS0VSU19JU19OT1RfQVZBSUxBQkxFX1RFWFQ6ICcnLFxuXHRcdFdFQl9DUllQVE9fTElNSVRFRF9USVRMRTogJycsXG5cdFx0V0VCX0NSWVBUT19MSU1JVEVEX1RFWFQ6ICcnLFxuXHRcdFNFUlZFRF9CWV9USVRMRTogJyUnLFxuXHRcdFNFUlZFRF9CWV9URVhUOiAnJScsXG5cdFx0U0VSVkVEX0JZX1VOS05PV05fVElUTEU6ICcnLFxuXHRcdFNFUlZFRF9CWV9VTktOT1dOX1RFWFQ6ICcnLFxuXHRcdE5PX0tFWV9USVRMRTogJycsXG5cdFx0Tk9fS0VZX1RFWFQ6ICcnLFxuXHRcdE1PQklMRV9CUk9XU0VSX1RJVExFOiAnJyxcblx0XHRNT0JJTEVfQlJPV1NFUl9URVhUOiAnJ1xuXHR9O1xuXG5cdGxldCBwb3dlcmVkQnkgPSAnJztcblxuXHR0aGlzLmluaXRpYWxpemUgPSAoKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0eWllbGQgJHRyYW5zbGF0ZS5iaW5kQXNPYmplY3Qobm90aWZpY2F0aW9uczE4biwgJ05PVElGSUNBVElPTlMnKTtcblx0fSk7XG5cblx0dGhpcy5wZXJmb3JtQ29tcGF0aWJpbGl0eUNoZWNrcyA9ICgpID0+IGNvKGZ1bmN0aW9uICooKXtcblx0XHRsZXQgYnJvd3NlciA9IHV0aWxzLmdldEJyb3dzZXIoKTtcblx0XHRpZiAoYnJvd3Nlci5pc01vYmlsZSkge1xuXHRcdFx0bm90aWZpY2F0aW9ucy5zZXQoJ21vYmlsZS1wbGF0Zm9ybScsIHtcblx0XHRcdFx0dGl0bGU6IG5vdGlmaWNhdGlvbnMxOG4uTU9CSUxFX0JST1dTRVJfVElUTEUsXG5cdFx0XHRcdHRleHQ6IG5vdGlmaWNhdGlvbnMxOG4uTU9CSUxFX0JST1dTRVJfVEVYVCxcblx0XHRcdFx0dHlwZTogJ3dhcm5pbmcnXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIXNlbGYuaXNXZWJXb3JrZXJzKCkpXG5cdFx0XHRub3RpZmljYXRpb25zLnNldCgnd2ViLXdvcmtlcnMnLCB7XG5cdFx0XHRcdHRpdGxlOiBub3RpZmljYXRpb25zMThuLldFQl9XT1JLRVJTX0lTX05PVF9BVkFJTEFCTEVfVElUTEUsXG5cdFx0XHRcdHRleHQ6IG5vdGlmaWNhdGlvbnMxOG4uV0VCX1dPUktFUlNfSVNfTk9UX0FWQUlMQUJMRV9URVhUXG5cdFx0XHR9KTtcblxuXHRcdGlmICghc2VsZi5pc1dlYkNyeXB0bygpKVxuXHRcdFx0bm90aWZpY2F0aW9ucy5zZXQoJ3dlYi1jcnlwdG8nLCB7XG5cdFx0XHRcdHRpdGxlOiBub3RpZmljYXRpb25zMThuLldFQl9DUllQVE9fSVNfTk9UX0FWQUlMQUJMRV9USVRMRSxcblx0XHRcdFx0dGV4dDogbm90aWZpY2F0aW9uczE4bi5XRUJfQ1JZUFRPX0lTX05PVF9BVkFJTEFCTEVfVEVYVFxuXHRcdFx0fSk7XG5cblx0XHRsZXQgaXNXZWJDcnlwdG9LZXlzR2VuZXJhdGlvbiA9IHlpZWxkIHNlbGYuaXNXZWJDcnlwdG9LZXlzR2VuZXJhdGlvbigpO1xuXHRcdGlmICghaXNXZWJDcnlwdG9LZXlzR2VuZXJhdGlvbilcblx0XHRcdG5vdGlmaWNhdGlvbnMuc2V0KCd3ZWItY3J5cHRvLWxpbWl0ZWQnLCB7XG5cdFx0XHRcdHRpdGxlOiBub3RpZmljYXRpb25zMThuLldFQl9DUllQVE9fTElNSVRFRF9USVRMRSxcblx0XHRcdFx0dGV4dDogbm90aWZpY2F0aW9uczE4bi5XRUJfQ1JZUFRPX0xJTUlURURfVEVYVFxuXHRcdFx0fSk7XG5cblx0XHRsZXQgaGVhZFJlcyA9IHlpZWxkICRodHRwLmhlYWQoJy8nKTtcblx0XHRwb3dlcmVkQnkgPSBoZWFkUmVzLmhlYWRlcnMoJ1gtUG93ZXJlZC1CeScpO1xuXG5cdFx0aWYgKHBvd2VyZWRCeSkge1xuXHRcdFx0bm90aWZpY2F0aW9ucy5zZXQoJ3Bvd2VyZWQtYnknLCB7XG5cdFx0XHRcdHRpdGxlOiBub3RpZmljYXRpb25zMThuLlNFUlZFRF9CWV9USVRMRSh7c2VydmVkQnk6IHBvd2VyZWRCeX0pLFxuXHRcdFx0XHR0ZXh0OiBub3RpZmljYXRpb25zMThuLlNFUlZFRF9CWV9URVhUKHtzZXJ2ZWRCeTogcG93ZXJlZEJ5fSksXG5cdFx0XHRcdG5hbWVzcGFjZTogJ3N0YXR1cycsXG5cdFx0XHRcdHR5cGU6ICdpbmZvJ1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vdGlmaWNhdGlvbnMuc2V0KCdwb3dlcmVkLWJ5Jywge1xuXHRcdFx0XHR0aXRsZTogbm90aWZpY2F0aW9uczE4bi5TRVJWRURfQllfVU5LTk9XTl9USVRMRSxcblx0XHRcdFx0dGV4dDogbm90aWZpY2F0aW9uczE4bi5TRVJWRURfQllfVU5LTk9XTl9URVhULFxuXHRcdFx0XHRuYW1lc3BhY2U6ICdzdGF0dXMnLFxuXHRcdFx0XHR0eXBlOiAnd2FybmluZydcblx0XHRcdH0pO1xuXHRcdFx0bm90aWZpY2F0aW9ucy5zZXQoJ3Bvd2VyZWQtYnknLCB7XG5cdFx0XHRcdHRpdGxlOiBub3RpZmljYXRpb25zMThuLlNFUlZFRF9CWV9VTktOT1dOX1RJVExFLFxuXHRcdFx0XHR0ZXh0OiBub3RpZmljYXRpb25zMThuLlNFUlZFRF9CWV9VTktOT1dOX1RFWFQsXG5cdFx0XHRcdHR5cGU6ICd3YXJuaW5nJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0bGV0IGxpc3QgPSBjcnlwdG8uZ2V0QXZhaWxhYmxlUHJpdmF0ZUtleXNGb3JFbWFpbCh1c2VyLmVtYWlsKTtcblx0XHRpZiAobGlzdC5sZW5ndGggPCAxIHx8IGxpc3QuZXZlcnkoayA9PiAhay5wcmltYXJ5S2V5LmlzRGVjcnlwdGVkKSkge1xuXHRcdFx0bm90aWZpY2F0aW9ucy5zZXQoJ25vLWtleScsIHtcblx0XHRcdFx0dGl0bGU6IG5vdGlmaWNhdGlvbnMxOG4uTk9fS0VZX1RJVExFLFxuXHRcdFx0XHR0ZXh0OiBub3RpZmljYXRpb25zMThuLk5PX0tFWV9URVhULFxuXHRcdFx0XHR0eXBlOiAnd2FybmluZycsXG5cdFx0XHRcdG5hbWVzcGFjZTogJ21haWxib3gnLFxuXHRcdFx0XHRvblJlbW92ZTogKCkgPT4ge1xuXHRcdFx0XHRcdCRzdGF0ZS5nbygnbWFpbi5zZXR0aW5ncy5zZWN1cml0eScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdHRoaXMuaXNXZWJDcnlwdG8gPSAoKSA9PiB7XG5cdFx0cmV0dXJuICEhd2luZG93LmNyeXB0byB8fCAhIXdpbmRvdy5tc0NyeXB0bztcblx0fTtcblxuXHR0aGlzLmlzV2ViV29ya2VycyA9ICgpID0+IGNvKGZ1bmN0aW9uICooKXtcblx0XHRyZXR1cm4gISF3aW5kb3cuV29ya2VyO1xuXHR9KTtcblxuXHR0aGlzLmlzV2ViQ3J5cHRvS2V5c0dlbmVyYXRpb24gPSAoKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0dHJ5IHtcblx0XHRcdHlpZWxkIG9wZW5wZ3Aua2V5LmdlbmVyYXRlKHtudW1CaXRzOiAxMDI0LCB1c2VySWQ6ICd0ZXN0QHRlc3QnLCBwYXNzcGhyYXNlOiAndGVzdCd9KTtcblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9KTtcblxuXHR0aGlzLmdldFBvd2VyZWRCeSA9ICgpID0+IHBvd2VyZWRCeTtcbn07Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/translate.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($rootScope, $http, $translate, co, consts) {\n\tvar self = this;\n\n\tthis.settings = {};\n\n\tthis.initialize = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar res;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn $http.get('/translations/index.json');\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\tself.settings = res.data;\n\t\t\t\t\t\tconsole.log('i18n index loaded', self.settings);\n\n\t\t\t\t\tcase 5:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.getCurrentLangCode = function () {\n\t\treturn localStorage.lang ? localStorage.lang : consts.DEFAULT_LANG;\n\t};\n\n\tthis.switchLanguage = function (langKey) {\n\t\tlocalStorage.lang = langKey;\n\t\t$translate.use(langKey);\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3RyYW5zbGF0ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFTLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUU7QUFDakYsS0FBTSxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUVsQixLQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQzs7QUFFbkIsS0FBSSxDQUFDLFVBQVUsR0FBRztTQUFNLEVBQUUseUJBQUM7T0FDdEIsR0FBRzs7Ozs7YUFBUyxLQUFLLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDOzs7QUFBakQsU0FBRzs7QUFDUCxVQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7QUFDekIsYUFBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Ozs7Ozs7R0FDaEQsRUFBQztFQUFBLENBQUM7O0FBRUgsS0FBSSxDQUFDLGtCQUFrQixHQUFHO1NBQU0sWUFBWSxDQUFDLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZO0VBQUEsQ0FBQzs7QUFFNUYsS0FBSSxDQUFDLGNBQWMsR0FBRyxVQUFDLE9BQU8sRUFBSztBQUNsQyxjQUFZLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztBQUM1QixZQUFVLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0VBQ3hCLENBQUM7Q0FDRixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3RyYW5zbGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqL2Z1bmN0aW9uKCRyb290U2NvcGUsICRodHRwLCAkdHJhbnNsYXRlLCBjbywgY29uc3RzKSB7XG5cdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdHRoaXMuc2V0dGluZ3MgPSB7fTtcblxuXHR0aGlzLmluaXRpYWxpemUgPSAoKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0bGV0IHJlcyA9IHlpZWxkICRodHRwLmdldCgnL3RyYW5zbGF0aW9ucy9pbmRleC5qc29uJyk7XG5cdFx0c2VsZi5zZXR0aW5ncyA9IHJlcy5kYXRhO1xuXHRcdGNvbnNvbGUubG9nKCdpMThuIGluZGV4IGxvYWRlZCcsIHNlbGYuc2V0dGluZ3MpO1xuXHR9KTtcblxuXHR0aGlzLmdldEN1cnJlbnRMYW5nQ29kZSA9ICgpID0+IGxvY2FsU3RvcmFnZS5sYW5nID8gbG9jYWxTdG9yYWdlLmxhbmcgOiBjb25zdHMuREVGQVVMVF9MQU5HO1xuXG5cdHRoaXMuc3dpdGNoTGFuZ3VhZ2UgPSAobGFuZ0tleSkgPT4ge1xuXHRcdGxvY2FsU3RvcmFnZS5sYW5nID0gbGFuZ0tleTtcblx0XHQkdHJhbnNsYXRlLnVzZShsYW5nS2V5KTtcblx0fTtcbn07Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/user.js":{"source":"'use strict';\n\nmodule.exports = /*@ngInject*/function ($q, $rootScope, $state, $timeout, $window, $translate, $templateCache, $interpolate, consts, LavaboomAPI, co, crypto, cryptoKeys, loader, utils) {\n\tvar self = this;\n\n\tvar translations = {\n\t\tLB_BYE: ''\n\t};\n\t$translate.bindAsObject(translations, 'LOADER');\n\n\tthis.name = '';\n\tthis.styledName = '';\n\tthis.email = '';\n\tthis.styledEmail = '';\n\tthis.nameEmail = '';\n\tthis.altEmail = '';\n\n\t// information about user from API\n\tthis.settings = {};\n\n\tthis.defaultSettings = {\n\t\tisSignatureEnabled: true,\n\t\tisSkipComposeScreenWarning: false,\n\t\tisHotkeyEnabled: true,\n\t\tisUnknownContactsAutoComplete: false,\n\t\timages: 'none', // none, proxy, directHttps, directAll,\n\t\tstyles: 'none', // none, all\n\n\t\t// not implemented\n\t\tmailComposedAction: 'none',\n\t\tmailSpamAction: 'none',\n\t\tmailDeletedAction: 'none'\n\t\t// not implemented\n\t};\n\n\tco(regeneratorRuntime.mark(function callee$1$0() {\n\t\treturn regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {\n\t\t\twhile (1) switch (context$2$0.prev = context$2$0.next) {\n\t\t\t\tcase 0:\n\t\t\t\t\tcontext$2$0.next = 2;\n\t\t\t\t\treturn $templateCache.fetch('/partials/inbox/defaultSignature.html');\n\n\t\t\t\tcase 2:\n\t\t\t\t\tcontext$2$0.t47 = context$2$0.sent;\n\t\t\t\t\tself.defaultSettings.signatureHtml = $interpolate(context$2$0.t47)();\n\n\t\t\t\tcase 4:\n\t\t\t\tcase 'end':\n\t\t\t\t\treturn context$2$0.stop();\n\t\t\t}\n\t\t}, callee$1$0, this);\n\t}));\n\n\tvar setupSettings = function setupSettings(settings) {\n\t\tself.settings = angular.extend({}, self.defaultSettings, settings ? settings : {});\n\t};\n\n\t// primary key\n\tthis.key = null;\n\n\tvar token = null;\n\tvar isAuthenticated = false;\n\n\tthis.styleEmail = function (email) {\n\t\treturn email.replace(self.name, self.styledName);\n\t};\n\n\tvar setupUserBasicInformation = function setupUserBasicInformation(username, styledUsername, altEmail) {\n\t\tself.name = username;\n\t\tself.styledName = styledUsername;\n\t\tself.email = '' + username + '@' + consts.ROOT_DOMAIN;\n\t\tself.styledEmail = '' + styledUsername + '@' + consts.ROOT_DOMAIN;\n\t\tself.nameEmail = '' + self.name + ' <' + self.email + '>';\n\t\tself.altEmail = altEmail;\n\n\t\treturn username;\n\t};\n\n\tvar restoreAuth = function restoreAuth() {\n\t\ttoken = sessionStorage['lava-token'] ? sessionStorage['lava-token'] : localStorage['lava-token'];\n\n\t\tif (token) LavaboomAPI.setAuthToken(token);\n\t};\n\n\tthis.persistAuth = function () {\n\t\tvar isRemember = arguments[0] === undefined ? true : arguments[0];\n\n\t\tvar storage = isRemember ? localStorage : sessionStorage;\n\t\tstorage['lava-token'] = token;\n\n\t\tlocalStorage['sign-in-settings'] = JSON.stringify({\n\t\t\tisPrivateComputer: isRemember\n\t\t});\n\t};\n\n\tthis.calculateHash = crypto.hash;\n\n\tthis.isAuthenticated = function () {\n\t\treturn token && isAuthenticated;\n\t};\n\n\tthis.syncKeys = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar res, keysByFingerprint, publicKeys, keysCreationPromises, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, k;\n\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn LavaboomAPI.keys.list(self.name);\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tres = context$3$0.sent;\n\t\t\t\t\t\tkeysByFingerprint = res.body.keys ? utils.toMap(res.body.keys) : {};\n\t\t\t\t\t\tpublicKeys = crypto.getAvailablePublicKeysForEmail(self.email);\n\t\t\t\t\t\tkeysCreationPromises = [];\n\n\t\t\t\t\t\tpublicKeys.forEach(function (key) {\n\t\t\t\t\t\t\tif (!keysByFingerprint[key.primaryKey.fingerprint]) {\n\t\t\t\t\t\t\t\tconsole.log('Importing key with fingerprint \\'' + key.primaryKey.fingerprint + '\\' to the server...');\n\n\t\t\t\t\t\t\t\tkeysCreationPromises.push(LavaboomAPI.keys.create(key.armor()));\n\t\t\t\t\t\t\t} else console.log('Key with fingerprint \\'' + key.primaryKey.fingerprint + '\\' already imported...');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_iteratorNormalCompletion = true;\n\t\t\t\t\t\t_didIteratorError = false;\n\t\t\t\t\t\t_iteratorError = undefined;\n\t\t\t\t\t\tcontext$3$0.prev = 10;\n\t\t\t\t\t\tfor (_iterator = Object.keys(keysByFingerprint)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\tk = _step.value;\n\n\t\t\t\t\t\t\tcrypto.importPublicKey(keysByFingerprint[k].key);\n\t\t\t\t\t\t}context$3$0.next = 18;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 14:\n\t\t\t\t\t\tcontext$3$0.prev = 14;\n\t\t\t\t\t\tcontext$3$0.t48 = context$3$0['catch'](10);\n\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t_iteratorError = context$3$0.t48;\n\n\t\t\t\t\tcase 18:\n\t\t\t\t\t\tcontext$3$0.prev = 18;\n\t\t\t\t\t\tcontext$3$0.prev = 19;\n\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t\t}\n\n\t\t\t\t\tcase 21:\n\t\t\t\t\t\tcontext$3$0.prev = 21;\n\n\t\t\t\t\t\tif (!_didIteratorError) {\n\t\t\t\t\t\t\tcontext$3$0.next = 24;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow _iteratorError;\n\n\t\t\t\t\tcase 24:\n\t\t\t\t\t\treturn context$3$0.finish(21);\n\n\t\t\t\t\tcase 25:\n\t\t\t\t\t\treturn context$3$0.finish(18);\n\n\t\t\t\t\tcase 26:\n\t\t\t\t\t\tcontext$3$0.next = 28;\n\t\t\t\t\t\treturn keysCreationPromises;\n\n\t\t\t\t\tcase 28:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this, [[10, 14, 18, 26], [19,, 21, 25]]);\n\t\t}));\n\t};\n\n\tthis.authenticate = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar res;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\trestoreAuth();\n\n\t\t\t\t\t\tcontext$3$0.next = 3;\n\t\t\t\t\t\treturn LavaboomAPI.accounts.get('me');\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\tsetupSettings(res.body.user.settings);\n\t\t\t\t\t\t$rootScope.$broadcast('user-settings');\n\n\t\t\t\t\t\tsetupUserBasicInformation(res.body.user.name, res.body.user.styled_name, res.body.alt_email);\n\n\t\t\t\t\t\tif (!isAuthenticated) {\n\t\t\t\t\t\t\tisAuthenticated = true;\n\t\t\t\t\t\t\t$rootScope.$broadcast('user-authenticated');\n\t\t\t\t\t\t}\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.gatherUserInformation = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar res;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn self.authenticate();\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tcontext$3$0.next = 4;\n\t\t\t\t\t\treturn self.syncKeys();\n\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tif (self.settings.isLavaboomSynced) {\n\t\t\t\t\t\t\tcrypto.initialize({ isShortMemory: self.settings.isLavaboomSynced });\n\t\t\t\t\t\t\tcryptoKeys.importKeys(self.settings.keyring);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontext$3$0.next = 7;\n\t\t\t\t\t\treturn LavaboomAPI.keys.get(self.email);\n\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\tself.key = res.body.key;\n\n\t\t\t\t\t\tif (!isAuthenticated) {\n\t\t\t\t\t\t\tisAuthenticated = true;\n\t\t\t\t\t\t\t$rootScope.$broadcast('user-authenticated');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn context$3$0.abrupt('return', res.body);\n\n\t\t\t\t\tcase 11:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.startOnboarding = function () {\n\t\treturn LavaboomAPI.accounts.startOnboarding('me');\n\t};\n\n\tthis.update = function (settings) {\n\t\tangular.extend(self.settings, settings);\n\t\treturn LavaboomAPI.accounts.update('me', {\n\t\t\tsettings: self.settings\n\t\t});\n\t};\n\n\tthis.updatePassword = function (oldPassword, newPassword) {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn LavaboomAPI.accounts.update('me', {\n\t\t\t\t\t\t\tcurrent_password: self.calculateHash(oldPassword),\n\t\t\t\t\t\t\tnew_password: self.calculateHash(newPassword)\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.updateKey = function (fingerprint) {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn LavaboomAPI.accounts.update('me', {\n\t\t\t\t\t\t\tpublic_key: fingerprint\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', context$3$0.sent);\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.signIn = function (username, password, isRemember, isPrivateComputer) {\n\t\tsetupUserBasicInformation(username.split('@')[0].trim());\n\n\t\tcrypto.initialize();\n\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar res;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.prev = 0;\n\n\t\t\t\t\t\trestoreAuth();\n\n\t\t\t\t\t\tcontext$3$0.next = 4;\n\t\t\t\t\t\treturn LavaboomAPI.tokens.create({\n\t\t\t\t\t\t\ttype: 'auth',\n\t\t\t\t\t\t\tusername: username,\n\t\t\t\t\t\t\tpassword: self.calculateHash(password)\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\ttoken = res.body.token.id;\n\t\t\t\t\t\tLavaboomAPI.setAuthToken(token);\n\t\t\t\t\t\tself.persistAuth(isRemember);\n\t\t\t\t\t\tisAuthenticated = true;\n\n\t\t\t\t\t\tcontext$3$0.next = 11;\n\t\t\t\t\t\treturn LavaboomAPI.accounts.get('me');\n\n\t\t\t\t\tcase 11:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\tsetupSettings(res.body.user.settings);\n\t\t\t\t\t\tsetupUserBasicInformation(res.body.user.name, res.body.user.styled_name, res.body.alt_email);\n\t\t\t\t\t\tcrypto.initialize({ isPrivateComputer: isPrivateComputer, email: self.email, isShortMemory: self.settings.isLavaboomSynced });\n\n\t\t\t\t\t\tcontext$3$0.next = 17;\n\t\t\t\t\t\treturn LavaboomAPI.keys.list(self.name);\n\n\t\t\t\t\tcase 17:\n\t\t\t\t\t\tres = context$3$0.sent;\n\n\t\t\t\t\t\tif (!(!res.body.keys || res.body.keys.length < 1)) {\n\t\t\t\t\t\t\tcontext$3$0.next = 22;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontext$3$0.next = 21;\n\t\t\t\t\t\treturn $state.go('generateKeys');\n\n\t\t\t\t\tcase 21:\n\t\t\t\t\t\treturn context$3$0.abrupt('return');\n\n\t\t\t\t\tcase 22:\n\t\t\t\t\t\tcontext$3$0.prev = 22;\n\t\t\t\t\t\tcontext$3$0.next = 25;\n\t\t\t\t\t\treturn LavaboomAPI.keys.get(self.email);\n\n\t\t\t\t\tcase 25:\n\t\t\t\t\t\tres = context$3$0.sent;\n\t\t\t\t\t\tcontext$3$0.next = 33;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 28:\n\t\t\t\t\t\tcontext$3$0.prev = 28;\n\t\t\t\t\t\tcontext$3$0.t49 = context$3$0['catch'](22);\n\t\t\t\t\t\tcontext$3$0.next = 32;\n\t\t\t\t\t\treturn $state.go('generateKeys');\n\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\treturn context$3$0.abrupt('return');\n\n\t\t\t\t\tcase 33:\n\n\t\t\t\t\t\tself.key = res.body.key;\n\n\t\t\t\t\t\tif (self.settings.isLavaboomSynced) cryptoKeys.importKeys(self.settings.keyring);\n\n\t\t\t\t\t\tcrypto.authenticateByEmail(self.email, password);\n\n\t\t\t\t\t\t$rootScope.$broadcast('user-authenticated');\n\t\t\t\t\t\tcontext$3$0.next = 43;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tcontext$3$0.prev = 39;\n\t\t\t\t\t\tcontext$3$0.t50 = context$3$0['catch'](0);\n\n\t\t\t\t\t\t$rootScope.$broadcast('user-authentication-error', context$3$0.t50);\n\t\t\t\t\t\tthrow context$3$0.t50;\n\n\t\t\t\t\tcase 43:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this, [[0, 39], [22, 28]]);\n\t\t}));\n\t};\n\n\tthis.removeTokens = function () {\n\t\tdelete localStorage['lava-token'];\n\t\tdelete sessionStorage['lava-token'];\n\t};\n\n\tthis.logout = function () {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\t$rootScope.$broadcast('logout');\n\n\t\t\t\t\t\tself.settings = {};\n\t\t\t\t\t\tself.removeTokens();\n\t\t\t\t\t\tcrypto.removeSensitiveKeys();\n\n\t\t\t\t\t\tLavaboomAPI.setAuthToken('');\n\t\t\t\t\t\tisAuthenticated = false;\n\t\t\t\t\t\ttoken = '';\n\n\t\t\t\t\t\tcontext$3$0.next = 9;\n\t\t\t\t\t\treturn $state.go('empty');\n\n\t\t\t\t\tcase 9:\n\n\t\t\t\t\t\tloader.resetProgress();\n\t\t\t\t\t\tloader.showLoader(true);\n\t\t\t\t\t\tloader.loadLoginApplication({ lbDone: translations.LB_BYE });\n\n\t\t\t\t\tcase 12:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n};\n\n// todo: probably we don't need this\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3VzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBUyxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsWUFBWSxFQUM5RyxNQUFNLEVBQUUsV0FBVyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7QUFDdkUsS0FBTSxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUVsQixLQUFNLFlBQVksR0FBRztBQUNwQixRQUFNLEVBQUUsRUFBRTtFQUNWLENBQUM7QUFDRixXQUFVLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQzs7QUFFaEQsS0FBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7QUFDZixLQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNyQixLQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNoQixLQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUN0QixLQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUNwQixLQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQzs7O0FBR25CLEtBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDOztBQUVuQixLQUFJLENBQUMsZUFBZSxHQUFHO0FBQ3RCLG9CQUFrQixFQUFFLElBQUk7QUFDeEIsNEJBQTBCLEVBQUUsS0FBSztBQUNqQyxpQkFBZSxFQUFFLElBQUk7QUFDckIsK0JBQTZCLEVBQUUsS0FBSztBQUNwQyxRQUFNLEVBQUUsTUFBTTtBQUNkLFFBQU0sRUFBRSxNQUFNOzs7QUFHZCxvQkFBa0IsRUFBRSxNQUFNO0FBQzFCLGdCQUFjLEVBQUUsTUFB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Qzs7OztBQUV4QixZQUFNLENBQUMsYUFBYSxFQUFFLENBQUM7QUFDdkIsWUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4QixZQUFNLENBQUMsb0JBQW9CLENBQUMsRUFBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7Ozs7Ozs7R0FDM0QsRUFBQztFQUFBLENBQUM7Q0FDSCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3VzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki9mdW5jdGlvbigkcSwgJHJvb3RTY29wZSwgJHN0YXRlLCAkdGltZW91dCwgJHdpbmRvdywgJHRyYW5zbGF0ZSwgJHRlbXBsYXRlQ2FjaGUsICRpbnRlcnBvbGF0ZSxcblx0XHRcdFx0XHRcdFx0XHRcdCAgIGNvbnN0cywgTGF2YWJvb21BUEksIGNvLCBjcnlwdG8sIGNyeXB0b0tleXMsIGxvYWRlciwgdXRpbHMpIHtcblx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cblx0Y29uc3QgdHJhbnNsYXRpb25zID0ge1xuXHRcdExCX0JZRTogJydcblx0fTtcblx0JHRyYW5zbGF0ZS5iaW5kQXNPYmplY3QodHJhbnNsYXRpb25zLCAnTE9BREVSJyk7XG5cblx0dGhpcy5uYW1lID0gJyc7XG5cdHRoaXMuc3R5bGVkTmFtZSA9ICcnO1xuXHR0aGlzLmVtYWlsID0gJyc7XG5cdHRoaXMuc3R5bGVkRW1haWwgPSAnJztcblx0dGhpcy5uYW1lRW1haWwgPSAnJztcblx0dGhpcy5hbHRFbWFpbCA9ICcnO1xuXG5cdC8vIGluZm9ybWF0aW9uIGFib3V0IHVzZXIgZnJvbSBBUElcblx0dGhpcy5zZXR0aW5ncyA9IHt9O1xuXG5cdHRoaXMuZGVmYXVsdFNldHRpbmdzID0ge1xuXHRcdGlzU2lnbmF0dXJlRW5hYmxlZDogdHJ1ZSxcblx0XHRpc1NraXBDb21wb3NlU2NyZWVuV2FybmluZzogZmFsc2UsXG5cdFx0aXNIb3RrZXlFbmFibGVkOiB0cnVlLFxuXHRcdGlzVW5rbm93bkNvbnRhY3RzQXV0b0NvbXBsZXRlOiBmYWxzZSxcblx0XHRpbWFnZXM6ICdub25lJywgLy8gbm9uZSwgcHJveHksIGRpcmVjdEh0dHBzLCBkaXJlY3RBbGwsXG5cdFx0c3R5bGVzOiAnbm9uZScsIC8vIG5vbmUsIGFsbFxuXG5cdFx0Ly8gbm90IGltcGxlbWVudGVkXG5cdFx0bWFpbENvbXBvc2VkQWN0aW9uOiAnbm9uZScsXG5cdFx0bWFpbFNwYW1BY3Rpb246ICdub25lJyxcblx0XHRtYWlsRGVsZXRlZEFjdGlvbjogJ25vbmUnXG5cdFx0Ly8gbm90IGltcGxlbWVudGVkXG5cdH07XG5cblx0Y28oZnVuY3Rpb24gKigpe1xuXHRcdHNlbGYuZGVmYXVsdFNldHRpbmdzLnNpZ25hdHVyZUh0bWwgPSAkaW50ZXJwb2xhdGUoeWllbGQgJHRlbXBsYXRlQ2FjaGUuZmV0Y2goJy9wYXJ0aWFscy9pbmJveC9kZWZhdWx0U2lnbmF0dXJlLmh0bWwnKSkoKTtcblx0fSk7XG5cblx0Y29uc3Qgc2V0dXBTZXR0aW5ncyA9IChzZXR0aW5ncykgPT4ge1xuXHRcdHNlbGYuc2V0dGluZ3MgPSBhbmd1bGFyLmV4dGVuZCh7fSxcblx0XHRcdHNlbGYuZGVmYXVsdFNldHRpbmdzLFxuXHRcdFx0c2V0dGluZ3MgPyBzZXR0aW5ncyA6IHt9XG5cdFx0KTtcblx0fTtcblxuXHQvLyBwcmltYXJ5IGtleVxuXHR0aGlzLmtleSA9IG51bGw7XG5cblx0bGV0IHRva2VuID0gbnVsbDtcblx0bGV0IGlzQXV0aGVudGljYXRlZCA9IGZhbHNlO1xuXG5cdHRoaXMuc3R5bGVFbWFpbCA9IChlbWFpbCkgPT4gZW1haWwucmVwbGFjZShzZWxmLm5hbWUsIHNlbGYuc3R5bGVkTmFtZSk7XG5cblx0Y29uc3Qgc2V0dXBVc2VyQmFzaWNJbmZvcm1hdGlvbiA9ICh1c2VybmFtZSwgc3R5bGVkVXNlcm5hbWUsIGFsdEVtYWlsKSA9PiB7XG5cdFx0c2VsZi5uYW1lID0gdXNlcm5hbWU7XG5cdFx0c2VsZi5zdHlsZWROYW1lID0gc3R5bGVkVXNlcm5hbWU7XG5cdFx0c2VsZi5lbWFpbCA9IGAke3VzZXJuYW1lfUAke2NvbnN0cy5ST09UX0RPTUFJTn1gO1xuXHRcdHNlbGYuc3R5bGVkRW1haWwgPSBgJHtzdHlsZWRVc2VybmFtZX1AJHtjb25zdHMuUk9PVF9ET01BSU59YDtcblx0XHRzZWxmLm5hbWVFbWFpbCA9IGAke3NlbGYubmFtZX0gPCR7c2VsZi5lbWFpbH0+YDtcblx0XHRzZWxmLmFsdEVtYWlsID0gYWx0RW1haWw7XG5cblx0XHRyZXR1cm4gdXNlcm5hbWU7XG5cdH07XG5cblx0Y29uc3QgcmVzdG9yZUF1dGggPSAoKSA9PiB7XG5cdFx0dG9rZW4gPSBzZXNzaW9uU3RvcmFnZVsnbGF2YS10b2tlbiddID8gc2Vzc2lvblN0b3JhZ2VbJ2xhdmEtdG9rZW4nXSA6IGxvY2FsU3RvcmFnZVsnbGF2YS10b2tlbiddO1xuXG5cdFx0aWYgKHRva2VuKVxuXHRcdFx0TGF2YWJvb21BUEkuc2V0QXV0aFRva2VuKHRva2VuKTtcblx0fTtcblxuXHR0aGlzLnBlcnNpc3RBdXRoID0gKGlzUmVtZW1iZXIgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHN0b3JhZ2UgPSBpc1JlbWVtYmVyID8gbG9jYWxTdG9yYWdlIDogc2Vzc2lvblN0b3JhZ2U7XG5cdFx0c3RvcmFnZVsnbGF2YS10b2tlbiddID0gdG9rZW47XG5cblx0XHRsb2NhbFN0b3JhZ2VbJ3NpZ24taW4tc2V0dGluZ3MnXSA9IEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdGlzUHJpdmF0ZUNvbXB1dGVyOiBpc1JlbWVtYmVyXG5cdFx0fSk7XG5cdH07XG5cblx0dGhpcy5jYWxjdWxhdGVIYXNoID0gY3J5cHRvLmhhc2g7XG5cblx0dGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSAoKSA9PiB0b2tlbiAmJiBpc0F1dGhlbnRpY2F0ZWQ7XG5cblx0dGhpcy5zeW5jS2V5cyA9ICgpID0+IGNvKGZ1bmN0aW9uICooKXtcblx0XHRsZXQgcmVzID0geWllbGQgTGF2YWJvb21BUEkua2V5cy5saXN0KHNlbGYubmFtZSk7XG5cblx0XHRsZXQga2V5c0J5RmluZ2VycHJpbnQgPSByZXMuYm9keS5rZXlzID8gdXRpbHMudG9NYXAocmVzLmJvZHkua2V5cykgOiB7fTtcblxuXHRcdGxldCBwdWJsaWNLZXlzID0gY3J5cHRvLmdldEF2YWlsYWJsZVB1YmxpY0tleXNGb3JFbWFpbChzZWxmLmVtYWlsKTtcblx0XHRsZXQga2V5c0NyZWF0aW9uUHJvbWlzZXMgPSBbXTtcblxuXHRcdHB1YmxpY0tleXMuZm9yRWFjaChrZXkgPT4ge1xuXHRcdFx0aWYgKCFrZXlzQnlGaW5nZXJwcmludFtrZXkucHJpbWFyeUtleS5maW5nZXJwcmludF0pIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYEltcG9ydGluZyBrZXkgd2l0aCBmaW5nZXJwcmludCAnJHtrZXkucHJpbWFyeUtleS5maW5nZXJwcmludH0nIHRvIHRoZSBzZXJ2ZXIuLi5gKTtcblxuXHRcdFx0XHRrZXlzQ3JlYXRpb25Qcm9taXNlcy5wdXNoKExhdmFib29tQVBJLmtleXMuY3JlYXRlKGtleS5hcm1vcigpKSk7XG5cdFx0XHR9IGVsc2Vcblx0XHRcdFx0Y29uc29sZS5sb2coYEtleSB3aXRoIGZpbmdlcnByaW50ICcke2tleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50fScgYWxyZWFkeSBpbXBvcnRlZC4uLmApO1xuXHRcdH0pO1xuXG5cdFx0Zm9yKGxldCBrIG9mIE9iamVjdC5rZXlzKGtleXNCeUZpbmdlcnByaW50KSlcblx0XHRcdGNyeXB0by5pbXBvcnRQdWJsaWNLZXkoa2V5c0J5RmluZ2VycHJpbnRba10ua2V5KTtcblxuXHRcdHlpZWxkIGtleXNDcmVhdGlvblByb21pc2VzO1xuXHR9KTtcblxuXHR0aGlzLmF1dGhlbnRpY2F0ZSA9ICgpID0+IGNvKGZ1bmN0aW9uICogKCkge1xuXHRcdHJlc3RvcmVBdXRoKCk7XG5cblx0XHRsZXQgcmVzID0geWllbGQgTGF2YWJvb21BUEkuYWNjb3VudHMuZ2V0KCdtZScpO1xuXG5cdFx0c2V0dXBTZXR0aW5ncyhyZXMuYm9keS51c2VyLnNldHRpbmdzKTtcblx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VzZXItc2V0dGluZ3MnKTtcblxuXHRcdHNldHVwVXNlckJhc2ljSW5mb3JtYXRpb24ocmVzLmJvZHkudXNlci5uYW1lLCByZXMuYm9keS51c2VyLnN0eWxlZF9uYW1lLCByZXMuYm9keS5hbHRfZW1haWwpO1xuXG5cdFx0aWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcblx0XHRcdGlzQXV0aGVudGljYXRlZCA9IHRydWU7XG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VzZXItYXV0aGVudGljYXRlZCcpO1xuXHRcdH1cblx0fSk7XG5cblx0dGhpcy5nYXRoZXJVc2VySW5mb3JtYXRpb24gPSAoKSA9PiBjbyhmdW5jdGlvbiAqICgpIHtcblx0XHR5aWVsZCBzZWxmLmF1dGhlbnRpY2F0ZSgpO1xuXG5cdFx0eWllbGQgc2VsZi5zeW5jS2V5cygpO1xuXHRcdGlmIChzZWxmLnNldHRpbmdzLmlzTGF2YWJvb21TeW5jZWQpIHtcblx0XHRcdGNyeXB0by5pbml0aWFsaXplKHtpc1Nob3J0TWVtb3J5OiBzZWxmLnNldHRpbmdzLmlzTGF2YWJvb21TeW5jZWR9KTtcblx0XHRcdGNyeXB0b0tleXMuaW1wb3J0S2V5cyhzZWxmLnNldHRpbmdzLmtleXJpbmcpO1xuXHRcdH1cblxuXHRcdGxldCByZXMgPSB5aWVsZCBMYXZhYm9vbUFQSS5rZXlzLmdldChzZWxmLmVtYWlsKTtcblx0XHRzZWxmLmtleSA9IHJlcy5ib2R5LmtleTtcblxuXHRcdGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1c2VyLWF1dGhlbnRpY2F0ZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzLmJvZHk7XG5cdH0pO1xuXG5cdHRoaXMuc3RhcnRPbmJvYXJkaW5nID0gKCkgPT4ge1xuXHRcdHJldHVybiBMYXZhYm9vbUFQSS5hY2NvdW50cy5zdGFydE9uYm9hcmRpbmcoJ21lJyk7XG5cdH07XG5cblx0dGhpcy51cGRhdGUgPSAoc2V0dGluZ3MpID0+IHtcblx0XHRhbmd1bGFyLmV4dGVuZChzZWxmLnNldHRpbmdzLCBzZXR0aW5ncyk7XG5cdFx0cmV0dXJuIExhdmFib29tQVBJLmFjY291bnRzLnVwZGF0ZSgnbWUnLCB7XG5cdFx0XHRzZXR0aW5nczogc2VsZi5zZXR0aW5nc1xuXHRcdH0pO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlUGFzc3dvcmQgPSAob2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0eWllbGQgTGF2YWJvb21BUEkuYWNjb3VudHMudXBkYXRlKCdtZScsIHtcblx0XHRcdGN1cnJlbnRfcGFzc3dvcmQ6IHNlbGYuY2FsY3VsYXRlSGFzaChvbGRQYXNzd29yZCksXG5cdFx0XHRuZXdfcGFzc3dvcmQ6IHNlbGYuY2FsY3VsYXRlSGFzaChuZXdQYXNzd29yZClcblx0XHR9KTtcblx0fSk7XG5cblx0dGhpcy51cGRhdGVLZXkgPSAoZmluZ2VycHJpbnQpID0+IGNvKGZ1bmN0aW9uICogKCkge1xuXHRcdHJldHVybiB5aWVsZCBMYXZhYm9vbUFQSS5hY2NvdW50cy51cGRhdGUoJ21lJywge1xuXHRcdFx0cHVibGljX2tleTogZmluZ2VycHJpbnRcblx0XHR9KTtcblx0fSk7XG5cblx0dGhpcy5zaWduSW4gPSAodXNlcm5hbWUsIHBhc3N3b3JkLCBpc1JlbWVtYmVyLCBpc1ByaXZhdGVDb21wdXRlcikgPT4ge1xuXHRcdHNldHVwVXNlckJhc2ljSW5mb3JtYXRpb24odXNlcm5hbWUuc3BsaXQoJ0AnKVswXS50cmltKCkpO1xuXG5cdFx0Y3J5cHRvLmluaXRpYWxpemUoKTtcblxuXHRcdHJldHVybiBjbyhmdW5jdGlvbiAqICgpe1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmVzdG9yZUF1dGgoKTtcblxuXHRcdFx0XHRsZXQgcmVzID0geWllbGQgTGF2YWJvb21BUEkudG9rZW5zLmNyZWF0ZSh7XG5cdFx0XHRcdFx0dHlwZTogJ2F1dGgnLFxuXHRcdFx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdFx0XHRwYXNzd29yZDogc2VsZi5jYWxjdWxhdGVIYXNoKHBhc3N3b3JkKVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0b2tlbiA9IHJlcy5ib2R5LnRva2VuLmlkO1xuXHRcdFx0XHRMYXZhYm9vbUFQSS5zZXRBdXRoVG9rZW4odG9rZW4pO1xuXHRcdFx0XHRzZWxmLnBlcnNpc3RBdXRoKGlzUmVtZW1iZXIpO1xuXHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuXG5cdFx0XHRcdHJlcyA9IHlpZWxkIExhdmFib29tQVBJLmFjY291bnRzLmdldCgnbWUnKTtcblx0XHRcdFx0c2V0dXBTZXR0aW5ncyhyZXMuYm9keS51c2VyLnNldHRpbmdzKTtcblx0XHRcdFx0c2V0dXBVc2VyQmFzaWNJbmZvcm1hdGlvbihyZXMuYm9keS51c2VyLm5hbWUsIHJlcy5ib2R5LnVzZXIuc3R5bGVkX25hbWUsIHJlcy5ib2R5LmFsdF9lbWFpbCk7XG5cdFx0XHRcdGNyeXB0by5pbml0aWFsaXplKHtpc1ByaXZhdGVDb21wdXRlcjogaXNQcml2YXRlQ29tcHV0ZXIsIGVtYWlsOiBzZWxmLmVtYWlsLCBpc1Nob3J0TWVtb3J5OiBzZWxmLnNldHRpbmdzLmlzTGF2YWJvb21TeW5jZWR9KTtcblxuXHRcdFx0XHRyZXMgPSB5aWVsZCBMYXZhYm9vbUFQSS5rZXlzLmxpc3Qoc2VsZi5uYW1lKTtcblx0XHRcdFx0aWYgKCFyZXMuYm9keS5rZXlzIHx8IHJlcy5ib2R5LmtleXMubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdHlpZWxkICRzdGF0ZS5nbygnZ2VuZXJhdGVLZXlzJyk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gdG9kbzogcHJvYmFibHkgd2UgZG9uJ3QgbmVlZCB0aGlzXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmVzID0geWllbGQgTGF2YWJvb21BUEkua2V5cy5nZXQoc2VsZi5lbWFpbCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdHlpZWxkICRzdGF0ZS5nbygnZ2VuZXJhdGVLZXlzJyk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2VsZi5rZXkgPSByZXMuYm9keS5rZXk7XG5cblx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuaXNMYXZhYm9vbVN5bmNlZClcblx0XHRcdFx0XHRjcnlwdG9LZXlzLmltcG9ydEtleXMoc2VsZi5zZXR0aW5ncy5rZXlyaW5nKTtcblxuXHRcdFx0XHRjcnlwdG8uYXV0aGVudGljYXRlQnlFbWFpbChzZWxmLmVtYWlsLCBwYXNzd29yZCk7XG5cblx0XHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1c2VyLWF1dGhlbnRpY2F0ZWQnKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VzZXItYXV0aGVudGljYXRpb24tZXJyb3InLCBlcnIpO1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG5cblx0dGhpcy5yZW1vdmVUb2tlbnMgPSAoKSA9PiB7XG5cdFx0ZGVsZXRlIGxvY2FsU3RvcmFnZVsnbGF2YS10b2tlbiddO1xuXHRcdGRlbGV0ZSBzZXNzaW9uU3RvcmFnZVsnbGF2YS10b2tlbiddO1xuXHR9O1xuXG5cdHRoaXMubG9nb3V0ID0gKCkgPT4gY28oZnVuY3Rpb24gKigpe1xuXHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnbG9nb3V0Jyk7XG5cblx0XHRzZWxmLnNldHRpbmdzID0ge307XG5cdFx0c2VsZi5yZW1vdmVUb2tlbnMoKTtcblx0XHRjcnlwdG8ucmVtb3ZlU2Vuc2l0aXZlS2V5cygpO1xuXG5cdFx0TGF2YWJvb21BUEkuc2V0QXV0aFRva2VuKCcnKTtcblx0XHRpc0F1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcblx0XHR0b2tlbiA9ICcnO1xuXG5cdFx0eWllbGQgJHN0YXRlLmdvKCdlbXB0eScpO1xuXG5cdFx0bG9hZGVyLnJlc2V0UHJvZ3Jlc3MoKTtcblx0XHRsb2FkZXIuc2hvd0xvYWRlcih0cnVlKTtcblx0XHRsb2FkZXIubG9hZExvZ2luQXBwbGljYXRpb24oe2xiRG9uZTogdHJhbnNsYXRpb25zLkxCX0JZRX0pO1xuXHR9KTtcbn07Il19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/runs/rootScopeHelpers.js":{"source":"'use strict';\n\n\n\nmodule.exports = /*@ngInject*/function ($rootScope, $translate, $injector, translate, consts) {\n\t$rootScope.$bind = function (bindName, bindHandler) {\n\t\tvar r = $rootScope.$on(bindName, bindHandler);\n\n\t\tbindHandler();\n\n\t\treturn r;\n\t};\n\n\t$rootScope.switchLanguage = function (langKey) {\n\t\ttranslate.switchLanguage(langKey);\n\t};\n\n\t$rootScope.isInitialized = false;\n\t$rootScope.isShown = false;\n\t$rootScope.currentErrorMessage = '';\n\n\t$rootScope.$on('$stateChangeSuccess', function () {\n\t\t$rootScope.currentErrorMessage = '';\n\t});\n\n\t$rootScope.shownApplication = function () {\n\t\t$rootScope.isShown = true;\n\t};\n\n\t$rootScope.notificationsInfo = $rootScope.notificationsWarning = {};\n\t$rootScope.manifest = JSON.parse(consts.stripBOM(\"{\\n\\t\\\"name\\\": \\\" Lavaboom web\\\",\\n\\t\\\"version\\\": \\\"0.3.0\\\"\\n}\"));\n\t$rootScope.servedBy = {\n\t\ttext: '',\n\t\ttitle: ''\n\t};\n\n\tvar initializeNotifications = function initializeNotifications() {\n\t\tvar notifications = $injector.get('notifications');\n\n\t\t$rootScope.servedBy = notifications.get('info', 'status')['powered-by'] || notifications.get('warning', 'status')['powered-by'];\n\n\t\t$rootScope.$bind('notifications', function () {\n\t\t\t$rootScope.notificationsInfo = notifications.get('info');\n\t\t\t$rootScope.notificationsWarning = notifications.get('warning');\n\t\t});\n\n\t\t$rootScope.unSetNotification = function (nid, namespace) {\n\t\t\tnotifications.unSet(nid, namespace);\n\t\t};\n\n\t\t$rootScope.getNotificationsLength = function () {\n\t\t\tfor (var _len = arguments.length, notifications = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\tnotifications[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\treturn notifications.reduce(function (a, c) {\n\t\t\t\treturn a + (c ? Object.keys(c).length : 0);\n\t\t\t}, 0);\n\t\t};\n\t};\n\n\t$rootScope.whenInitialized = function (initializer) {\n\n\t\tif ($rootScope.isInitialized) {\n\t\t\tinitializeNotifications();\n\t\t\tinitializer();\n\t\t} else $rootScope.$on('initialization-completed', function () {\n\t\t\tinitializeNotifications();\n\t\t\tinitializer();\n\t\t});\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3J1bnMvcm9vdFNjb3BlSGVscGVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFekIsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBSztBQUN2RixXQUFVLENBQUMsS0FBSyxHQUFHLFVBQUMsUUFBUSxFQUFFLFdBQVcsRUFBSztBQUM3QyxNQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQzs7QUFFOUMsYUFBVyxFQUFFLENBQUM7O0FBRWQsU0FBTyxDQUFDLENBQUM7RUFDVCxDQUFDOztBQUVGLFdBQVUsQ0FBQyxjQUFjLEdBQUcsVUFBQyxPQUFPLEVBQUs7QUFDeEMsV0FBUyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztFQUNsQyxDQUFDOztBQUVGLFdBQVUsQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO0FBQ2pDLFdBQVUsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO0FBQzNCLFdBQVUsQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUM7O0FBRXBDLFdBQVUsQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsWUFBTTtBQUMzQyxZQUFVLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDO0VBQ3BDLENBQUMsQ0FBQzs7QUFFSCxXQUFVLENBQUMsZ0JBQWdCLEdBQUcsWUFBTTtBQUNuQyxZQUFVLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztFQUMxQixDQUFDOztBQUVGLFdBQVUsQ0FBQyxpQkFBaUIsR0FBRyxVQUFVLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBQ3BFLFdBQVUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUMvQyxFQUFFLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRywrQkFBK0IsRUFBRSxNQUFNLENBQUMsQ0FDcEUsQ0FBQyxDQUFDO0FBQ0gsV0FBVSxDQUFDLFFBQVEsR0FBRztBQUNyQixNQUFJLEVBQUUsRUFBRTtBQUNSLE9BQUssRUFBRSxFQUFFO0VBQ1QsQ0FBQzs7QUFFRixLQUFNLHVCQUF1QixHQUFHLFNBQTFCLHVCQUF1QixHQUFTO0FBQ3JDLE1BQU0sYUFBYSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRXJELFlBQVUsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLElBQ25FLGFBQWEsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDOztBQUV6RCxZQUFVLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxZQUFNO0FBQ3ZDLGFBQVUsQ0FBQyxpQkFBaUIsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3pELGFBQVUsQ0FBQyxvQkFBb0IsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0dBQy9ELENBQUMsQ0FBQzs7QUFFSCxZQUFVLENBQUMsaUJBQWlCLEdBQUcsVUFBQyxHQUFHLEVBQUUsU0FBUyxFQUFLO0FBQ2xELGdCQUFhLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztHQUNwQyxDQUFDOztBQUVGLFlBQVUsQ0FBQyxzQkFBc0IsR0FBRztxQ0FBSSxhQUFhO0FBQWIsaUJBQWE7OztVQUNwRCxhQUFhLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUM7V0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQSxBQUFDO0lBQUEsRUFBRSxDQUFDLENBQUM7R0FBQSxDQUFDO0VBQ3hFLENBQUM7O0FBRUYsV0FBVSxDQUFDLGVBQWUsR0FBRyxVQUFDLFdBQVcsRUFBSzs7QUFFN0MsTUFBSSxVQUFVLENBQUMsYUFBYSxFQUFFO0FBQzdCLDBCQUF1QixFQUFFLENBQUM7QUFDMUIsY0FBVyxFQUFFLENBQUM7R0FDZCxNQUNBLFVBQVUsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUsWUFBTTtBQUNoRCwwQkFBdUIsRUFBRSxDQUFDO0FBQzFCLGNBQVcsRUFBRSxDQUFDO0dBQ2QsQ0FBQyxDQUFDO0VBQ0osQ0FBQztDQUNGLENBQUMiLCJmaWxlIjoiL1VzZXJzL3BpZ2d5c2xhc2hlci9TaXRlcy9sYXZhYm9vbS13ZWIvc3JjL2pzL2FwcHMvVXRpbHMvcnVucy9yb290U2NvcGVIZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oJHJvb3RTY29wZSwgJHRyYW5zbGF0ZSwgJGluamVjdG9yLCB0cmFuc2xhdGUsIGNvbnN0cykgPT4ge1xuXHQkcm9vdFNjb3BlLiRiaW5kID0gKGJpbmROYW1lLCBiaW5kSGFuZGxlcikgPT4ge1xuXHRcdGxldCByID0gJHJvb3RTY29wZS4kb24oYmluZE5hbWUsIGJpbmRIYW5kbGVyKTtcblxuXHRcdGJpbmRIYW5kbGVyKCk7XG5cblx0XHRyZXR1cm4gcjtcblx0fTtcblxuXHQkcm9vdFNjb3BlLnN3aXRjaExhbmd1YWdlID0gKGxhbmdLZXkpID0+IHtcblx0XHR0cmFuc2xhdGUuc3dpdGNoTGFuZ3VhZ2UobGFuZ0tleSk7XG5cdH07XG5cblx0JHJvb3RTY29wZS5pc0luaXRpYWxpemVkID0gZmFsc2U7XG5cdCRyb290U2NvcGUuaXNTaG93biA9IGZhbHNlO1xuXHQkcm9vdFNjb3BlLmN1cnJlbnRFcnJvck1lc3NhZ2UgPSAnJztcblxuXHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsICgpID0+IHtcblx0XHQkcm9vdFNjb3BlLmN1cnJlbnRFcnJvck1lc3NhZ2UgPSAnJztcblx0fSk7XG5cblx0JHJvb3RTY29wZS5zaG93bkFwcGxpY2F0aW9uID0gKCkgPT4ge1xuXHRcdCRyb290U2NvcGUuaXNTaG93biA9IHRydWU7XG5cdH07XG5cblx0JHJvb3RTY29wZS5ub3RpZmljYXRpb25zSW5mbyA9ICRyb290U2NvcGUubm90aWZpY2F0aW9uc1dhcm5pbmcgPSB7fTtcblx0JHJvb3RTY29wZS5tYW5pZmVzdCA9IEpTT04ucGFyc2UoY29uc3RzLnN0cmlwQk9NKFxuXHRcdGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uLy4uLy4uLy4uLy4uL21hbmlmZXN0Lmpzb24nLCAndXRmOCcpXG5cdCkpO1xuXHQkcm9vdFNjb3BlLnNlcnZlZEJ5ID0ge1xuXHRcdHRleHQ6ICcnLFxuXHRcdHRpdGxlOiAnJ1xuXHR9O1xuXG5cdGNvbnN0IGluaXRpYWxpemVOb3RpZmljYXRpb25zID0gKCkgPT4ge1xuXHRcdGNvbnN0IG5vdGlmaWNhdGlvbnMgPSAkaW5qZWN0b3IuZ2V0KCdub3RpZmljYXRpb25zJyk7XG5cblx0XHQkcm9vdFNjb3BlLnNlcnZlZEJ5ID0gbm90aWZpY2F0aW9ucy5nZXQoJ2luZm8nLCAnc3RhdHVzJylbJ3Bvd2VyZWQtYnknXVxuXHRcdFx0fHwgbm90aWZpY2F0aW9ucy5nZXQoJ3dhcm5pbmcnLCAnc3RhdHVzJylbJ3Bvd2VyZWQtYnknXTtcblxuXHRcdCRyb290U2NvcGUuJGJpbmQoJ25vdGlmaWNhdGlvbnMnLCAoKSA9PiB7XG5cdFx0XHQkcm9vdFNjb3BlLm5vdGlmaWNhdGlvbnNJbmZvID0gbm90aWZpY2F0aW9ucy5nZXQoJ2luZm8nKTtcblx0XHRcdCRyb290U2NvcGUubm90aWZpY2F0aW9uc1dhcm5pbmcgPSBub3RpZmljYXRpb25zLmdldCgnd2FybmluZycpO1xuXHRcdH0pO1xuXG5cdFx0JHJvb3RTY29wZS51blNldE5vdGlmaWNhdGlvbiA9IChuaWQsIG5hbWVzcGFjZSkgPT4ge1xuXHRcdFx0bm90aWZpY2F0aW9ucy51blNldChuaWQsIG5hbWVzcGFjZSk7XG5cdFx0fTtcblxuXHRcdCRyb290U2NvcGUuZ2V0Tm90aWZpY2F0aW9uc0xlbmd0aCA9ICguLi5ub3RpZmljYXRpb25zKSA9PlxuXHRcdFx0bm90aWZpY2F0aW9ucy5yZWR1Y2UoKGEsIGMpID0+IGEgKyAoYyA/IE9iamVjdC5rZXlzKGMpLmxlbmd0aCA6IDApLCAwKTtcblx0fTtcblxuXHQkcm9vdFNjb3BlLndoZW5Jbml0aWFsaXplZCA9IChpbml0aWFsaXplcikgPT4ge1xuXG5cdFx0aWYgKCRyb290U2NvcGUuaXNJbml0aWFsaXplZCkge1xuXHRcdFx0aW5pdGlhbGl6ZU5vdGlmaWNhdGlvbnMoKTtcblx0XHRcdGluaXRpYWxpemVyKCk7XG5cdFx0fSBlbHNlXG5cdFx0XHQkcm9vdFNjb3BlLiRvbignaW5pdGlhbGl6YXRpb24tY29tcGxldGVkJywgKCkgPT4ge1xuXHRcdFx0XHRpbml0aWFsaXplTm90aWZpY2F0aW9ucygpO1xuXHRcdFx0XHRpbml0aWFsaXplcigpO1xuXHRcdFx0fSk7XG5cdH07XG59OyJdfQ==","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/helpers/angularApplication.js":{"source":"(function (process){\n\"use strict\";\n\nfunction AngularApplication(_ref) {\n\tvar _this = this;\n\n\tvar applicationName = _ref.applicationName;\n\tvar dependencies = _ref.dependencies;\n\tvar productionOnlyDependencies = _ref.productionOnlyDependencies;\n\n\tif (!productionOnlyDependencies) productionOnlyDependencies = [];\n\n\tvar capitalize = function capitalize(name) {\n\t\treturn name.substr(0, 1).toUpperCase() + name.substr(1);\n\t};\n\n\tvar applicationModule = angular.module(applicationName, (process.env.IS_PRODUCTION ? productionOnlyDependencies : []).concat(dependencies));\n\n\tthis.registerBulks = function (bulks) {\n\t\tif (bulks.runs) {\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = Object.keys(bulks.runs)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar runName = _step.value;\n\n\t\t\t\t\tapplicationModule.run(bulks.runs[runName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n\t\t\t\t\t\t_iterator[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.configs) {\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = Object.keys(bulks.configs)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar configName = _step2.value;\n\n\t\t\t\t\tapplicationModule.config(bulks.configs[configName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n\t\t\t\t\t\t_iterator2[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.constants) {\n\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\tvar _didIteratorError3 = false;\n\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator3 = Object.keys(bulks.constants)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\tvar constsName = _step3.value;\n\n\t\t\t\t\tapplicationModule.constant(constsName, bulks.constants[constsName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t_iteratorError3 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3[\"return\"]) {\n\t\t\t\t\t\t_iterator3[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.decorators) {\n\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\tvar _didIteratorError4 = false;\n\t\t\tvar _iteratorError4 = undefined;\n\n\t\t\ttry {\n\t\t\t\tvar _loop = function () {\n\t\t\t\t\tvar decoratorName = _step4.value;\n\n\t\t\t\t\t// @ngInject\n\t\t\t\t\tvar provider = function provider($provide) {\n\t\t\t\t\t\t$provide.decorator(decoratorName, bulks.decorators[decoratorName]);\n\t\t\t\t\t};\n\t\t\t\t\tapplicationModule.config(provider);\n\t\t\t\t};\n\n\t\t\t\tfor (var _iterator4 = Object.keys(bulks.decorators)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\t_loop();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t_iteratorError4 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4[\"return\"]) {\n\t\t\t\t\t\t_iterator4[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.filters) {\n\t\t\tvar _iteratorNormalCompletion5 = true;\n\t\t\tvar _didIteratorError5 = false;\n\t\t\tvar _iteratorError5 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator5 = Object.keys(bulks.filters)[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t\t\t\t\tvar filterName = _step5.value;\n\n\t\t\t\t\tapplicationModule.filter(filterName, bulks.filters[filterName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError5 = true;\n\t\t\t\t_iteratorError5 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion5 && _iterator5[\"return\"]) {\n\t\t\t\t\t\t_iterator5[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError5) {\n\t\t\t\t\t\tthrow _iteratorError5;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.directives) {\n\t\t\tvar _iteratorNormalCompletion6 = true;\n\t\t\tvar _didIteratorError6 = false;\n\t\t\tvar _iteratorError6 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator6 = Object.keys(bulks.directives)[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n\t\t\t\t\tvar directiveName = _step6.value;\n\n\t\t\t\t\tapplicationModule.directive(directiveName, bulks.directives[directiveName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError6 = true;\n\t\t\t\t_iteratorError6 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion6 && _iterator6[\"return\"]) {\n\t\t\t\t\t\t_iterator6[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError6) {\n\t\t\t\t\t\tthrow _iteratorError6;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.factories) {\n\t\t\tvar _iteratorNormalCompletion7 = true;\n\t\t\tvar _didIteratorError7 = false;\n\t\t\tvar _iteratorError7 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator7 = Object.keys(bulks.factories)[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n\t\t\t\t\tvar factoryName = _step7.value;\n\n\t\t\t\t\tvar declarativeFactoryName = capitalize(factoryName);\n\t\t\t\t\tapplicationModule.factory(declarativeFactoryName, bulks.factories[factoryName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError7 = true;\n\t\t\t\t_iteratorError7 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion7 && _iterator7[\"return\"]) {\n\t\t\t\t\t\t_iterator7[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError7) {\n\t\t\t\t\t\tthrow _iteratorError7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.services) {\n\t\t\tvar _iteratorNormalCompletion8 = true;\n\t\t\tvar _didIteratorError8 = false;\n\t\t\tvar _iteratorError8 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator8 = Object.keys(bulks.services)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n\t\t\t\t\tvar serviceName = _step8.value;\n\n\t\t\t\t\tapplicationModule.service(serviceName, bulks.services[serviceName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError8 = true;\n\t\t\t\t_iteratorError8 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion8 && _iterator8[\"return\"]) {\n\t\t\t\t\t\t_iterator8[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError8) {\n\t\t\t\t\t\tthrow _iteratorError8;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (bulks.controllers) {\n\t\t\tvar _iteratorNormalCompletion9 = true;\n\t\t\tvar _didIteratorError9 = false;\n\t\t\tvar _iteratorError9 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator9 = Object.keys(bulks.controllers)[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n\t\t\t\t\tvar controllerName = _step9.value;\n\n\t\t\t\t\tvar declarativeControllerName = capitalize(controllerName);\n\t\t\t\t\tapplicationModule.controller(declarativeControllerName, bulks.controllers[controllerName]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError9 = true;\n\t\t\t\t_iteratorError9 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion9 && _iterator9[\"return\"]) {\n\t\t\t\t\t\t_iterator9[\"return\"]();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError9) {\n\t\t\t\t\t\tthrow _iteratorError9;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn _this;\n\t};\n}\n\nmodule.exports = AngularApplication;\n\n}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9oZWxwZXJzL2FuZ3VsYXJBcHBsaWNhdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxTQUFTLGtCQUFrQixDQUFFLElBQTJELEVBQUU7OztLQUE1RCxlQUFlLEdBQWhCLElBQTJELENBQTFELGVBQWU7S0FBRSxZQUFZLEdBQTlCLElBQTJELENBQXpDLFlBQVk7S0FBRSwwQkFBMEIsR0FBMUQsSUFBMkQsQ0FBM0IsMEJBQTBCOztBQUN0RixLQUFJLENBQUMsMEJBQTBCLEVBQzlCLDBCQUEwQixHQUFHLEVBQUUsQ0FBQzs7QUFFakMsS0FBTSxVQUFVLEdBQUcsU0FBYixVQUFVLENBQUksSUFBSTtTQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0VBQUEsQ0FBQzs7QUFFOUUsS0FBTSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxHQUFHLDBCQUEwQixHQUFFLEVBQUUsQ0FBQSxDQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDOztBQUU3SSxLQUFJLENBQUMsYUFBYSxHQUFHLFVBQUMsS0FBSyxFQUFLO0FBQy9CLE1BQUksS0FBSyxDQUFDLElBQUksRUFBRTs7Ozs7O0FBQ2YseUJBQW9CLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyw4SEFBRTtTQUFwQyxPQUFPOztBQUNmLHNCQUFpQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDM0M7Ozs7Ozs7Ozs7Ozs7OztHQUNEOztBQUVELE1BQUksS0FBSyxDQUFDLE9BQU8sRUFBRTs7Ozs7O0FBQ2xCLDBCQUF1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QUMzRjs7Ozs7Ozs7Ozs7Ozs7O0dBQ0Q7O0FBRUQsZUFBWTtFQUNaLENBQUM7Q0FDRjs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLGtCQUFrQixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBBbmd1bGFyQXBwbGljYXRpb24gKHthcHBsaWNhdGlvbk5hbWUsIGRlcGVuZGVuY2llcywgcHJvZHVjdGlvbk9ubHlEZXBlbmRlbmNpZXN9KSB7XG5cdGlmICghcHJvZHVjdGlvbk9ubHlEZXBlbmRlbmNpZXMpXG5cdFx0cHJvZHVjdGlvbk9ubHlEZXBlbmRlbmNpZXMgPSBbXTtcblxuXHRjb25zdCBjYXBpdGFsaXplID0gKG5hbWUpID0+IG5hbWUuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKTtcblxuXHRjb25zdCBhcHBsaWNhdGlvbk1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKGFwcGxpY2F0aW9uTmFtZSwgKHByb2Nlc3MuZW52LklTX1BST0RVQ1RJT04gPyBwcm9kdWN0aW9uT25seURlcGVuZGVuY2llcyA6W10pLmNvbmNhdChkZXBlbmRlbmNpZXMpKTtcblxuXHR0aGlzLnJlZ2lzdGVyQnVsa3MgPSAoYnVsa3MpID0+IHtcblx0XHRpZiAoYnVsa3MucnVucykge1xuXHRcdFx0Zm9yIChsZXQgcnVuTmFtZSBvZiBPYmplY3Qua2V5cyhidWxrcy5ydW5zKSkge1xuXHRcdFx0XHRhcHBsaWNhdGlvbk1vZHVsZS5ydW4oYnVsa3MucnVuc1tydW5OYW1lXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGJ1bGtzLmNvbmZpZ3MpIHtcblx0XHRcdGZvciAobGV0IGNvbmZpZ05hbWUgb2YgT2JqZWN0LmtleXMoYnVsa3MuY29uZmlncykpIHtcblx0XHRcdFx0YXBwbGljYXRpb25Nb2R1bGUuY29uZmlnKGJ1bGtzLmNvbmZpZ3NbY29uZmlnTmFtZV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChidWxrcy5jb25zdGFudHMpIHtcblx0XHRcdGZvciAobGV0IGNvbnN0c05hbWUgb2YgT2JqZWN0LmtleXMoYnVsa3MuY29uc3RhbnRzKSkge1xuXHRcdFx0XHRhcHBsaWNhdGlvbk1vZHVsZS5jb25zdGFudChjb25zdHNOYW1lLCBidWxrcy5jb25zdGFudHNbY29uc3RzTmFtZV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChidWxrcy5kZWNvcmF0b3JzKSB7XG5cdFx0XHRmb3IgKGxldCBkZWNvcmF0b3JOYW1lIG9mIE9iamVjdC5rZXlzKGJ1bGtzLmRlY29yYXRvcnMpKSB7XG5cdFx0XHRcdC8vIEBuZ0luamVjdFxuXHRcdFx0XHRsZXQgcHJvdmlkZXIgPSAoJHByb3ZpZGUpID0+IHtcblx0XHRcdFx0XHQkcHJvdmlkZS5kZWNvcmF0b3IoZGVjb3JhdG9yTmFtZSwgYnVsa3MuZGVjb3JhdG9yc1tkZWNvcmF0b3JOYW1lXSk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGFwcGxpY2F0aW9uTW9kdWxlLmNvbmZpZyhwcm92aWRlcik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGJ1bGtzLmZpbHRlcnMpIHtcblx0XHRcdGZvciAobGV0IGZpbHRlck5hbWUgb2YgT2JqZWN0LmtleXMoYnVsa3MuZmlsdGVycykpIHtcblx0XHRcdFx0YXBwbGljYXRpb25Nb2R1bGUuZmlsdGVyKGZpbHRlck5hbWUsIGJ1bGtzLmZpbHRlcnNbZmlsdGVyTmFtZV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChidWxrcy5kaXJlY3RpdmVzKSB7XG5cdFx0XHRmb3IgKGxldCBkaXJlY3RpdmVOYW1lIG9mIE9iamVjdC5rZXlzKGJ1bGtzLmRpcmVjdGl2ZXMpKSB7XG5cdFx0XHRcdGFwcGxpY2F0aW9uTW9kdWxlLmRpcmVjdGl2ZShkaXJlY3RpdmVOYW1lLCBidWxrcy5kaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYnVsa3MuZmFjdG9yaWVzKSB7XG5cdFx0XHRmb3IgKGxldCBmYWN0b3J5TmFtZSBvZiBPYmplY3Qua2V5cyhidWxrcy5mYWN0b3JpZXMpKSB7XG5cdFx0XHRcdGxldCBkZWNsYXJhdGl2ZUZhY3RvcnlOYW1lID0gY2FwaXRhbGl6ZShmYWN0b3J5TmFtZSk7XG5cdFx0XHRcdGFwcGxpY2F0aW9uTW9kdWxlLmZhY3RvcnkoZGVjbGFyYXRpdmVGYWN0b3J5TmFtZSwgYnVsa3MuZmFjdG9yaWVzW2ZhY3RvcnlOYW1lXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGJ1bGtzLnNlcnZpY2VzKSB7XG5cdFx0XHRmb3IgKGxldCBzZXJ2aWNlTmFtZSBvZiBPYmplY3Qua2V5cyhidWxrcy5zZXJ2aWNlcykpIHtcblx0XHRcdFx0YXBwbGljYXRpb25Nb2R1bGUuc2VydmljZShzZXJ2aWNlTmFtZSwgYnVsa3Muc2VydmljZXNbc2VydmljZU5hbWVdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYnVsa3MuY29udHJvbGxlcnMpIHtcblx0XHRcdGZvciAobGV0IGNvbnRyb2xsZXJOYW1lIG9mIE9iamVjdC5rZXlzKGJ1bGtzLmNvbnRyb2xsZXJzKSkge1xuXHRcdFx0XHRsZXQgZGVjbGFyYXRpdmVDb250cm9sbGVyTmFtZSA9IGNhcGl0YWxpemUoY29udHJvbGxlck5hbWUpO1xuXHRcdFx0XHRhcHBsaWNhdGlvbk1vZHVsZS5jb250cm9sbGVyKGRlY2xhcmF0aXZlQ29udHJvbGxlck5hbWUsIGJ1bGtzLmNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5ndWxhckFwcGxpY2F0aW9uOyJdfQ==","deps":{"_process":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js"}},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js":{"source":"// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/crypto.js":{"source":"(function (process){\n'use strict';\n\nmodule.exports = /*@ngInject*/function ($q, $rootScope, consts, co, utils, CryptoKeysStorage) {\n\tvar self = this;\n\n\tvar storage = null;\n\tvar keyring = null;\n\tvar isInitialized = false;\n\n\tvar defaultOptions = {\n\t\tisPrivateComputer: false,\n\t\tisShortMemory: false\n\t};\n\n\tvar wrapOpenpgpKeyring = function wrapOpenpgpKeyring(keyring) {\n\t\tvar findByFingerprint = function findByFingerprint(keys, fingerprint) {\n\t\t\treturn keys.find(function (k) {\n\t\t\t\treturn k.primaryKey.fingerprint == fingerprint;\n\t\t\t});\n\t\t};\n\n\t\tvar findIndexByFingerprint = function findIndexByFingerprint(keys, fingerprint) {\n\t\t\treturn keys.findIndex(function (k) {\n\t\t\t\treturn k.primaryKey.fingerprint == fingerprint;\n\t\t\t});\n\t\t};\n\n\t\tkeyring.publicKeys.findByFingerprint = function (fingerprint) {\n\t\t\treturn findByFingerprint(keyring.publicKeys.keys, fingerprint);\n\t\t};\n\t\tkeyring.privateKeys.findByFingerprint = function (fingerprint) {\n\t\t\treturn findByFingerprint(keyring.privateKeys.keys, fingerprint);\n\t\t};\n\n\t\tkeyring.publicKeys.findIndexByFingerprint = function (fingerprint) {\n\t\t\treturn findIndexByFingerprint(keyring.publicKeys.keys, fingerprint);\n\t\t};\n\t\tkeyring.privateKeys.findIndexByFingerprint = function (fingerprint) {\n\t\t\treturn findIndexByFingerprint(keyring.privateKeys.keys, fingerprint);\n\t\t};\n\n\t\treturn keyring;\n\t};\n\n\tvar changePasswordForPrivateKey = function changePasswordForPrivateKey(privateKey, newPassword) {\n\t\ttry {\n\t\t\tif (!privateKey || !privateKey.primaryKey.isDecrypted) return null;\n\n\t\t\tvar packets = privateKey.getAllKeyPackets();\n\t\t\tpackets.forEach(function (packet) {\n\t\t\t\treturn packet.encrypt(newPassword);\n\t\t\t});\n\n\t\t\tvar i = keyring.privateKeys.findIndexByFingerprint(privateKey.primaryKey.fingerprint);\n\t\t\tif (i > -1) {\n\t\t\t\tvar updatedPrivateKey = openpgp.key.readArmored(privateKey.armor()).keys[0];\n\t\t\t\tkeyring.privateKeys.keys[i] = updatedPrivateKey;\n\t\t\t\treturn updatedPrivateKey;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t} catch (catchedError) {\n\t\t\tconsole.error(catchedError);\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tvar applyPasswordToKeyPair = function applyPasswordToKeyPair(privateKey, password) {\n\t\tif (privateKey.primaryKey.isDecrypted) return true;\n\n\t\ttry {\n\t\t\treturn privateKey.decrypt(password);\n\t\t} catch (catchedError) {\n\t\t\tconsole.error(catchedError);\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tvar getDecryptedPrivateKeys = function getDecryptedPrivateKeys() {\n\t\treturn keyring.privateKeys.keys.filter(function (k) {\n\t\t\treturn k.primaryKey.isDecrypted;\n\t\t});\n\t};\n\n\tvar authenticate = function authenticate(privateKey, password) {\n\t\tvar isPersist = arguments[2] === undefined ? false : arguments[2];\n\n\t\tif (!applyPasswordToKeyPair(privateKey, password)) return false;\n\n\t\tvar updatedPrivateKey = changePasswordForPrivateKey(privateKey, '');\n\t\tif (isPersist && updatedPrivateKey) self.importPrivateKey(updatedPrivateKey);\n\n\t\treturn true;\n\t};\n\n\tthis.options = {};\n\n\tthis.decodeRaw = function (message) {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar pgpMessage, decryptResults, r;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tif (message) {\n\t\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow new Error('nothing_to_decrypt');\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tpgpMessage = openpgp.message.readArmored(message);\n\t\t\t\t\t\tcontext$3$0.next = 5;\n\t\t\t\t\t\treturn getDecryptedPrivateKeys().map(function (key) {\n\t\t\t\t\t\t\treturn co.def(openpgp.decryptMessage(key, pgpMessage), null);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tdecryptResults = context$3$0.sent;\n\t\t\t\t\t\tr = decryptResults.find(function (r) {\n\t\t\t\t\t\t\treturn r;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\tcontext$3$0.next = 9;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow new Error('no_private_key');\n\n\t\t\t\t\tcase 9:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', r);\n\n\t\t\t\t\tcase 10:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.encodeWithKeys = function (message, publicKeys) {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar mergedPublicKeys;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tmergedPublicKeys = publicKeys.reduce(function (a, k) {\n\t\t\t\t\t\t\ta = a.concat(openpgp.key.readArmored(k).keys);\n\t\t\t\t\t\t\treturn a;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t\tcontext$3$0.next = 3;\n\t\t\t\t\t\treturn openpgp.encryptMessage(mergedPublicKeys, message);\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tcontext$3$0.t43 = context$3$0.sent;\n\t\t\t\t\t\treturn context$3$0.abrupt('return', {\n\t\t\t\t\t\t\tpgpData: context$3$0.t43,\n\t\t\t\t\t\t\tmergedPublicKeys: mergedPublicKeys\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 5:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.getAvailableSourceEmails = function () {\n\t\treturn utils.uniqMap(keyring.privateKeys.keys, function (k) {\n\t\t\treturn utils.getEmailFromAddressString(k.users[0].userId.userid);\n\t\t});\n\t};\n\n\tthis.getAvailablePrivateKeys = function () {\n\t\treturn keyring.privateKeys.keys;\n\t};\n\n\tthis.getAvailablePublicKeysForEmail = function (email) {\n\t\treturn keyring.publicKeys.getForAddress(email);\n\t};\n\n\tthis.getAvailablePrivateKeysForEmail = function (email) {\n\t\treturn keyring.privateKeys.getForAddress(email);\n\t};\n\n\tthis.getPublicKeyByFingerprint = function (fingerprint) {\n\t\treturn keyring.publicKeys.findByFingerprint(fingerprint);\n\t};\n\n\tthis.getPrivateKeyByFingerprint = function (fingerprint) {\n\t\treturn keyring.privateKeys.findByFingerprint(fingerprint);\n\t};\n\n\tthis.readKey = function (key) {\n\t\treturn openpgp.key.readArmored(key).keys[0];\n\t};\n\n\tthis.importPublicKey = function (publicKey) {\n\t\tconsole.log('importing public key', publicKey);\n\n\t\tif (!publicKey) return;\n\n\t\tkeyring.publicKeys.importKey(publicKey.armor ? publicKey.armor() : publicKey);\n\t\tkeyring.store();\n\t};\n\n\tthis.importPrivateKey = function (privateKeySubst) {\n\t\tconsole.log('importing private key', privateKeySubst);\n\n\t\tif (!privateKeySubst) return;\n\n\t\tvar _ref = privateKeySubst.armor ? [[privateKeySubst], privateKeySubst.armor()] : [openpgp.key.readArmored(privateKeySubst).keys, privateKeySubst];\n\n\t\tvar _ref2 = babelHelpers.slicedToArray(_ref, 2);\n\n\t\tvar privateKeys = _ref2[0];\n\t\tvar privateKeyArmored = _ref2[1];\n\t\tvar _iteratorNormalCompletion = true;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError = undefined;\n\n\t\ttry {\n\n\t\t\tfor (var _iterator = privateKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\tvar privateKey = _step.value;\n\n\t\t\t\tvar i = keyring.privateKeys.findIndexByFingerprint(privateKey.primaryKey.fingerprint);\n\t\t\t\tif (i > -1) {\n\t\t\t\t\tconsole.log('remove existing private key with fingerprint', privateKey.primaryKey.fingerprint, 'index', i);\n\t\t\t\t\tkeyring.privateKeys.keys.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t_iterator['return']();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tkeyring.privateKeys.importKey(privateKeyArmored);\n\t\tkeyring.store();\n\t};\n\n\tthis.clearPermanentPrivateKeysForEmail = function (email) {\n\t\treturn storage.clearPermanentPrivateKeysForEmail(email);\n\t};\n\n\tthis.restorePrivateKeys = function (privateKeys, privateSecuredKeys) {\n\t\tstorage.storePrivate(privateKeys);\n\t\tstorage.storePrivate(privateSecuredKeys);\n\t};\n\n\tthis.storeKeyring = function () {\n\t\tkeyring.store();\n\t};\n\n\tthis.initialize = function () {\n\t\tvar opt = arguments[0] === undefined ? {} : arguments[0];\n\n\t\tvar storedOptions = utils.def(function () {\n\t\t\treturn JSON.parse(localStorage['lava-crypto-options']);\n\t\t}, {});\n\t\tself.options = angular.extend({}, defaultOptions, storedOptions, opt);\n\t\tconsole.log('initialize crypto with ', self.options, 'provided', opt);\n\t\tlocalStorage['lava-crypto-options'] = JSON.stringify(self.options);\n\n\t\tif (!isInitialized) {\n\t\t\tvar threadsCount = navigator.hardwareConcurrency ? navigator.hardwareConcurrency : consts.CRYPTO_DEFAULT_THREAD_POOL_SIZE;\n\n\t\t\tconsole.log('Initialize openpgp in multi-threading mode, workers count: ', threadsCount);\n\t\t\topenpgp.initWorker('/vendor/openpgp.worker.js', { threadsCount: threadsCount });\n\t\t\tisInitialized = true;\n\t\t}\n\n\t\tvar _self$createKeyring = self.createKeyring(true);\n\n\t\tvar _self$createKeyring2 = babelHelpers.slicedToArray(_self$createKeyring, 2);\n\n\t\tkeyring = _self$createKeyring2[0];\n\t\tstorage = _self$createKeyring2[1];\n\n\t\tif (!process.env.IS_PRODUCTION) window.keyring = keyring;\n\n\t\t$rootScope.$broadcast('keyring-updated');\n\t};\n\n\tthis.createKeyring = function () {\n\t\tvar isLoadDecrypted = arguments[0] === undefined ? false : arguments[0];\n\n\t\tvar storage = new CryptoKeysStorage(self.options.isPrivateComputer, self.options.isShortMemory, self.options.email ? [self.options.email] : [], isLoadDecrypted);\n\n\t\treturn [wrapOpenpgpKeyring(new openpgp.Keyring(storage)), storage];\n\t};\n\n\tthis.generateKeys = function (nameEmail, password, numBits) {\n\t\tif (!numBits) numBits = consts.DEFAULT_KEY_LENGTH;\n\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar freshKeys, publicKey, privateKey;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn openpgp.generateKeyPair({ numBits: numBits, userId: nameEmail, passphrase: password });\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tfreshKeys = context$3$0.sent;\n\t\t\t\t\t\tpublicKey = openpgp.key.readArmored(freshKeys.publicKeyArmored).keys[0];\n\t\t\t\t\t\tprivateKey = openpgp.key.readArmored(freshKeys.privateKeyArmored).keys[0];\n\t\t\t\t\t\treturn context$3$0.abrupt('return', {\n\t\t\t\t\t\t\tpub: publicKey,\n\t\t\t\t\t\t\tprv: privateKey\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 6:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.changePassword = function (email, oldPassword, newPassword) {\n\t\tvar privateKeys = keyring.privateKeys.getForAddress(email);\n\t\tprivateKeys.forEach(function (privateKey) {\n\t\t\tif (authenticate(privateKey, oldPassword)) {\n\t\t\t\tvar updatedPrivateKey = changePasswordForPrivateKey(privateKey, newPassword);\n\t\t\t\tif (updatedPrivateKey) {\n\t\t\t\t\tself.importPrivateKey(updatedPrivateKey);\n\n\t\t\t\t\tauthenticate(updatedPrivateKey, newPassword);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.authenticateByEmail = function (email, password) {\n\t\tvar decryptedFingerprints = [];\n\t\tvar failedFingerprints = [];\n\n\t\tkeyring.privateKeys.getForAddress(email).forEach(function (privateKey) {\n\t\t\tif (authenticate(privateKey, password, true)) {\n\t\t\t\tdecryptedFingerprints.push(privateKey.primaryKey.fingerprint);\n\t\t\t} else failedFingerprints.push(privateKey.primaryKey.fingerprint);\n\t\t});\n\n\t\tif (decryptedFingerprints.length > 0) $rootScope.$broadcast('keyring-updated');\n\n\t\treturn {\n\t\t\tdecryptedFingerprints: decryptedFingerprints,\n\t\t\tfailedFingerprints: failedFingerprints\n\t\t};\n\t};\n\n\tthis.authenticate = function (privateKey, password) {\n\t\tif (!authenticate(privateKey, password, true)) return false;\n\n\t\t$rootScope.$broadcast('keyring-updated');\n\n\t\treturn true;\n\t};\n\n\tthis.hash = function (data) {\n\t\treturn openpgp.util.hexstrdump(openpgp.crypto.hash.sha256(data));\n\t};\n\n\tthis.encodeEnvelopeWithKeys = function (data, publicKeys) {\n\t\tvar dataFieldName = arguments[2] === undefined ? 'data' : arguments[2];\n\t\tvar prefixName = arguments[3] === undefined ? '' : arguments[3];\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar dataObj, _ref3, pgpData, mergedPublicKeys, envelope;\n\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tif (!data.encoding) data.encoding = 'raw';\n\t\t\t\t\t\tif (!data.majorVersion) data.majorVersion = consts.ENVELOPE_DEFAULT_MAJOR_VERSION;\n\t\t\t\t\t\tif (!data.minorVersion) data.minorVersion = consts.ENVELOPE_DEFAULT_MINOR_VERSION;\n\n\t\t\t\t\t\tif (prefixName) prefixName = '' + prefixName + '_';\n\n\t\t\t\t\t\tdataObj = data.encoding == 'json' ? JSON.stringify(data.data) : data.data;\n\n\t\t\t\t\t\tif (!(publicKeys && publicKeys.length > 0)) {\n\t\t\t\t\t\t\tcontext$3$0.next = 11;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontext$3$0.next = 8;\n\t\t\t\t\t\treturn self.encodeWithKeys(dataObj, publicKeys);\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tcontext$3$0.t44 = context$3$0.sent;\n\t\t\t\t\t\tcontext$3$0.next = 12;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 11:\n\t\t\t\t\t\tcontext$3$0.t44 = { pgpData: dataObj, mergedPublicKeys: [] };\n\n\t\t\t\t\tcase 12:\n\t\t\t\t\t\t_ref3 = context$3$0.t44;\n\t\t\t\t\t\tpgpData = _ref3.pgpData;\n\t\t\t\t\t\tmergedPublicKeys = _ref3.mergedPublicKeys;\n\t\t\t\t\t\tenvelope = {\n\t\t\t\t\t\t\tpgp_fingerprints: mergedPublicKeys.map(function (k) {\n\t\t\t\t\t\t\t\treturn k.primaryKey.fingerprint;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tencoding: data.encoding\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tenvelope[dataFieldName] = pgpData;\n\n\t\t\t\t\t\tenvelope['' + prefixName + 'version_major'] = data.majorVersion;\n\t\t\t\t\t\tenvelope['' + prefixName + 'version_minor'] = data.minorVersion;\n\n\t\t\t\t\t\treturn context$3$0.abrupt('return', envelope);\n\n\t\t\t\t\tcase 20:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.decodeEnvelope = function (envelope) {\n\t\tvar prefixName = arguments[1] === undefined ? '' : arguments[1];\n\t\tvar encoding = arguments[2] === undefined ? '' : arguments[2];\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\tvar pgpData, message, state;\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tif (prefixName) prefixName = '' + prefixName + '_';\n\t\t\t\t\t\tif (encoding) envelope.encoding = encoding;\n\n\t\t\t\t\t\tpgpData = envelope.data;\n\t\t\t\t\t\tmessage = null;\n\t\t\t\t\t\tstate = 'ok';\n\t\t\t\t\t\tcontext$3$0.prev = 5;\n\t\t\t\t\t\tcontext$3$0.next = 8;\n\t\t\t\t\t\treturn self.decodeRaw(pgpData);\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tmessage = context$3$0.sent;\n\n\t\t\t\t\t\tif (envelope.encoding == 'json') message = JSON.parse(message);\n\t\t\t\t\t\tcontext$3$0.next = 17;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 12:\n\t\t\t\t\t\tcontext$3$0.prev = 12;\n\t\t\t\t\t\tcontext$3$0.t45 = context$3$0['catch'](5);\n\n\t\t\t\t\t\tmessage = '';\n\t\t\t\t\t\tstate = context$3$0.t45.message;\n\t\t\t\t\t\tconsole.error('decodeEnvelope', context$3$0.t45);\n\n\t\t\t\t\tcase 17:\n\t\t\t\t\t\treturn context$3$0.abrupt('return', {\n\t\t\t\t\t\t\tdata: message,\n\t\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\t\tmajorVersion: envelope['' + prefixName + 'version_major'],\n\t\t\t\t\t\t\tminorVersion: envelope['' + prefixName + 'version_minor']\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 18:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this, [[5, 12]]);\n\t\t}));\n\t};\n\n\tthis.removeAllKeys = function () {\n\t\tstorage.clearAllKeys();\n\t};\n\n\tthis.removeSensitiveKeys = function () {\n\t\tvar isTriggerUpdateEvent = arguments[0] === undefined ? false : arguments[0];\n\n\t\tstorage.clearDecryptedPrivateKeys();\n\n\t\tif (isTriggerUpdateEvent) self.initialize();\n\t};\n};\n\n}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL2NyeXB0by5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsVUFBUyxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFO0FBQzVGLEtBQU0sSUFBSSxHQUFHLElBQUksQ0FBQzs7QUFFbEIsS0FBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ25CLEtBQUksT0FBTyxHQUFHLElBQUksQ0FBQztBQUNuQixLQUFJLGFBQWEsR0FBRyxLQUFLLENBQUM7O0FBRTFCLEtBQU0sY0FBYyxHQUFHO0FBQ3RCLG1CQUFpQixFQUFFLEtBQUs7QUFDeEIsZUFBYSxFQUFFLEtBQUs7RUFDcEIsQ0FBQzs7QUFFRixLQUFNLGtCQUFrQixHQUFHLFNBQXJCLGtCQUFrQixDQUFJLE9BQU8sRUFBSztBQUN2QyxNQUFNLGlCQUFpQixHQUFHLFNBQXBCLGlCQUFpQixDQUFJLElBQUksRUFBRSxXQUFXO1VBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFBLENBQUM7V0FBSSxDQUFDLENBQUMsVUFBVSxDQUFDLFdBQVcsSUFBSSxXQUFXO0lBQUEsQ0FBQztHQUFBLENBQUM7O0FBRXpHLE1BQU0sc0JBQXNCLEdBQUcsU0FBekIsc0JBQXNCLENBQUksSUFBSSxFQUFFLFdBQVc7VUFBSyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQUEsQ0FBQztXQUFJLENBQUMsQ0FBQyxVQUFVLENBQUMsV0FBVyxJQUFJLFdBQVc7SUFBQSxDQUFDO0dBQUEsQ0FBQzs7QUFFbkgsU0FBTyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsR0FBRyxVQUFDLFdBQVc7VUFBSyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxXQUFXLENBQUM7R0FBQSxDQUFDO0FBQ2hI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TUFBakMsb0JBQW9CLGdDQUFHLEtBQUs7O0FBQ3ZELFNBQU8sQ0FBQyx5QkFBeUIsRUFBRSxDQUFDOztBQUVwQyxNQUFJLG9CQUFvQixFQUN2QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7RUFDbkIsQ0FBQztDQUNGLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gLypAbmdJbmplY3QqL2Z1bmN0aW9uKCRxLCAkcm9vdFNjb3BlLCBjb25zdHMsIGNvLCB1dGlscywgQ3J5cHRvS2V5c1N0b3JhZ2UpIHtcblx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cblx0bGV0IHN0b3JhZ2UgPSBudWxsO1xuXHRsZXQga2V5cmluZyA9IG51bGw7XG5cdGxldCBpc0luaXRpYWxpemVkID0gZmFsc2U7XG5cblx0Y29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG5cdFx0aXNQcml2YXRlQ29tcHV0ZXI6IGZhbHNlLFxuXHRcdGlzU2hvcnRNZW1vcnk6IGZhbHNlXG5cdH07XG5cblx0Y29uc3Qgd3JhcE9wZW5wZ3BLZXlyaW5nID0gKGtleXJpbmcpID0+IHtcblx0XHRjb25zdCBmaW5kQnlGaW5nZXJwcmludCA9IChrZXlzLCBmaW5nZXJwcmludCkgPT4ga2V5cy5maW5kKGsgPT4gay5wcmltYXJ5S2V5LmZpbmdlcnByaW50ID09IGZpbmdlcnByaW50KTtcblxuXHRcdGNvbnN0IGZpbmRJbmRleEJ5RmluZ2VycHJpbnQgPSAoa2V5cywgZmluZ2VycHJpbnQpID0+IGtleXMuZmluZEluZGV4KGsgPT4gay5wcmltYXJ5S2V5LmZpbmdlcnByaW50ID09IGZpbmdlcnByaW50KTtcblxuXHRcdGtleXJpbmcucHVibGljS2V5cy5maW5kQnlGaW5nZXJwcmludCA9IChmaW5nZXJwcmludCkgPT4gZmluZEJ5RmluZ2VycHJpbnQoa2V5cmluZy5wdWJsaWNLZXlzLmtleXMsIGZpbmdlcnByaW50KTtcblx0XHRrZXlyaW5nLnByaXZhdGVLZXlzLmZpbmRCeUZpbmdlcnByaW50ID0gKGZpbmdlcnByaW50KSA9PiBmaW5kQnlGaW5nZXJwcmludChrZXlyaW5nLnByaXZhdGVLZXlzLmtleXMsIGZpbmdlcnByaW50KTtcblxuXHRcdGtleXJpbmcucHVibGljS2V5cy5maW5kSW5kZXhCeUZpbmdlcnByaW50ID0gKGZpbmdlcnByaW50KSA9PiBmaW5kSW5kZXhCeUZpbmdlcnByaW50KGtleXJpbmcucHVibGljS2V5cy5rZXlzLCBmaW5nZXJwcmludCk7XG5cdFx0a2V5cmluZy5wcml2YXRlS2V5cy5maW5kSW5kZXhCeUZpbmdlcnByaW50ID0gKGZpbmdlcnByaW50KSA9PiBmaW5kSW5kZXhCeUZpbmdlcnByaW50KGtleXJpbmcucHJpdmF0ZUtleXMua2V5cywgZmluZ2VycHJpbnQpO1xuXG5cdFx0cmV0dXJuIGtleXJpbmc7XG5cdH07XG5cblx0Y29uc3QgY2hhbmdlUGFzc3dvcmRGb3JQcml2YXRlS2V5ID0gKHByaXZhdGVLZXksIG5ld1Bhc3N3b3JkKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghcHJpdmF0ZUtleSB8fCAhcHJpdmF0ZUtleS5wcmltYXJ5S2V5LmlzRGVjcnlwdGVkKVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0Y29uc3QgcGFja2V0cyA9IHByaXZhdGVLZXkuZ2V0QWxsS2V5UGFja2V0cygpO1xuXHRcdFx0cGFja2V0cy5mb3JFYWNoKHBhY2tldCA9PiBwYWNrZXQuZW5jcnlwdChuZXdQYXNzd29yZCkpO1xuXG5cdFx0XHRjb25zdCBpID0ga2V5cmluZy5wcml2YXRlS2V5cy5maW5kSW5kZXhCeUZpbmdlcnByaW50KHByaXZhdGVLZXkucHJpbWFyeUtleS5maW5nZXJwcmludCk7XG5cdFx0XHRpZiAoaSA+IC0xKSB7XG5cdFx0XHRcdGNvbnN0IHVwZGF0ZWRQcml2YXRlS2V5ID0gb3BlbnBncC5rZXkucmVhZEFybW9yZWQocHJpdmF0ZUtleS5hcm1vcigpKS5rZXlzWzBdO1xuXHRcdFx0XHRrZXlyaW5nLnByaXZhdGVLZXlzLmtleXNbaV0gPSB1cGRhdGVkUHJpdmF0ZUtleTtcblx0XHRcdFx0cmV0dXJuIHVwZGF0ZWRQcml2YXRlS2V5O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGNhdGNoIChjYXRjaGVkRXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoY2F0Y2hlZEVycm9yKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBhcHBseVBhc3N3b3JkVG9LZXlQYWlyID0gKHByaXZhdGVLZXksIHBhc3N3b3JkKSA9PiB7XG5cdFx0aWYgKHByaXZhdGVLZXkucHJpbWFyeUtleS5pc0RlY3J5cHRlZClcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBwcml2YXRlS2V5LmRlY3J5cHQocGFzc3dvcmQpO1xuXHRcdH0gY2F0Y2ggKGNhdGNoZWRFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihjYXRjaGVkRXJyb3IpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBnZXREZWNyeXB0ZWRQcml2YXRlS2V5cyA9ICgpID0+IGtleXJpbmcucHJpdmF0ZUtleXMua2V5cy5maWx0ZXIoayA9PiBrLnByaW1hcnlLZXkuaXNEZWNyeXB0ZWQpO1xuXG5cdGNvbnN0IGF1dGhlbnRpY2F0ZSA9IChwcml2YXRlS2V5LCBwYXNzd29yZCwgaXNQZXJzaXN0ID0gZmFsc2UpID0+IHtcblx0XHRpZiAoIWFwcGx5UGFzc3dvcmRUb0tleVBhaXIocHJpdmF0ZUtleSwgcGFzc3dvcmQpKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0Y29uc3QgdXBkYXRlZFByaXZhdGVLZXkgPSBjaGFuZ2VQYXNzd29yZEZvclByaXZhdGVLZXkocHJpdmF0ZUtleSwgJycpO1xuXHRcdGlmIChpc1BlcnNpc3QgJiYgdXBkYXRlZFByaXZhdGVLZXkpXG5cdFx0XHRzZWxmLmltcG9ydFByaXZhdGVLZXkodXBkYXRlZFByaXZhdGVLZXkpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0dGhpcy5vcHRpb25zID0ge307XG5cblx0dGhpcy5kZWNvZGVSYXcgPSAobWVzc2FnZSkgPT4gY28oZnVuY3Rpb24gKigpe1xuXHRcdGlmICghbWVzc2FnZSlcblx0XHRcdHRocm93IG5ldyBFcnJvcignbm90aGluZ190b19kZWNyeXB0Jyk7XG5cblx0XHRjb25zdCBwZ3BNZXNzYWdlID0gb3BlbnBncC5tZXNzYWdlLnJlYWRBcm1vcmVkKG1lc3NhZ2UpO1xuXG5cdFx0Y29uc3QgZGVjcnlwdFJlc3VsdHMgPSB5aWVsZCBnZXREZWNyeXB0ZWRQcml2YXRlS2V5cygpLm1hcChrZXkgPT4ge1xuXHRcdFx0cmV0dXJuIGNvLmRlZihvcGVucGdwLmRlY3J5cHRNZXNzYWdlKGtleSwgcGdwTWVzc2FnZSksIG51bGwpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgciA9IGRlY3J5cHRSZXN1bHRzLmZpbmQociA9PiByKTtcblx0XHRpZiAoIXIpXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ25vX3ByaXZhdGVfa2V5Jyk7XG5cblx0XHRyZXR1cm4gcjtcblx0fSk7XG5cblx0dGhpcy5lbmNvZGVXaXRoS2V5cyA9IChtZXNzYWdlLCBwdWJsaWNLZXlzKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0Y29uc3QgbWVyZ2VkUHVibGljS2V5cyA9IHB1YmxpY0tleXMucmVkdWNlKChhLCBrKSA9PiB7XG5cdFx0XHRhID0gYS5jb25jYXQob3BlbnBncC5rZXkucmVhZEFybW9yZWQoaykua2V5cyk7XG5cdFx0XHRyZXR1cm4gYTtcblx0XHR9LCBbXSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0cGdwRGF0YTogeWllbGQgb3BlbnBncC5lbmNyeXB0TWVzc2FnZShtZXJnZWRQdWJsaWNLZXlzLCBtZXNzYWdlKSxcblx0XHRcdG1lcmdlZFB1YmxpY0tleXM6IG1lcmdlZFB1YmxpY0tleXNcblx0XHR9O1xuXHR9KTtcblxuXHR0aGlzLmdldEF2YWlsYWJsZVNvdXJjZUVtYWlscyA9ICgpID0+IHV0aWxzLnVuaXFNYXAoa2V5cmluZy5wcml2YXRlS2V5cy5rZXlzLFxuXHRcdGsgPT4gdXRpbHMuZ2V0RW1haWxGcm9tQWRkcmVzc1N0cmluZyhrLnVzZXJzWzBdLnVzZXJJZC51c2VyaWQpKTtcblxuXHR0aGlzLmdldEF2YWlsYWJsZVByaXZhdGVLZXlzID0gKCkgPT4ga2V5cmluZy5wcml2YXRlS2V5cy5rZXlzO1xuXG5cdHRoaXMuZ2V0QXZhaWxhYmxlUHVibGljS2V5c0ZvckVtYWlsID0gKGVtYWlsKSA9PiBrZXlyaW5nLnB1YmxpY0tleXMuZ2V0Rm9yQWRkcmVzcyhlbWFpbCk7XG5cblx0dGhpcy5nZXRBdmFpbGFibGVQcml2YXRlS2V5c0ZvckVtYWlsID0gKGVtYWlsKSA9PiBrZXlyaW5nLnByaXZhdGVLZXlzLmdldEZvckFkZHJlc3MoZW1haWwpO1xuXG5cdHRoaXMuZ2V0UHVibGljS2V5QnlGaW5nZXJwcmludCA9IChmaW5nZXJwcmludCkgPT4ga2V5cmluZy5wdWJsaWNLZXlzLmZpbmRCeUZpbmdlcnByaW50KGZpbmdlcnByaW50KTtcblxuXHR0aGlzLmdldFByaXZhdGVLZXlCeUZpbmdlcnByaW50ID0gKGZpbmdlcnByaW50KSA9PiBrZXlyaW5nLnByaXZhdGVLZXlzLmZpbmRCeUZpbmdlcnByaW50KGZpbmdlcnByaW50KTtcblxuXHR0aGlzLnJlYWRLZXkgPSAoa2V5KSA9PiB7XG5cdFx0cmV0dXJuIG9wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKGtleSkua2V5c1swXTtcblx0fTtcblxuXHR0aGlzLmltcG9ydFB1YmxpY0tleSA9IChwdWJsaWNLZXkpID0+IHtcblx0XHRjb25zb2xlLmxvZygnaW1wb3J0aW5nIHB1YmxpYyBrZXknLCBwdWJsaWNLZXkpO1xuXG5cdFx0aWYgKCFwdWJsaWNLZXkpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRrZXlyaW5nLnB1YmxpY0tleXMuaW1wb3J0S2V5KHB1YmxpY0tleS5hcm1vciA/IHB1YmxpY0tleS5hcm1vcigpIDogcHVibGljS2V5KTtcblx0XHRrZXlyaW5nLnN0b3JlKCk7XG5cdH07XG5cblx0dGhpcy5pbXBvcnRQcml2YXRlS2V5ID0gKHByaXZhdGVLZXlTdWJzdCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCdpbXBvcnRpbmcgcHJpdmF0ZSBrZXknLCBwcml2YXRlS2V5U3Vic3QpO1xuXG5cdFx0aWYgKCFwcml2YXRlS2V5U3Vic3QpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRsZXQgW3ByaXZhdGVLZXlzLCBwcml2YXRlS2V5QXJtb3JlZF0gPSBwcml2YXRlS2V5U3Vic3QuYXJtb3Jcblx0XHRcdD8gW1twcml2YXRlS2V5U3Vic3RdLCBwcml2YXRlS2V5U3Vic3QuYXJtb3IoKV1cblx0XHRcdDogW29wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKHByaXZhdGVLZXlTdWJzdCkua2V5cywgcHJpdmF0ZUtleVN1YnN0XTtcblxuXHRcdGZvcihsZXQgcHJpdmF0ZUtleSBvZiBwcml2YXRlS2V5cykge1xuXHRcdFx0Y29uc3QgaSA9IGtleXJpbmcucHJpdmF0ZUtleXMuZmluZEluZGV4QnlGaW5nZXJwcmludChwcml2YXRlS2V5LnByaW1hcnlLZXkuZmluZ2VycHJpbnQpO1xuXHRcdFx0aWYgKGkgPiAtMSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygncmVtb3ZlIGV4aXN0aW5nIHByaXZhdGUga2V5IHdpdGggZmluZ2VycHJpbnQnLCBwcml2YXRlS2V5LnByaW1hcnlLZXkuZmluZ2VycHJpbnQsICdpbmRleCcsIGkpO1xuXHRcdFx0XHRrZXlyaW5nLnByaXZhdGVLZXlzLmtleXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGtleXJpbmcucHJpdmF0ZUtleXMuaW1wb3J0S2V5KHByaXZhdGVLZXlBcm1vcmVkKTtcblx0XHRrZXlyaW5nLnN0b3JlKCk7XG5cdH07XG5cblx0dGhpcy5jbGVhclBlcm1hbmVudFByaXZhdGVLZXlzRm9yRW1haWwgPSAoZW1haWwpID0+IHtcblx0XHRyZXR1cm4gc3RvcmFnZS5jbGVhclBlcm1hbmVudFByaXZhdGVLZXlzRm9yRW1haWwoZW1haWwpO1xuXHR9O1xuXG5cdHRoaXMucmVzdG9yZVByaXZhdGVLZXlzID0gKHByaXZhdGVLZXlzLCBwcml2YXRlU2VjdXJlZEtleXMpID0+IHtcblx0XHRzdG9yYWdlLnN0b3JlUHJpdmF0ZShwcml2YXRlS2V5cyk7XG5cdFx0c3RvcmFnZS5zdG9yZVByaXZhdGUocHJpdmF0ZVNlY3VyZWRLZXlzKTtcblx0fTtcblxuXHR0aGlzLnN0b3JlS2V5cmluZyA9ICgpID0+IHtcblx0XHRrZXlyaW5nLnN0b3JlKCk7XG5cdH07XG5cblx0dGhpcy5pbml0aWFsaXplID0gKG9wdCA9IHt9KSA9PiB7XG5cdFx0Y29uc3Qgc3RvcmVkT3B0aW9ucyA9IHV0aWxzLmRlZigoKSA9PiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVsnbGF2YS1jcnlwdG8tb3B0aW9ucyddKSwge30pO1xuXHRcdHNlbGYub3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgc3RvcmVkT3B0aW9ucywgb3B0KTtcblx0XHRjb25zb2xlLmxvZygnaW5pdGlhbGl6ZSBjcnlwdG8gd2l0aCAnLCBzZWxmLm9wdGlvbnMsICdwcm92aWRlZCcsIG9wdCk7XG5cdFx0bG9jYWxTdG9yYWdlWydsYXZhLWNyeXB0by1vcHRpb25zJ10gPSBKU09OLnN0cmluZ2lmeShzZWxmLm9wdGlvbnMpO1xuXG5cdFx0aWYgKCFpc0luaXRpYWxpemVkKSB7XG5cdFx0XHRjb25zdCB0aHJlYWRzQ291bnQgPSBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSA/IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5IDogY29uc3RzLkNSWVBUT19ERUZBVUxUX1RIUkVBRF9QT09MX1NJWkU7XG5cblx0XHRcdGNvbnNvbGUubG9nKCdJbml0aWFsaXplIG9wZW5wZ3AgaW4gbXVsdGktdGhyZWFkaW5nIG1vZGUsIHdvcmtlcnMgY291bnQ6ICcsIHRocmVhZHNDb3VudCk7XG5cdFx0XHRvcGVucGdwLmluaXRXb3JrZXIoJy92ZW5kb3Ivb3BlbnBncC53b3JrZXIuanMnLCB7dGhyZWFkc0NvdW50OiB0aHJlYWRzQ291bnR9KTtcblx0XHRcdGlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdFtrZXlyaW5nLCBzdG9yYWdlXSA9IHNlbGYuY3JlYXRlS2V5cmluZyh0cnVlKTtcblx0XHRpZiAoIXByb2Nlc3MuZW52LklTX1BST0RVQ1RJT04pXG5cdFx0XHR3aW5kb3cua2V5cmluZyA9IGtleXJpbmc7XG5cblx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2tleXJpbmctdXBkYXRlZCcpO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlS2V5cmluZyA9IChpc0xvYWREZWNyeXB0ZWQgPSBmYWxzZSkgPT4ge1xuXHRcdGNvbnN0IHN0b3JhZ2UgPSBuZXcgQ3J5cHRvS2V5c1N0b3JhZ2UoXG5cdFx0XHRzZWxmLm9wdGlvbnMuaXNQcml2YXRlQ29tcHV0ZXIsXG5cdFx0XHRzZWxmLm9wdGlvbnMuaXNTaG9ydE1lbW9yeSxcblx0XHRcdHNlbGYub3B0aW9ucy5lbWFpbCA/IFtzZWxmLm9wdGlvbnMuZW1haWxdIDogW10sXG5cdFx0XHRpc0xvYWREZWNyeXB0ZWRcblx0XHQpO1xuXG5cdFx0cmV0dXJuIFt3cmFwT3BlbnBncEtleXJpbmcobmV3IG9wZW5wZ3AuS2V5cmluZyhzdG9yYWdlKSksIHN0b3JhZ2VdO1xuXHR9O1xuXG5cdHRoaXMuZ2VuZXJhdGVLZXlzID0gKG5hbWVFbWFpbCwgcGFzc3dvcmQsIG51bUJpdHMpID0+IHtcblx0XHRpZiAoIW51bUJpdHMpXG5cdFx0XHRudW1CaXRzID0gY29uc3RzLkRFRkFVTFRfS0VZX0xFTkdUSDtcblxuXHRcdHJldHVybiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0XHRjb25zdCBmcmVzaEtleXMgPSB5aWVsZCBvcGVucGdwLmdlbmVyYXRlS2V5UGFpcih7bnVtQml0czogbnVtQml0cywgdXNlcklkOiBuYW1lRW1haWwsIHBhc3NwaHJhc2U6IHBhc3N3b3JkfSk7XG5cblx0XHRcdGNvbnN0IHB1YmxpY0tleSA9IG9wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKGZyZXNoS2V5cy5wdWJsaWNLZXlBcm1vcmVkKS5rZXlzWzBdO1xuXHRcdFx0Y29uc3QgcHJpdmF0ZUtleSA9IG9wZW5wZ3Aua2V5LnJlYWRBcm1vcmVkKGZyZXNoS2V5cy5wcml2YXRlS2V5QXJtb3JlZCkua2V5c1swXTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cHViOiBwdWJsaWNLZXksXG5cdFx0XHRcdHBydjogcHJpdmF0ZUtleVxuXHRcdFx0fTtcblx0XHR9KTtcblx0fTtcblxuXHR0aGlzLmNoYW5nZVBhc3N3b3JkID0gKGVtYWlsLCBvbGRQYXNzd29yZCwgbmV3UGFzc3dvcmQpID0+IHtcblx0XHRjb25zdCBwcml2YXRlS2V5cyA9IGtleXJpbmcucHJpdmF0ZUtleXMuZ2V0Rm9yQWRkcmVzcyhlbWFpbCk7XG5cdFx0cHJpdmF0ZUtleXMuZm9yRWFjaChwcml2YXRlS2V5ID0+IHtcblx0XHRcdGlmIChhdXRoZW50aWNhdGUocHJpdmF0ZUtleSwgb2xkUGFzc3dvcmQpKSB7XG5cdFx0XHRcdGNvbnN0IHVwZGF0ZWRQcml2YXRlS2V5ID0gY2hhbmdlUGFzc3dvcmRGb3JQcml2YXRlS2V5KHByaXZhdGVLZXksIG5ld1Bhc3N3b3JkKTtcblx0XHRcdFx0aWYgKHVwZGF0ZWRQcml2YXRlS2V5KSB7XG5cdFx0XHRcdFx0c2VsZi5pbXBvcnRQcml2YXRlS2V5KHVwZGF0ZWRQcml2YXRlS2V5KTtcblxuXHRcdFx0XHRcdGF1dGhlbnRpY2F0ZSh1cGRhdGVkUHJpdmF0ZUtleSwgbmV3UGFzc3dvcmQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG5cblx0dGhpcy5hdXRoZW50aWNhdGVCeUVtYWlsID0gKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuXHRcdGNvbnN0IGRlY3J5cHRlZEZpbmdlcnByaW50cyA9IFtdO1xuXHRcdGNvbnN0IGZhaWxlZEZpbmdlcnByaW50cyA9IFtdO1xuXG5cdFx0a2V5cmluZy5wcml2YXRlS2V5cy5nZXRGb3JBZGRyZXNzKGVtYWlsKS5mb3JFYWNoKHByaXZhdGVLZXkgPT4ge1xuXHRcdFx0aWYgKGF1dGhlbnRpY2F0ZShwcml2YXRlS2V5LCBwYXNzd29yZCwgdHJ1ZSkpIHtcblx0XHRcdFx0ZGVjcnlwdGVkRmluZ2VycHJpbnRzLnB1c2gocHJpdmF0ZUtleS5wcmltYXJ5S2V5LmZpbmdlcnByaW50KTtcblx0XHRcdH0gZWxzZVxuXHRcdFx0XHRmYWlsZWRGaW5nZXJwcmludHMucHVzaChwcml2YXRlS2V5LnByaW1hcnlLZXkuZmluZ2VycHJpbnQpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKGRlY3J5cHRlZEZpbmdlcnByaW50cy5sZW5ndGggPiAwKVxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdrZXlyaW5nLXVwZGF0ZWQnKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRkZWNyeXB0ZWRGaW5nZXJwcmludHM6IGRlY3J5cHRlZEZpbmdlcnByaW50cyxcblx0XHRcdGZhaWxlZEZpbmdlcnByaW50czogZmFpbGVkRmluZ2VycHJpbnRzXG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmF1dGhlbnRpY2F0ZSA9IChwcml2YXRlS2V5LCBwYXNzd29yZCkgPT4ge1xuXHRcdGlmICghYXV0aGVudGljYXRlKHByaXZhdGVLZXksIHBhc3N3b3JkLCB0cnVlKSlcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgna2V5cmluZy11cGRhdGVkJyk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHR0aGlzLmhhc2ggPSAoZGF0YSkgPT4gb3BlbnBncC51dGlsLmhleHN0cmR1bXAob3BlbnBncC5jcnlwdG8uaGFzaC5zaGEyNTYoZGF0YSkpO1xuXG5cdHRoaXMuZW5jb2RlRW52ZWxvcGVXaXRoS2V5cyA9IChkYXRhLCBwdWJsaWNLZXlzLCBkYXRhRmllbGROYW1lID0gJ2RhdGEnLCBwcmVmaXhOYW1lID0gJycpID0+IGNvKGZ1bmN0aW9uICooKXtcblx0XHRpZiAoIWRhdGEuZW5jb2RpbmcpXG5cdFx0XHRkYXRhLmVuY29kaW5nID0gJ3Jhdyc7XG5cdFx0aWYgKCFkYXRhLm1ham9yVmVyc2lvbilcblx0XHRcdGRhdGEubWFqb3JWZXJzaW9uID0gY29uc3RzLkVOVkVMT1BFX0RFRkFVTFRfTUFKT1JfVkVSU0lPTjtcblx0XHRpZiAoIWRhdGEubWlub3JWZXJzaW9uKVxuXHRcdFx0ZGF0YS5taW5vclZlcnNpb24gPSBjb25zdHMuRU5WRUxPUEVfREVGQVVMVF9NSU5PUl9WRVJTSU9OO1xuXG5cdFx0aWYgKHByZWZpeE5hbWUpXG5cdFx0XHRwcmVmaXhOYW1lID0gYCR7cHJlZml4TmFtZX1fYDtcblxuXHRcdGNvbnN0IGRhdGFPYmogPSBkYXRhLmVuY29kaW5nID09ICdqc29uJyA/IEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSkgOiBkYXRhLmRhdGE7XG5cblx0XHRjb25zdCB7cGdwRGF0YSwgbWVyZ2VkUHVibGljS2V5c30gPSBwdWJsaWNLZXlzICYmIHB1YmxpY0tleXMubGVuZ3RoID4gMFxuXHRcdFx0PyB5aWVsZCBzZWxmLmVuY29kZVdpdGhLZXlzKGRhdGFPYmosIHB1YmxpY0tleXMpXG5cdFx0XHQ6IHtwZ3BEYXRhOiBkYXRhT2JqLCBtZXJnZWRQdWJsaWNLZXlzOiBbXX07XG5cblx0XHRjb25zdCBlbnZlbG9wZSA9IHtcblx0XHRcdHBncF9maW5nZXJwcmludHM6IG1lcmdlZFB1YmxpY0tleXMubWFwKGsgPT4gay5wcmltYXJ5S2V5LmZpbmdlcnByaW50KSxcblx0XHRcdGVuY29kaW5nOiBkYXRhLmVuY29kaW5nXG5cdFx0fTtcblxuXHRcdGVudmVsb3BlW2RhdGFGaWVsZE5hbWVdID0gcGdwRGF0YTtcblxuXHRcdGVudmVsb3BlW2Ake3ByZWZpeE5hbWV9dmVyc2lvbl9tYWpvcmBdID0gZGF0YS5tYWpvclZlcnNpb247XG5cdFx0ZW52ZWxvcGVbYCR7cHJlZml4TmFtZX12ZXJzaW9uX21pbm9yYF0gPSBkYXRhLm1pbm9yVmVyc2lvbjtcblxuXHRcdHJldHVybiBlbnZlbG9wZTtcblx0fSk7XG5cblx0dGhpcy5kZWNvZGVFbnZlbG9wZSA9IChlbnZlbG9wZSwgcHJlZml4TmFtZSA9ICcnLCBlbmNvZGluZyA9ICcnKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0aWYgKHByZWZpeE5hbWUpXG5cdFx0XHRwcmVmaXhOYW1lID0gYCR7cHJlZml4TmFtZX1fYDtcblx0XHRpZiAoZW5jb2RpbmcpXG5cdFx0XHRlbnZlbG9wZS5lbmNvZGluZyA9IGVuY29kaW5nO1xuXG5cdFx0bGV0IHBncERhdGEgPSBlbnZlbG9wZS5kYXRhO1xuXHRcdGxldCBtZXNzYWdlID0gbnVsbDtcblx0XHRsZXQgc3RhdGUgPSAnb2snO1xuXG5cdFx0dHJ5IHtcblx0XHRcdG1lc3NhZ2UgPSB5aWVsZCBzZWxmLmRlY29kZVJhdyhwZ3BEYXRhKTtcblxuXHRcdFx0aWYgKGVudmVsb3BlLmVuY29kaW5nID09ICdqc29uJylcblx0XHRcdFx0bWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdG1lc3NhZ2UgPSAnJztcblx0XHRcdHN0YXRlID0gZXJyb3IubWVzc2FnZTtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ2RlY29kZUVudmVsb3BlJywgZXJyb3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRkYXRhOiBtZXNzYWdlLFxuXHRcdFx0c3RhdGU6IHN0YXRlLFxuXHRcdFx0bWFqb3JWZXJzaW9uOiBlbnZlbG9wZVtgJHtwcmVmaXhOYW1lfXZlcnNpb25fbWFqb3JgXSxcblx0XHRcdG1pbm9yVmVyc2lvbjogZW52ZWxvcGVbYCR7cHJlZml4TmFtZX12ZXJzaW9uX21pbm9yYF1cblx0XHR9O1xuXHR9KTtcblxuXHR0aGlzLnJlbW92ZUFsbEtleXMgPSAoKSA9PiB7XG5cdFx0c3RvcmFnZS5jbGVhckFsbEtleXMoKTtcblx0fTtcblxuXHR0aGlzLnJlbW92ZVNlbnNpdGl2ZUtleXMgPSAoaXNUcmlnZ2VyVXBkYXRlRXZlbnQgPSBmYWxzZSkgPT4ge1xuXHRcdHN0b3JhZ2UuY2xlYXJEZWNyeXB0ZWRQcml2YXRlS2V5cygpO1xuXG5cdFx0aWYgKGlzVHJpZ2dlclVwZGF0ZUV2ZW50KVxuXHRcdFx0c2VsZi5pbml0aWFsaXplKCk7XG5cdH07XG59OyJdfQ==","deps":{"_process":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js"}},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co/index.js":{"source":"\r\n/**\r\n * slice() reference.\r\n */\r\n\r\nvar slice = Array.prototype.slice;\r\n\r\n/**\r\n * Expose `co`.\r\n */\r\n\r\nmodule.exports = co['default'] = co.co = co;\r\n\r\n/**\r\n * Wrap the given generator `fn` into a\r\n * function that returns a promise.\r\n * This is a separate function so that\r\n * every `co()` call doesn't create a new,\r\n * unnecessary closure.\r\n *\r\n * @param {GeneratorFunction} fn\r\n * @return {Function}\r\n * @api public\r\n */\r\n\r\nco.wrap = function (fn) {\r\n  createPromise.__generatorFunction__ = fn;\r\n  return createPromise;\r\n  function createPromise() {\r\n    return co.call(this, fn.apply(this, arguments));\r\n  }\r\n};\r\n\r\n/**\r\n * Execute the generator function or a generator\r\n * and return a promise.\r\n *\r\n * @param {Function} fn\r\n * @return {Promise}\r\n * @api public\r\n */\r\n\r\nfunction co(gen) {\r\n  var ctx = this;\r\n\r\n  // we wrap everything in a promise to avoid promise chaining,\r\n  // which leads to memory leak errors.\r\n  // see https://github.com/tj/co/issues/180\r\n  return new Promise(function(resolve, reject) {\r\n    if (typeof gen === 'function') gen = gen.call(ctx);\r\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\r\n\r\n    onFulfilled();\r\n\r\n    /**\r\n     * @param {Mixed} res\r\n     * @return {Promise}\r\n     * @api private\r\n     */\r\n\r\n    function onFulfilled(res) {\r\n      var ret;\r\n      try {\r\n        ret = gen.next(res);\r\n      } catch (e) {\r\n        return reject(e);\r\n      }\r\n      next(ret);\r\n    }\r\n\r\n    /**\r\n     * @param {Error} err\r\n     * @return {Promise}\r\n     * @api private\r\n     */\r\n\r\n    function onRejected(err) {\r\n      var ret;\r\n      try {\r\n        ret = gen.throw(err);\r\n      } catch (e) {\r\n        return reject(e);\r\n      }\r\n      next(ret);\r\n    }\r\n\r\n    /**\r\n     * Get the next value in the generator,\r\n     * return a promise.\r\n     *\r\n     * @param {Object} ret\r\n     * @return {Promise}\r\n     * @api private\r\n     */\r\n\r\n    function next(ret) {\r\n      if (ret.done) return resolve(ret.value);\r\n      var value = toPromise.call(ctx, ret.value);\r\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\r\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\r\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Convert a `yield`ed value into a promise.\r\n *\r\n * @param {Mixed} obj\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction toPromise(obj) {\r\n  if (!obj) return obj;\r\n  if (isPromise(obj)) return obj;\r\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\r\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\r\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\r\n  if (isObject(obj)) return objectToPromise.call(this, obj);\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Convert a thunk to a promise.\r\n *\r\n * @param {Function}\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction thunkToPromise(fn) {\r\n  var ctx = this;\r\n  return new Promise(function (resolve, reject) {\r\n    fn.call(ctx, function (err, res) {\r\n      if (err) return reject(err);\r\n      if (arguments.length > 2) res = slice.call(arguments, 1);\r\n      resolve(res);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Convert an array of \"yieldables\" to a promise.\r\n * Uses `Promise.all()` internally.\r\n *\r\n * @param {Array} obj\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction arrayToPromise(obj) {\r\n  return Promise.all(obj.map(toPromise, this));\r\n}\r\n\r\n/**\r\n * Convert an object of \"yieldables\" to a promise.\r\n * Uses `Promise.all()` internally.\r\n *\r\n * @param {Object} obj\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction objectToPromise(obj){\r\n  var results = new obj.constructor();\r\n  var keys = Object.keys(obj);\r\n  var promises = [];\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var key = keys[i];\r\n    var promise = toPromise.call(this, obj[key]);\r\n    if (promise && isPromise(promise)) defer(promise, key);\r\n    else results[key] = obj[key];\r\n  }\r\n  return Promise.all(promises).then(function () {\r\n    return results;\r\n  });\r\n\r\n  function defer(promise, key) {\r\n    // predefine the key in the result\r\n    results[key] = undefined;\r\n    promises.push(promise.then(function (res) {\r\n      results[key] = res;\r\n    }));\r\n  }\r\n}\r\n\r\n/**\r\n * Check if `obj` is a promise.\r\n *\r\n * @param {Object} obj\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isPromise(obj) {\r\n  return 'function' == typeof obj.then;\r\n}\r\n\r\n/**\r\n * Check if `obj` is a generator.\r\n *\r\n * @param {Mixed} obj\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isGenerator(obj) {\r\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\r\n}\r\n\r\n/**\r\n * Check if `obj` is a generator function.\r\n *\r\n * @param {Mixed} obj\r\n * @return {Boolean}\r\n * @api private\r\n */\r\nfunction isGeneratorFunction(obj) {\r\n  var constructor = obj.constructor;\r\n  if (!constructor) return false;\r\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\r\n  return isGenerator(constructor.prototype);\r\n}\r\n\r\n/**\r\n * Check for plain object.\r\n *\r\n * @param {Mixed} val\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isObject(val) {\r\n  return Object == val.constructor;\r\n}\r\n","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co-sleep/index.js":{"source":"module.exports = sleep;\nfunction sleep(ms) {\n  return function (cb) {\n    setTimeout(cb, ms);\n  };\n}\n\n","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/utils.js":{"source":"'use strict';\n\nvar sleep = require('co-sleep');\n\n\nmodule.exports = /*@ngInject*/function (co, consts) {\n\tvar self = this;\n\n\tvar detectIsMobile = undefined;\n\t/* jshint ignore:start */\n\tdetectIsMobile = function () {\n\t\tvar check = false;\n\t\t(function (a) {\n\t\t\tif (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t\t})(navigator.userAgent || navigator.vendor || window.opera);\n\t\treturn check;\n\t};\n\t/* jshint ignore:end */\n\n\tvar browser = null;\n\n\tthis.hexify = function (binaryString) {\n\t\treturn openpgp.util.hexstrdump(binaryString);\n\t};\n\n\tthis.getBrowser = function () {\n\t\tif (browser) return browser;\n\n\t\tvar ug = navigator.userAgent;\n\n\t\tvar isChrome = ug.indexOf('Chrome') > -1;\n\t\tvar isExplorer = ug.indexOf('MSIE') > -1;\n\t\tvar isFirefox = ug.indexOf('Firefox') > -1;\n\t\tvar isSafari = ug.indexOf('Safari') > -1;\n\t\tvar isOpera = ug.toLowerCase().indexOf('op') > -1;\n\n\t\tvar isMobile = detectIsMobile();\n\n\t\tif (isChrome && isSafari) isSafari = false;\n\t\tif (isChrome && isOpera) isChrome = false;\n\n\t\tbrowser = {\n\t\t\tisChrome: isChrome,\n\t\t\tisExplorer: isExplorer,\n\t\t\tisFirefox: isFirefox,\n\t\t\tisSafari: isSafari,\n\t\t\tisOpera: isOpera,\n\t\t\tisMobile: isMobile\n\t\t};\n\n\t\treturn browser;\n\t};\n\n\tthis.def = function (call, def) {\n\t\ttry {\n\t\t\treturn call();\n\t\t} catch (err) {\n\t\t\treturn def;\n\t\t}\n\t};\n\n\tthis.getDOM = function (html) {\n\t\tvar dom = new DOMParser().parseFromString(html, 'text/html');\n\t\treturn dom.querySelector('body');\n\t};\n\n\tthis.str2Uint8Array = function (str) {\n\t\treturn openpgp.util.str2Uint8Array(str);\n\t};\n\n\tthis.Uint8Array2str = function (array) {\n\t\treturn openpgp.util.Uint8Array2str(array);\n\t};\n\n\tthis.getRandomString = function (size) {\n\t\treturn openpgp.util.hexstrdump(openpgp.crypto.random.getRandomBytes(size));\n\t};\n\n\tthis.uniq = function (array) {\n\t\tvar key = arguments[1] === undefined ? null : arguments[1];\n\n\t\tif (!key) key = function (c) {\n\t\t\treturn c;\n\t\t};\n\n\t\treturn [].concat(babelHelpers.toConsumableArray(array.reduce(function (map, c) {\n\t\t\tmap.set(key(c), c);\n\t\t\treturn map;\n\t\t}, new Map()).values()));\n\t};\n\n\tthis.uniqMap = function (array, map) {\n\t\treturn self.uniq(array.map(map));\n\t};\n\n\tthis.toArray = function (obj) {\n\t\treturn Object.keys(obj).reduce(function (a, k) {\n\t\t\ta.push(obj[k]);\n\t\t\treturn a;\n\t\t}, []);\n\t};\n\n\tthis.toMap = function (array, key, map) {\n\t\tif (!key) key = function (e) {\n\t\t\treturn e.id;\n\t\t};\n\t\tif (!map) map = function (e) {\n\t\t\treturn e;\n\t\t};\n\n\t\treturn array.reduce(function (a, t) {\n\t\t\ta[key(t)] = map(t);\n\t\t\treturn a;\n\t\t}, {});\n\t};\n\n\tthis.sleep = function (time) {\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcontext$3$0.next = 2;\n\t\t\t\t\t\treturn sleep(time);\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.wait = function (condition) {\n\t\tvar checkTimeout = arguments[1] === undefined ? 100 : arguments[1];\n\t\treturn co(regeneratorRuntime.mark(function callee$2$0() {\n\t\t\treturn regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {\n\t\t\t\twhile (1) switch (context$3$0.prev = context$3$0.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tif (condition()) {\n\t\t\t\t\t\t\tcontext$3$0.next = 5;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontext$3$0.next = 3;\n\t\t\t\t\t\treturn self.sleep(checkTimeout);\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tcontext$3$0.next = 0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 5:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn context$3$0.stop();\n\t\t\t\t}\n\t\t\t}, callee$2$0, this);\n\t\t}));\n\t};\n\n\tthis.getEmailFromAddressString = function (address) {\n\t\treturn address.match(/<([^>]+)>/)[1];\n\t};\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2xDLElBQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFekIsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLFVBQVMsRUFBRSxFQUFFLE1BQU0sRUFBRTtBQUNsRCxLQUFNLElBQUksR0FBRyxJQUFJLENBQUM7O0FBRWxCLEtBQUksY0FBYyxZQUFBLENBQUM7O0FBRW5CLGVBQWMsR0FBRyxZQUFZO0FBQzVCLE1BQUssS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQixHQUFDLFVBQVMsQ0FBQyxFQUFDO0FBQUMsT0FBRywwVEFBMFQsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUUseWtEQUF5a0QsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxLQUFLLEdBQUcsSUFBSSxDQUFBO0dBQUMsQ0FBQSxDQUFFLFNBQVMsQ0FBQyxTQUFTLElBQUUsU0FBUyxDQUFDLE1BQU0sSUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdC9ELFNBQU8sS0FBSyxDQUFDO0VBQ2IsQ0FBQzs7O0FBR0YsS0FBSSxPQUFPLEdBQUcsSUFBSSxDQUFDOztBQUVuQixLQUFJLENBQUMsTUFBTSxHQUFHLFVBQUMsWUFBWTtTQUFLLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQztFQUFBLENBQUM7O0FBRXRFLEtBQUksQ0FBQyxVQUFVLEdBQUcsWUFBTTtBQUN2QixNQUFJLE9BQU8sRUFDVixPQUFPLE9BQU8sQ0FBQzs7QUFFaEIsTUFBSSxFQUFFLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQzs7QUFF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LFVBQUMsT0FBTztTQUFLLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQUEsQ0FBQztDQUM1RSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL3NlcnZpY2VzL3V0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2xlZXAgPSByZXF1aXJlKCdjby1zbGVlcCcpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki9mdW5jdGlvbihjbywgY29uc3RzKSB7XG5cdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdGxldCBkZXRlY3RJc01vYmlsZTtcblx0LyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuXHRkZXRlY3RJc01vYmlsZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRsZXQgIGNoZWNrID0gZmFsc2U7XG5cdFx0KGZ1bmN0aW9uKGEpe2lmKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaS50ZXN0KGEpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsNCkpKWNoZWNrID0gdHJ1ZX0pKG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYSk7XG5cdFx0cmV0dXJuIGNoZWNrO1xuXHR9O1xuXHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5cdGxldCBicm93c2VyID0gbnVsbDtcblxuXHR0aGlzLmhleGlmeSA9IChiaW5hcnlTdHJpbmcpID0+IG9wZW5wZ3AudXRpbC5oZXhzdHJkdW1wKGJpbmFyeVN0cmluZyk7XG5cblx0dGhpcy5nZXRCcm93c2VyID0gKCkgPT4ge1xuXHRcdGlmIChicm93c2VyKVxuXHRcdFx0cmV0dXJuIGJyb3dzZXI7XG5cblx0XHRsZXQgdWcgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXHRcdFxuXHRcdGxldCBpc0Nocm9tZSA9IHVnLmluZGV4T2YoJ0Nocm9tZScpID4gLTE7XG5cdFx0bGV0IGlzRXhwbG9yZXIgPSB1Zy5pbmRleE9mKCdNU0lFJykgPiAtMTtcblx0XHRsZXQgaXNGaXJlZm94ID0gdWcuaW5kZXhPZignRmlyZWZveCcpID4gLTE7XG5cdFx0bGV0IGlzU2FmYXJpID0gdWcuaW5kZXhPZignU2FmYXJpJykgPiAtMTtcblx0XHRsZXQgaXNPcGVyYSA9IHVnLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignb3AnKSA+IC0xO1xuXG5cdFx0bGV0IGlzTW9iaWxlID0gZGV0ZWN0SXNNb2JpbGUoKTtcblx0XHRcblx0XHRpZiAoaXNDaHJvbWUgJiYgaXNTYWZhcmkpIFxuXHRcdFx0aXNTYWZhcmkgPSBmYWxzZTtcblx0XHRpZiAoaXNDaHJvbWUgJiYgaXNPcGVyYSkgXG5cdFx0XHRpc0Nocm9tZSA9IGZhbHNlO1xuXG5cdFx0YnJvd3NlciA9IHtcblx0XHRcdGlzQ2hyb21lLFxuXHRcdFx0aXNFeHBsb3Jlcixcblx0XHRcdGlzRmlyZWZveCxcblx0XHRcdGlzU2FmYXJpLFxuXHRcdFx0aXNPcGVyYSxcblx0XHRcdGlzTW9iaWxlXG5cdFx0fTtcblxuXHRcdHJldHVybiBicm93c2VyO1xuXHR9O1xuXHRcblx0dGhpcy5kZWYgPSAoY2FsbCwgZGVmKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBjYWxsKCk7XG5cdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdHJldHVybiBkZWY7XG5cdFx0fVxuXHR9O1xuXG5cdHRoaXMuZ2V0RE9NID0gKGh0bWwpID0+IHtcblx0XHRsZXQgZG9tID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7XG5cdFx0cmV0dXJuIGRvbS5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cdH07XG5cblx0dGhpcy5zdHIyVWludDhBcnJheSA9IChzdHIpID0+IG9wZW5wZ3AudXRpbC5zdHIyVWludDhBcnJheShzdHIpO1xuXG5cdHRoaXMuVWludDhBcnJheTJzdHIgPSAoYXJyYXkpID0+IG9wZW5wZ3AudXRpbC5VaW50OEFycmF5MnN0cihhcnJheSk7XG5cblx0dGhpcy5nZXRSYW5kb21TdHJpbmcgPSAoc2l6ZSkgPT4gb3BlbnBncC51dGlsLmhleHN0cmR1bXAob3BlbnBncC5jcnlwdG8ucmFuZG9tLmdldFJhbmRvbUJ5dGVzKHNpemUpKTtcblxuXHR0aGlzLnVuaXEgPSAoYXJyYXksIGtleSA9IG51bGwpID0+IHtcblx0XHRpZiAoIWtleSlcblx0XHRcdGtleSA9IGMgPT4gYztcblxuXHRcdHJldHVybiBbLi4uYXJyYXkucmVkdWNlKChtYXAsIGMpID0+IHtcblx0XHRcdG1hcC5zZXQoa2V5KGMpLCBjKTtcblx0XHRcdHJldHVybiBtYXA7XG5cdFx0fSwgbmV3IE1hcCgpKS52YWx1ZXMoKV07XG5cdH07XG5cblx0dGhpcy51bmlxTWFwID0gKGFycmF5LCBtYXApID0+IHNlbGYudW5pcShhcnJheS5tYXAobWFwKSk7XG5cblx0dGhpcy50b0FycmF5ID0gKG9iaikgPT4ge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYSwgaykgPT4ge1xuXHRcdFx0YS5wdXNoKG9ialtrXSk7XG5cdFx0XHRyZXR1cm4gYTtcblx0XHR9LCBbXSk7XG5cdH07XG5cblx0dGhpcy50b01hcCA9IChhcnJheSwga2V5LCBtYXApID0+IHtcblx0XHRpZiAoIWtleSlcblx0XHRcdGtleSA9IChlKSA9PiBlLmlkO1xuXHRcdGlmICghbWFwKVxuXHRcdFx0bWFwID0gKGUpID0+IGU7XG5cblx0XHRyZXR1cm4gYXJyYXkucmVkdWNlKChhLCB0KSA9PiB7XG5cdFx0XHRhW2tleSh0KV0gPSBtYXAodCk7XG5cdFx0XHRyZXR1cm4gYTtcblx0XHR9LCB7fSk7XG5cdH07XG5cblx0dGhpcy5zbGVlcCA9ICh0aW1lKSA9PiBjbyhmdW5jdGlvbiAqKCl7XG5cdFx0eWllbGQgc2xlZXAodGltZSk7XG5cdH0pO1xuXG5cdHRoaXMud2FpdCA9IChjb25kaXRpb24sIGNoZWNrVGltZW91dCA9IDEwMCkgPT4gY28oZnVuY3Rpb24gKigpe1xuXHRcdHdoaWxlICghY29uZGl0aW9uKCkpIHtcblx0XHRcdHlpZWxkIHNlbGYuc2xlZXAoY2hlY2tUaW1lb3V0KTtcblx0XHR9XG5cdH0pO1xuXG5cdHRoaXMuZ2V0RW1haWxGcm9tQWRkcmVzc1N0cmluZyA9IChhZGRyZXNzKSA9PiBhZGRyZXNzLm1hdGNoKC88KFtePl0rKT4vKVsxXTtcbn07Il19","deps":{"co-sleep":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co-sleep/index.js"}},"./src/js/apps/utils.js":{"source":"'use strict';\n\nwindow.coJS = require('co');\n\n\nvar AngularApplication = require('../helpers/angularApplication');\nvar application = new AngularApplication({\n\tapplicationName: 'utils',\n\tdependencies: ['lavaboom.api', 'ui.router', 'pascalprecht.translate', 'angular-co']\n});\n\napplication.registerBulks(({\"configs\":({\"cfgApi\":require(\"./Utils/configs/cfgApi.js\"),\"translation\":require(\"./Utils/configs/translation.js\")}),\"constants\":({\"consts\":require(\"./Utils/constants/consts.js\")}),\"controllers\":({\"ctrlChecker\":require(\"./Utils/controllers/ctrlChecker.js\")}),\"decorators\":({\"$templateCache\":require(\"./Utils/decorators/$templateCache.js\"),\"$timeout\":require(\"./Utils/decorators/$timeout.js\"),\"$translate\":require(\"./Utils/decorators/$translate.js\"),\"LavaboomAPI\":require(\"./Utils/decorators/LavaboomAPI.js\"),\"crypto\":require(\"./Utils/decorators/crypto.js\")}),\"directives\":({\"a\":require(\"./Utils/directives/a.js\"),\"fileSelect\":require(\"./Utils/directives/fileSelect.js\"),\"focus\":require(\"./Utils/directives/focus.js\"),\"match\":require(\"./Utils/directives/match.js\")}),\"factories\":({\"cache\":require(\"./Utils/factories/cache.js\"),\"cryptoKeysStorage\":require(\"./Utils/factories/cryptoKeysStorage.js\"),\"proxy\":require(\"./Utils/factories/proxy.js\")}),\"runs\":({\"rootScopeHelpers\":require(\"./Utils/runs/rootScopeHelpers.js\")}),\"services\":({\"crypto\":require(\"./Utils/services/crypto.js\"),\"cryptoKeys\":require(\"./Utils/services/cryptoKeys.js\"),\"fileReader\":require(\"./Utils/services/fileReader.js\"),\"loader\":require(\"./Utils/services/loader.js\"),\"notifications\":require(\"./Utils/services/notifications.js\"),\"saver\":require(\"./Utils/services/saver.js\"),\"tests\":require(\"./Utils/services/tests.js\"),\"translate\":require(\"./Utils/services/translate.js\"),\"user\":require(\"./Utils/services/user.js\"),\"utils\":require(\"./Utils/services/utils.js\")})}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUIsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDOztBQUU1QyxJQUFNLGtCQUFrQixHQUFHLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0FBQ3BFLElBQU0sV0FBVyxHQUFHLElBQUksa0JBQWtCLENBQUM7QUFDMUMsZ0JBQWUsRUFBRSxPQUFPO0FBQ3hCLGFBQVksRUFBRSxDQUNiLGNBQWMsRUFDZCxXQUFXLEVBQ1gsd0JBQXdCLEVBQ3hCLFlBQVksQ0FDWjtDQUNELENBQUMsQ0FBQzs7QUFFSCxXQUFXLENBQUMsYUFBYSxDQUN4QixXQUFXLENBQUMsU0FBUyxHQUFHLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FDN0MsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvYXBwcy91dGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5jb0pTID0gcmVxdWlyZSgnY28nKTtcbmNvbnN0IGJ1bGtSZXF1aXJlID0gcmVxdWlyZSgnYnVsay1yZXF1aXJlJyk7XG5cbmNvbnN0IEFuZ3VsYXJBcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYW5ndWxhckFwcGxpY2F0aW9uJyk7XG5jb25zdCBhcHBsaWNhdGlvbiA9IG5ldyBBbmd1bGFyQXBwbGljYXRpb24oe1xuXHRhcHBsaWNhdGlvbk5hbWU6ICd1dGlscycsXG5cdGRlcGVuZGVuY2llczogW1xuXHRcdCdsYXZhYm9vbS5hcGknLFxuXHRcdCd1aS5yb3V0ZXInLFxuXHRcdCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJyxcblx0XHQnYW5ndWxhci1jbydcblx0XVxufSk7XG5cbmFwcGxpY2F0aW9uLnJlZ2lzdGVyQnVsa3MoXG5cdGJ1bGtSZXF1aXJlKF9fZGlybmFtZSArICcvVXRpbHMvJywgJyoqLyouanMnKVxuKTsiXX0=","deps":{"./Utils/configs/cfgApi.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/configs/cfgApi.js","./Utils/constants/consts.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/constants/consts.js","./Utils/controllers/ctrlChecker.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/controllers/ctrlChecker.js","./Utils/decorators/$templateCache.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/$templateCache.js","./Utils/decorators/$timeout.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/$timeout.js","./Utils/decorators/$translate.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/$translate.js","./Utils/decorators/LavaboomAPI.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/LavaboomAPI.js","./Utils/decorators/crypto.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/decorators/crypto.js","./Utils/directives/a.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/a.js","./Utils/directives/fileSelect.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/fileSelect.js","./Utils/directives/focus.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/focus.js","./Utils/directives/match.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/directives/match.js","./Utils/factories/cache.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/factories/cache.js","./Utils/factories/cryptoKeysStorage.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/factories/cryptoKeysStorage.js","./Utils/factories/proxy.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/factories/proxy.js","./Utils/runs/rootScopeHelpers.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/runs/rootScopeHelpers.js","./Utils/services/crypto.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/crypto.js","./Utils/services/cryptoKeys.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/cryptoKeys.js","./Utils/services/fileReader.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/fileReader.js","./Utils/services/loader.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/loader.js","./Utils/services/notifications.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/notifications.js","./Utils/services/saver.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/saver.js","./Utils/services/tests.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/tests.js","./Utils/services/translate.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/translate.js","./Utils/services/user.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/user.js","./Utils/services/utils.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/services/utils.js","../helpers/angularApplication":"/Users/piggyslasher/Sites/lavaboom-web/src/js/helpers/angularApplication.js","./Utils/configs/translation.js":"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/configs/translation.js","co":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co/index.js"}},"/Users/piggyslasher/Sites/lavaboom-web/src/js/apps/Utils/configs/translation.js":{"source":"'use strict';\n\n\n\nmodule.exports = /*@ngInject*/function ($translateProvider, consts) {\n\tvar setDefaultTranslation = function setDefaultTranslation(translation) {\n\t\treturn $translateProvider.translations(consts.DEFAULT_LANG, translation);\n\t};\n\t$translateProvider.useSanitizeValueStrategy('escaped');\n\n\tsetDefaultTranslation(\n\t// browserify brfs: load pre-compiled default language so it will be available without extra request to the server\n\tJSON.parse(consts.stripBOM(\"{\\\"DIALOGS_ERROR\\\":\\\"Error\\\",\\\"DIALOGS_ERROR_MSG\\\":\\\"An unknown error has occurred.\\\",\\\"DIALOGS_CLOSE\\\":\\\"Close\\\",\\\"DIALOGS_PLEASE_WAIT\\\":\\\"Please Wait\\\",\\\"DIALOGS_PLEASE_WAIT_ELIPS\\\":\\\"Please Wait...\\\",\\\"DIALOGS_PLEASE_WAIT_MSG\\\":\\\"Waiting on operation to complete.\\\",\\\"DIALOGS_PERCENT_COMPLETE\\\":\\\"% Complete\\\",\\\"DIALOGS_NOTIFICATION\\\":\\\"Notification\\\",\\\"DIALOGS_NOTIFICATION_MSG\\\":\\\"Unknown application notification.\\\",\\\"DIALOGS_CONFIRMATION\\\":\\\"Confirmation\\\",\\\"DIALOGS_CONFIRMATION_MSG\\\":\\\"Confirmation required.\\\",\\\"DIALOGS_OK\\\":\\\"OK\\\",\\\"DIALOGS_YES\\\":\\\"Yes\\\",\\\"DIALOGS_NO\\\":\\\"No\\\",\\\"LANG\\\":{\\\"CODE\\\":\\\"en\\\",\\\"FULL_CODE\\\":\\\"en_US\\\"},\\\"DATES\\\":{\\\"TIMEAGO\\\":{\\\"PREFIX_AGO\\\":\\\" \\\",\\\"PREFIX_FROM_NOW\\\":\\\" \\\",\\\"SUFFIX_AGO\\\":\\\" \\\",\\\"SUFFIX_FROM_NOW\\\":\\\" \\\",\\\"SECONDS\\\":\\\" \\\",\\\"MINUTE\\\":\\\" \\\",\\\"MINUTES\\\":\\\" \\\",\\\"HOUR\\\":\\\" \\\",\\\"HOURS\\\":\\\" \\\",\\\"DAY\\\":\\\" \\\",\\\"DAYS\\\":\\\" \\\",\\\"MONTH\\\":\\\" \\\",\\\"MONTHS\\\":\\\" \\\",\\\"YEAR\\\":\\\" \\\",\\\"YEARS\\\":\\\" \\\"},\\\"TODAY\\\":\\\"Today\\\",\\\"YESTERDAY\\\":\\\"Yesterday\\\"},\\\"NOTIFICATIONS\\\":{\\\"WEB_CRYPTO_IS_NOT_AVAILABLE_TITLE\\\":\\\"Please update your browser.\\\",\\\"WEB_CRYPTO_IS_NOT_AVAILABLE_TEXT\\\":\\\"Looks like this browser will not run Lavaboom, please log in again with an up-to-date version of Firefox, Safari or Google Chrome.\\\",\\\"WEB_CRYPTO_LIMITED_TITLE\\\":\\\"Please update your browser.\\\",\\\"WEB_CRYPTO_LIMITED_TEXT\\\":\\\"Looks like this browser is too slow for Lavaboom, please upgrade your browser or switch to an up-to-date version of Google Chrome, Firefox or Safari.\\\",\\\"WEB_WORKERS_IS_NOT_AVAILABLE_TITLE\\\":\\\"Please update your browser.\\\",\\\"WEB_WORKERS_IS_NOT_AVAILABLE_TEXT\\\":\\\"Looks like this browser is too slow for Lavaboom, please upgrade your browser or switch to an up-to-date version of Google Chrome, Firefox or Safari\\\",\\\"SERVED_BY_TITLE\\\":\\\"Welcome back\\\",\\\"SERVED_BY_TEXT\\\":\\\"Served by {{servedBy}}\\\",\\\"SERVED_BY_UNKNOWN_TITLE\\\":\\\"Served by Unknown server\\\",\\\"SERVED_BY_UNKNOWN_TEXT\\\":\\\"We do not know which server served you Lavaboom. Please contact hello@lavaboom.com.\\\",\\\"NO_KEY_TITLE\\\":\\\"No private key found\\\",\\\"NO_KEY_TEXT\\\":\\\"You don't have a decrypted private key, please go to settings/security and import or decrypt one\\\",\\\"BAD_BROWSER_TITLE\\\":\\\"Please use a modern browser\\\",\\\"BAD_BROWSER_TEXT\\\":\\\"Your browser might have problems with downloading, please consider using Chrome, Firefox, Opera or I.E >= 10\\\",\\\"MOBILE_BROWSER_TITLE\\\":\\\"Please use desktop PC\\\",\\\"MOBILE_BROWSER_TEXT\\\":\\\"We currently don't support mobile platforms, please use desktop PC\\\",\\\"BACKUP_WARNING_TEXT\\\":\\\"If you see this file just opens in your browser please select save as and save it to a safe location\\\"},\\\"INBOX\\\":{\\\"NO_PREVIEW_AVAILABLE\\\":\\\"No preview available\\\",\\\"LOADING\\\":\\\"Loading...\\\",\\\"DECRYPTING\\\":\\\"Decrypting...\\\",\\\"LB_AND_ONE_OTHER\\\":\\\"and one other\\\",\\\"LB_AND_TWO_OTHERS\\\":\\\"and two others\\\",\\\"LB_AND_OTHERS\\\":\\\"and others\\\",\\\"LB_NOTHING_FOUND\\\":\\\"Nothing found\\\",\\\"LB_NOTHING_SELECTED\\\":\\\"Nothing selected\\\",\\\"LB_NO_PRIVATE_KEY_FOUND1\\\":\\\"No decrypted private key found for this email\\\",\\\"LB_NO_PRIVATE_KEY_FOUND2\\\":\\\"Please go to \\\",\\\"LB_SETTINGS\\\":\\\"settings\\\",\\\"LB_NO_PRIVATE_KEY_FOUND3\\\":\\\" and check your key\\\",\\\"MARK_AS_SPAM\\\":\\\"Mark as spam\\\",\\\"MOVE_TO_TRASH\\\":\\\"Send to trash\\\",\\\"PUT_BACK\\\":\\\"Put back\\\",\\\"NOT_SPAM\\\":\\\"This is not spam\\\",\\\"STAR_THIS_CONVERSATION\\\":\\\"Star this conversation\\\",\\\"LB_SORT_BY_CREATION_DATE_DESC\\\":\\\"Sort by creation date -\\\",\\\"LB_SORT_BY_CREATION_DATE_ASC\\\":\\\"Sort by creation date +\\\",\\\"LB_SORT_BY_MODIFICATION_DATE_DESC\\\":\\\"Sort by modification date -\\\",\\\"LB_SORT_BY_MODIFICATION_DATE_ASC\\\":\\\"Sort by modification date +\\\",\\\"LB_SORTED_BY_CREATION_DATE_DESC\\\":\\\"Sorted by creation date -\\\",\\\"LB_SORTED_BY_CREATION_DATE_ASC\\\":\\\"Sorted by creation date +\\\",\\\"LB_SORTED_BY_MODIFICATION_DATE_DESC\\\":\\\"Sorted by modification date -\\\",\\\"LB_SORTED_BY_MODIFICATION_DATE_ASC\\\":\\\"Sorted by modification date +\\\",\\\"PLC_SEARCH\\\":\\\"Search Emails\\\",\\\"REPLY_HEADER\\\":\\\"On {{date | date}}, {{name}} {{address}} wrote\\\",\\\"LB_NO_IMAGE\\\":\\\"External images blocked\\\",\\\"FORWARD_HEADER\\\":\\\"---------- Forwarded message ----------\\\",\\\"FORWARD_FROM\\\":\\\"From\\\",\\\"FORWARD_DATE\\\":\\\"Date\\\",\\\"FORWARD_TO\\\":\\\"To\\\",\\\"FORWARD_SUBJECT\\\":\\\"Subject\\\",\\\"FORWARD_CC\\\":\\\"Cc\\\",\\\"FORWARD_BCC\\\":\\\"Bcc\\\",\\\"LB_EMAIL_TO_YOURSELF\\\":\\\"to yourself\\\",\\\"TITLE_CONFIRM\\\":\\\"Confirm action\\\",\\\"LB_EMAIL_HAS_EMBEDDED_STYLING\\\":\\\"This email contains embedded styling, do you want to display it?\\\",\\\"TITLE_OPENPGP_BLOCK_DECRYPT_ERROR_NO_KEY_FOUND\\\":\\\"Cannot find proper decrypted private key to decrypt this openpgp envelope\\\",\\\"TITLE_OPENPGP_BLOCK_DECRYPT_ERROR\\\":\\\"Something went wrong during decryption of this openpgp envelope\\\",\\\"CORRUPTED_EMAIL_TITLE\\\":\\\"Aw, Snap!\\\",\\\"CORRUPTED_EMAIL\\\":\\\"Something went wrong while displaying this email. To continue, try to \\\",\\\"CORRUPTED_EMAIL_OPEN\\\":\\\"open the original email\\\",\\\"CORRUPTED_EMAIL_OR\\\":\\\" or \\\",\\\"CORRUPTED_EMAIL_DOWNLOAD\\\":\\\"download it\\\",\\\"DOWNLOAD\\\":{\\\"TITLE\\\":\\\"Downloading your attachment\\\",\\\"LB_ACQUIRING\\\":\\\"Acquiring information...\\\",\\\"LB_DOWNLOADING\\\":\\\"downloading...\\\",\\\"LB_DECRYPTING\\\":\\\"decrypting...\\\",\\\"LB_TAKES_MORE\\\":\\\"action will take some more time...\\\",\\\"LB_COMPLETED\\\":\\\"completed!\\\"}},\\\"GLOBAL\\\":{\\\"USERNAME\\\":\\\"username\\\",\\\"CURRENT_EMAIL\\\":\\\"your current email address\\\",\\\"NEXT_STEP\\\":\\\"Next Step\\\",\\\"PLC_USERNAME_OR_EMAIL\\\":\\\"username or email address\\\",\\\"PLC_PASSWORD\\\":\\\"password\\\",\\\"PLC_FIRST_NAME\\\":\\\"First Name\\\",\\\"PLC_LAST_NAME\\\":\\\"Last Name\\\",\\\"PLC_DISPLAY_NAME\\\":\\\"Display Name\\\",\\\"PLC_COMPANY_NAME\\\":\\\"Company Name\\\",\\\"LB_DISPLAY_NAME\\\":\\\"This is the name under which you will appear when sending emails. You can use your real name or a pseudonym to stay anonymous.\\\",\\\"PLC_CHOOSE_PASSWORD\\\":\\\"Choose password\\\",\\\"PLC_RETYPE_PASSWORD\\\":\\\"Retype password\\\",\\\"LB_PRIVATE_KEY\\\":\\\"Private Key\\\",\\\"LB_PUBLIC_KEY\\\":\\\"Public Key\\\",\\\"LB_NOT_IMPLEMENTED\\\":\\\"Not yet implemented\\\",\\\"BTN_REMOVE_NOTIFICATION\\\":\\\"Ok\\\"},\\\"VALIDATION\\\":{\\\"LB_REQUIRED\\\":\\\"This field is required\\\",\\\"LB_MIN\\\":\\\"Too short\\\",\\\"LB_EMAIL\\\":\\\"Enter a Valid Email\\\",\\\"LB_MATCH\\\":\\\"Both passwords should match\\\",\\\"LB_TOO_MANY_REPEATING_CHARACTERS\\\":\\\"Too many repeating characters\\\",\\\"LB_TOO_SIMPLE\\\":\\\"Your password is too simple\\\",\\\"LB_USERNAME_PATTERN\\\":\\\"Username can contain only a-z, 0-9 characters and optional dots(.) to separate parts\\\"},\\\"LOADER\\\":{\\\"LB_INITIALIZATION_FAILED\\\":\\\"Initialization failed...\\\",\\\"LB_INITIALIZING_I18N\\\":\\\"Loading internationalization support...\\\",\\\"LB_INITIALIZING_OPENPGP\\\":\\\"Initializing openpgp.js...\\\",\\\"LB_AUTHENTICATING\\\":\\\"Authenticating...\\\",\\\"LB_LOADING\\\":\\\"Loading emails & contacts...\\\",\\\"LB_DECRYPTING\\\":\\\"Decrypting your inbox...\\\",\\\"LB_SUCCESS\\\":\\\"Done!\\\",\\\"LB_BYE\\\":\\\"We miss you already!\\\"},\\\"LOGIN\\\":{\\\"SECURE_USERNAME\\\":{\\\"TITLE\\\":\\\"Secure your Lavaboom username\\\",\\\"LNK_INVITE_QUESTION\\\":\\\"Got an invitation?\\\",\\\"BTN_SECURE\\\":\\\"Secure your username\\\"},\\\"SECURED\\\":{\\\"TITLE\\\":\\\"Nice one!\\\",\\\"SUB_TITLE\\\":\\\"Your username has been reserved.\\\",\\\"LB_EMAIL_SENT\\\":\\\"We have just sent an email to\\\",\\\"LB_COMPLETE\\\":\\\"We are currently in a closed beta and rolling out account invitations gradually. The email you will receive will tell you how long the wait time is.\\\",\\\"BTN_COMPLETE\\\":\\\"OK\\\"},\\\"INVITE\\\":{\\\"TITLE\\\":\\\"Have you got an invite already?\\\",\\\"BTN_SEND_ME_INVITE\\\":\\\"No, send me an invite\\\",\\\"BTN_I_HAVE_INVITE_CODE\\\":\\\"Yes, I've got my invite code\\\"},\\\"VERIFY_INVITE\\\":{\\\"TITLE\\\":\\\"Verify invite code\\\",\\\"PLC_INVITE_CODE\\\":\\\"please paste invite code here\\\",\\\"LB_NEWS\\\":\\\"Send me updates to my Lavaboom address.\\\",\\\"LB_TOS\\\":\\\"By signing up I agree that I've read and understood the \\\",\\\"LNK_TOS\\\":\\\"Terms of Service\\\",\\\"AND_THE\\\":\\\" and the \\\",\\\"LINK_PRIVACY\\\":\\\"Privacy Policy\\\"},\\\"PLAN\\\":{\\\"TITLE\\\":\\\"Your Plan\\\",\\\"PLAN1_TITLE\\\":\\\"Beta\\\",\\\"PLAN1_OPT1_VALUE\\\":\\\"1 GB\\\",\\\"PLAN1_OPT2_VALUE\\\":\\\"Two Factor\\\",\\\"PLAN1_OPT3_VALUE\\\":\\\"Secure\\\",\\\"PLAN1_OPT4_VALUE\\\":\\\"Additional\\\",\\\"PLAN1_OPT5_VALUE\\\":\\\"Free\\\",\\\"PLAN1_OPT1_KEY\\\":\\\"Secure Email Storage\\\",\\\"PLAN1_OPT2_KEY\\\":\\\"Authentication\\\",\\\"PLAN1_OPT3_KEY\\\":\\\"Contacts\\\",\\\"PLAN1_OPT4_KEY\\\":\\\"500 MB free forever\\\",\\\"PLAN1_OPT5_KEY\\\":\\\"forever!\\\",\\\"BTN_SELECT\\\":\\\"I'll take this\\\"},\\\"DETAILS\\\":{\\\"TITLE\\\":\\\"Personal details\\\",\\\"SUB_TITLE\\\":\\\"We are legally obliged to ask you for this information. However, we do not use or verify this data.\\\"},\\\"CHOOSE_PASSWORD_INTRO\\\":{\\\"TITLE\\\":\\\"Choose your password\\\",\\\"LB_WARNING_TITLE\\\":\\\"Attention\\\",\\\"LB_WARNING1\\\":\\\"Please note that we do not store your passwords in plain text on our servers. This makes Lavaboom more secure, however if you lose your password we are unable reset it for you.\\\",\\\"LB_WARNING2\\\":\\\"When you have chosen a password make sure to write it down on a piece of paper. Losing your password may prevent access to your account.\\\",\\\"BTN_NEXT\\\":\\\"I understand\\\"},\\\"CHOOSE_PASSWORD\\\":{\\\"TITLE\\\":\\\"Choose your password\\\",\\\"LB_WARNING1\\\":\\\"We recommend a long password, including numbers and special characters. Though it should still be easy for you to remember.\\\",\\\"LB_WARNING2\\\":\\\"Please note that we will not be able to reset your password if you forget it. Only continue once you have memorised your password.\\\",\\\"BTN_NEXT\\\":\\\"I have memorised it\\\",\\\"LB_PRIVATE_PC\\\":\\\"This is private computer\\\"},\\\"GENERATE_KEYS\\\":{\\\"TITLE\\\":\\\"Key generation\\\",\\\"LB_WARNING1\\\":\\\"Lavaboom encrypts your data client-side, on your computer. To do this we need to store an encryption key pair in your browser. \\\",\\\"LB_WARNING2\\\":\\\"This key is used to encrypt data. Share it with your friends so they can send encrypted messages to you.\\\",\\\"LB_WARNING3\\\":\\\"This key is used to decrypt data. Do not share it. Keep it safe and never share it with anyone.\\\",\\\"BTN_NEXT\\\":\\\"Generate my keys\\\"},\\\"GENERATING_KEYS\\\":{\\\"LB_GENERATING\\\":\\\"Generating your keys...\\\",\\\"LB_UPLOADING\\\":\\\"Uploading Public Key...\\\",\\\"LB_READY\\\":\\\"Your keys are ready!\\\",\\\"LB_REACHED\\\":\\\"Our hamsters are running extra hard, just a little longer to wait...\\\",\\\"LB_ERROR\\\":\\\"Cannot generate keys, make sure you are using an up-to-date version of Firefox, Google Chrome or Safari and try again.\\\",\\\"LB_PERFORMANCE_TEST\\\":\\\"Testing performance...\\\",\\\"LB_DO_NOT_CLOSE_REF\\\":\\\"Please do not close this window\\\",\\\"LB_DO_NOT_CLOSE_HAMSTER\\\":\\\"Please be patient, key generation may take few minutes...\\\",\\\"LB_DO_NOT_CLOSE_TURTLE\\\":\\\"Please be patient, key generation may take a while...\\\"},\\\"BACKUP_KEY\\\":{\\\"TITLE\\\":\\\"Back up your key\\\",\\\"INFO1\\\":\\\"We create and store your keychain locally in the cache of the browser you are using right now.\\\",\\\"INFO2\\\":\\\"This means that if you want to access your Lavaboom account in a different browser or on a different machine you'll need to import your keychain at login into the new browser.\\\",\\\"INFO3\\\":\\\"If you clear your cache from Lavaboom your keys will be deleted and you will lose access to your account.\\\",\\\"INFO4\\\":\\\"To prevent this you should back up your keychain to your hard drive to keep it safe.\\\",\\\"INFO5\\\":\\\"You can back up your keychain anytime in your Settings, or enable Lavaboom Sync to allow us to manage your keys for you.\\\",\\\"INFO6\\\":\\\"Lavaboom Sync works basically backing up your keyring on our servers. Lavaboom Sync can work with or without a sync passphrase (similar to how Chrome works).\\\",\\\"BTN_ENABLE_LB_SYNC\\\":\\\"Enable Lavaboom Sync\\\",\\\"BTN_BACKUP_NOW\\\":\\\"Back up my key now\\\",\\\"LB_PRIVATE_PC\\\":\\\"This is private computer\\\"},\\\"IMPORT_KEY\\\":{\\\"TITLE\\\":\\\"Please Import Key to browser\\\",\\\"LB_INFO1\\\":\\\"We couldn't find your private key in the browser cache.\\\",\\\"LB_INFO2\\\":\\\"This happens when you are using Lavaboom for the first time with this browser or if your browser cache has been cleared.\\\",\\\"LB_INFO3\\\":\\\"Import the key you saved to your hard drive when you signed up with us and you're good to go.\\\",\\\"BTN_UPLOAD_KEY\\\":\\\"Import your key\\\"},\\\"SIGNUP\\\":{\\\"HEADER\\\":\\\"Welcome to Lavaboom\\\",\\\"LOGIN\\\":\\\"Log In\\\",\\\"SIGNUP\\\":\\\"Sign Up\\\"},\\\"AUTH\\\":{\\\"BTN_GO_TO_MY_INBOX\\\":\\\"Go to my Inbox\\\",\\\"BTN_NO_ACCOUNT_YET\\\":\\\"No Account Yet? Sign up Here!\\\",\\\"LB_KEEP_ME_LOGGED_IN\\\":\\\"Keep me logged in\\\",\\\"LB_PRIVATE_PC\\\":\\\"This is a private pc\\\"}},\\\"LAVABOOM\\\":{\\\"API\\\":{\\\"ERROR\\\":{\\\"403\\\":\\\"Wrong username or password.\\\",\\\"UNKNOWN\\\":\\\"Unknown error, sorry about that.\\\",\\\"DOWN\\\":\\\"We are experiencing a server issue, please try again later.\\\",\\\"ACCOUNTS\\\":{\\\"UPDATE\\\":{\\\"403\\\":\\\"Incorrect old password specified\\\"}}}}},\\\"MAIN\\\":{\\\"NAV\\\":{\\\"LB_COMPOSE\\\":\\\"Compose\\\",\\\"LB_CONTACTS\\\":\\\"Contacts\\\",\\\"LB_SETTINGS\\\":\\\"Settings\\\",\\\"LB_LOGOUT\\\":\\\"Logout\\\",\\\"LB_COPYRIGHT\\\":\\\" Lavaboom 2015\\\"},\\\"COMPOSE\\\":{\\\"LB_TO\\\":\\\"To\\\",\\\"LB_CC\\\":\\\"CC\\\",\\\"LB_BCC\\\":\\\"BCC\\\",\\\"LB_FROM\\\":\\\"From\\\",\\\"TITLE_PERSON\\\":\\\"Choose a person\\\",\\\"PLC_SELECT_PERSON\\\":\\\"Select person...\\\",\\\"LB_EMAIL\\\":\\\"email\\\",\\\"LB_SUBJECT\\\":\\\"Subject\\\",\\\"LB_PRIVATE\\\":\\\"private\\\",\\\"LB_BUSINESS\\\":\\\"business\\\",\\\"LB_HIDDEN\\\":\\\"hidden\\\",\\\"LB_NEW\\\":\\\"new\\\",\\\"LB_WARNING\\\":\\\"Some of your recipients will not be able to receive encrypted emails.\\\",\\\"LB_WARNING_2\\\":\\\"Do you want to continue?\\\",\\\"BTN_CONFIRM\\\":\\\"Send\\\",\\\"BTN_REJECT\\\":\\\"Go back\\\",\\\"LB_ERROR\\\":\\\"Error occurred\\\",\\\"LB_ERROR_NOT_FOUND\\\":\\\"not found\\\",\\\"LB_ERROR_UNKNOWN\\\":\\\"unknown\\\",\\\"LB_ASK_ME_AGAIN\\\":\\\"Don't ask me again\\\",\\\"LB_ATTACHMENT_STATUS_READING\\\":\\\"reading\\\",\\\"LB_ATTACHMENT_STATUS_READING_ERROR\\\":\\\"cannot read\\\",\\\"LB_ATTACHMENT_STATUS_DELETING_ERROR\\\":\\\"cannot delete\\\",\\\"LB_ATTACHMENT_STATUS_ENCRYPTING\\\":\\\"encrypting\\\",\\\"LB_ATTACHMENT_STATUS_ENCRYPTING_ERROR\\\":\\\"cannot encrypt\\\",\\\"LB_ATTACHMENT_STATUS_FORMATTING\\\":\\\"formatting\\\",\\\"LB_ATTACHMENT_STATUS_FORMATTING_ERROR\\\":\\\"cannot format\\\",\\\"LB_ATTACHMENT_STATUS_UPLOADING\\\":\\\"uploading\\\",\\\"LB_ATTACHMENT_STATUS_UPLOADING_ERROR\\\":\\\"cannot upload\\\",\\\"LB_ATTACHMENT_STATUS_UPLOADED\\\":\\\"uploaded\\\",\\\"BTN_DELETE\\\":\\\"delete\\\",\\\"TOOLTIP_XCC\\\":\\\"Add CC or BCC\\\",\\\"TOOLTIP_SEND\\\":\\\"Send\\\",\\\"TOOLTIP_DISCARD\\\":\\\"Discard\\\",\\\"TOOLTIP_ATTACH\\\":\\\"Attach a file\\\",\\\"TOOLTIP_FORMATTING_OPTIONS\\\":\\\"Formatting options\\\",\\\"TOOLTIP_DOWNLOAD\\\":\\\"Download\\\",\\\"TOOLTIP_DOWNLOAD_ORIGINAL\\\":\\\"Download Original\\\",\\\"LB_UNNAMED_CONTACT\\\":\\\"Unnamed contact\\\",\\\"LB_NO_SUBJECT\\\":\\\"No subject\\\"},\\\"SETTINGS\\\":{\\\"MENU\\\":{\\\"KEYS\\\":\\\"Security\\\",\\\"GENERAL\\\":\\\"General\\\",\\\"PROFILE\\\":\\\"Profile\\\",\\\"SUBSCRIPTION\\\":\\\"Subscription\\\"},\\\"GENERAL\\\":{\\\"TITLE_USER_INTERFACE\\\":\\\"User Interface\\\",\\\"LB_LANGUAGE\\\":\\\"Language\\\",\\\"LB_FONT_SIZE\\\":\\\"Font size\\\",\\\"TITLE_MAIL_BEHAVIOUR\\\":\\\"Mail Behaviour\\\",\\\"LB_COMPOSED_MAILS\\\":\\\"Composed Mails\\\",\\\"LB_MARKED_AS_SPAM\\\":\\\"Marked as Spam\\\",\\\"LB_DELETED_EMAILS\\\":\\\"Deleted Emails\\\",\\\"TITLE_CONTACTS\\\":\\\"Contacts\\\",\\\"LB_SORT_BY\\\":\\\"Sort by\\\",\\\"LB_SORT_BY_DISPLAY_NAME\\\":\\\"display name\\\",\\\"LB_SORT_BY_FIRST_NAME\\\":\\\"first name\\\",\\\"LB_SORT_BY_LAST_NAME\\\":\\\"last name\\\",\\\"TITLE_KEYBOARD_SHORTCUTS\\\":\\\"Keyboard Shortcuts\\\",\\\"LB_KEYBOARD_SHORTCUTS\\\":\\\"Enabled\\\",\\\"LB_SECURED_IMAGES\\\":\\\"External images\\\",\\\"LB_SECURED_STYLES\\\":\\\"Styling\\\",\\\"LB_STYLES_NONE\\\":\\\"block\\\",\\\"LB_STYLES_NONE_TITLE\\\":\\\"Block embedded email styles\\\",\\\"LB_STYLES_ALL\\\":\\\"allow\\\",\\\"LB_STYLES_ALL_TITLE\\\":\\\"Allow embedded email styles\\\",\\\"PLC_SELECT_LANGUAGE\\\":\\\"Select a language\\\",\\\"LB_IMAGES_NONE\\\":\\\"none\\\",\\\"LB_IMAGES_NONE_TITLE\\\":\\\"Block all external images, the most secure\\\",\\\"LB_IMAGES_PROXY\\\":\\\"proxy through lavaboom\\\",\\\"LB_IMAGES_PROXY_TITLE\\\":\\\"It makes your browser proxy all images through lavaboom secure proxy thus effectively hiding you behind the Lavaboom\\\",\\\"LB_IMAGES_HTTPS\\\":\\\"download only https images directly\\\",\\\"LB_IMAGES_HTTPS_TITLE\\\":\\\"It makes your browser directly download only https external images\\\",\\\"LB_IMAGES_ALL\\\":\\\"download all images directly\\\",\\\"LB_IMAGES_ALL_TITLE\\\":\\\"It makes your browser directly download all external images, for both http and https protocols\\\",\\\"LB_EMAIL_AUTO_COMPLETE\\\":\\\"Auto complete emails with @lavaboom.com\\\"},\\\"PROFILE\\\":{\\\"TITLE_NAME\\\":\\\"Name\\\",\\\"LB_USERNAME\\\":\\\"Username\\\",\\\"LB_FIRST_NAME\\\":\\\"First Name\\\",\\\"LB_LAST_NAME\\\":\\\"Last Name\\\",\\\"LB_DISPLAY_NAME\\\":\\\"Display Name\\\",\\\"TITLE_SIGNATURE\\\":\\\"Signature\\\",\\\"LB_SIGNATURE_ENABLED\\\":\\\"Signature Enabled\\\",\\\"TITLE_NEWSLETTER\\\":\\\"Newsletter\\\",\\\"LB_SEND_ME_NEWS\\\":\\\"Send me News about Lavaboom\\\",\\\"LB_SIGNATURE_LN1\\\":\\\"Sent with Lavaboom - your secure email provider.\\\",\\\"LB_SIGNATURE_LN2\\\":\\\"Get your own address at lavaboom.com\\\",\\\"LB_PROFILE_SAVED\\\":\\\"Settings has been saved\\\",\\\"LB_PROFILE_CANNOT_BE_SAVED\\\":\\\"Cannot save profile\\\"},\\\"PLAN\\\":{\\\"LB_CURRENT\\\":\\\"This is your current plan\\\",\\\"BASIC\\\":{\\\"TITLE\\\":\\\"Lavaboom (Basic)\\\",\\\"LB_TAG\\\":\\\"FREE\\\",\\\"LB_ITEMS\\\":\\\"1,000MB of Space|Super-strong PGP-Encryption|Zero Knowledge Data Handling|Slick Web-App\\\"}},\\\"SECURITY\\\":{\\\"TITLE_CHANGE_PASSWORD\\\":\\\"Change Password\\\",\\\"TITLE_KEYS_MANAGEMENT\\\":\\\"Manage your keys\\\",\\\"LB_CURRENT_PASSWORD\\\":\\\"Current password\\\",\\\"LB_NEW_PASSWORD\\\":\\\"New password\\\",\\\"LB_CONFIRM_PASSWORD\\\":\\\"Confirm password\\\",\\\"BTN_CONFIRM\\\":\\\"Confirm\\\",\\\"LB_KEY_PAIR_FOR\\\":\\\"Key Pair for\\\",\\\"LB_KEY_ID\\\":\\\"Key ID\\\",\\\"LB_FINGERPRINT\\\":\\\"Fingerprint\\\",\\\"LB_CREATION_DATE\\\":\\\"Creation Date\\\",\\\"LB_EXPIRATION_DATE\\\":\\\"Expiration date\\\",\\\"LB_PASSPHRASE\\\":\\\"Enter your passphrase\\\",\\\"LB_PASSPHRASE_NOTE\\\":\\\"In order to remember your passphrase please select \\\\\\\"private computer\\\\\\\" checkbox when you sign in to Lavaboom\\\",\\\"LB_KEY_NOTE\\\":\\\"Don't see your key? Private key required in order to read emails and view contacts, please import private key\\\",\\\"EXPORT_PUBLIC_KEY\\\":\\\"Export public key\\\",\\\"SEND_PUBLIC_KEY\\\":\\\"Send public key\\\",\\\"BTN_REMOVE_DECRYPTED_KEYS\\\":\\\"Remove decrypted keys\\\",\\\"BTN_EXPORT_KEYS\\\":\\\"Export keys\\\",\\\"BTN_IMPORT_KEYS\\\":\\\"Import keys\\\",\\\"LB_DECRYPTED\\\":\\\"Decrypted\\\",\\\"LAVABOOM_SYNC\\\":\\\"Lavaboom Sync\\\",\\\"BTN_GENERATE_KEYS\\\":\\\"Generate new key-pair\\\",\\\"BTN_DOWNLOAD\\\":\\\"Download this public key\\\",\\\"LB_PRIVATE_KEY_DECRYPTED\\\":\\\"Private key for {{email}} has been decrypted\\\",\\\"LB_PASSWORD_CANNOT_BE_CHANGED\\\":\\\"Cannot change password - {{error}}\\\",\\\"LB_PASSWORD_CHANGED\\\":\\\"Account password and private key passphrase have been updated\\\",\\\"LB_LAVABOOM_SYNC_ACTIVATED\\\":\\\"Lavaboom sync has been activated\\\",\\\"LB_LAVABOOM_SYNC_DEACTIVATED\\\":\\\"Lavaboom sync has been de-activated\\\",\\\"LB_LAVABOOM_SYNC_CANNOT_UPDATE\\\":\\\"Cannot update Lavaboom sync state\\\",\\\"TP_KEY_IS_ENCRYPTED\\\":\\\"This key is still encrypted\\\",\\\"TP_KEY_IS_DECRYPTED\\\":\\\"This key is decrypted and can be used to access your emails/contacts\\\",\\\"LB_EXPIRED\\\":\\\"expired\\\",\\\"LB_EXPIRING_SOON\\\":\\\"expiring soon\\\",\\\"ADD_NEW_KEY_PAIR\\\":\\\"Add new key pair for \\\",\\\"LB_CANNOT_IMPORT\\\":\\\"Cannot import keys, something went wrong...\\\",\\\"LB_CANNOT_IMPORT_WRONG_FORMAT\\\":\\\"Cannot import keys, json or armored key expected\\\",\\\"LB_CANNOT_IMPORT_CORRUPTED\\\":\\\"Cannot import keys, backup is corrupted or has wrong format\\\",\\\"TITLE_CONFIRM\\\":\\\"Please confirm\\\",\\\"LB_CONFIRM_PASSWORD_CHANGE\\\":\\\"Do you really want to change password?\\\",\\\"LB_CONFIRM_KEYS_REMOVAL\\\":\\\"Do you really want to remove all decrypted private keys?\\\",\\\"LB_CONFIRM_LS_DISABLE\\\":\\\"Do you really want to disable Lavaboom Sync?\\\",\\\"LB_CONFIRM_LS_DISABLE_YES\\\":\\\"Yes, make backup\\\",\\\"LB_CONFIRM_LS_DISABLE_NO\\\":\\\"No\\\"}},\\\"CONTACTS\\\":{\\\"PLC_SEARCH_CONTACTS\\\":\\\"Search Contacts\\\",\\\"TITLE_PRIVATE_EMAIL\\\":\\\"Private Email\\\",\\\"TITLE_BUSINESS_EMAIL\\\":\\\"Business Email\\\",\\\"BTN_ADD_PRIVATE_EMAIL\\\":\\\"add new Private Email\\\",\\\"BTN_ADD_BUSINESS_EMAIL\\\":\\\"add new Business Email\\\",\\\"LB_KEY_ID\\\":\\\"Key ID\\\",\\\"LB_KEY_FINGERPRINT\\\":\\\"Key fingerprint\\\",\\\"LB_LENGTH\\\":\\\"Key strength\\\",\\\"LB_ALGORITHMS\\\":\\\"Key type\\\",\\\"LB_DOWNLOAD_PUBLIC_KEY\\\":\\\"Download Public Key\\\",\\\"BTN_SAVE_CONTACT\\\":\\\"Save\\\",\\\"BTN_DELETE_CONTACT\\\":\\\"Delete Contact\\\",\\\"BTN_EDIT_CONTACT\\\":\\\"Edit\\\",\\\"BTN_DISCARD_CHANGES\\\":\\\"Discard Changes\\\",\\\"LB_EMAIL_NOT_FOUND\\\":\\\"Email not found\\\",\\\"LB_NOTHING_FOUND\\\":\\\"Nothing found\\\",\\\"LB_NEW_CONTACT\\\":\\\"New contact\\\",\\\"LB_CONTACT_NAME\\\":\\\"Contact name\\\",\\\"LB_NEW_CONTACT_SHORT\\\":\\\"+\\\",\\\"LB_EMPTY_CONTACT_SHORT\\\":\\\"?\\\",\\\"PLC_EMAIL\\\":\\\"Enter email address\\\",\\\"LB_NO_PRIVATE_KEY_FOUND1\\\":\\\"No decrypted private key found for this contact\\\",\\\"LB_NO_PRIVATE_KEY_FOUND2\\\":\\\"Please go to \\\",\\\"LB_SETTINGS\\\":\\\"settings\\\",\\\"LB_NO_PRIVATE_KEY_FOUND3\\\":\\\" and check your key\\\",\\\"LB_REMOVE\\\":\\\"Remove this email\\\",\\\"PUBLIC_KEY_PROMPT1\\\":\\\"We don't have the public key for this email address, so you can't send encrypted emails to it.\\\",\\\"PUBLIC_KEY_PROMPT2\\\":\\\"Would you like to ask for the public key and add it here manually?\\\",\\\"PUBLIC_KEY_PROMPT_REQUEST\\\":\\\"Request key\\\",\\\"PUBLIC_KEY_PROMPT_UPLOAD\\\":\\\"Upload key\\\",\\\"LB_CANNOT_IMPORT_PUBLIC_KEY\\\":\\\"Cannot import public key\\\",\\\"LB_PUBLIC_KEY_IMPORTED\\\":\\\"New public key imported for {{email}}, {{algos}} {{length}}bits\\\",\\\"LB_CONTACT_CANNOT_BE_SAVED\\\":\\\"Contact cannot be saved\\\",\\\"LB_CONTACT_SAVED\\\":\\\"Contact saved\\\",\\\"LB_CONTACT_DELETED\\\":\\\"Contact deleted\\\",\\\"LB_CONTACT_CANNOT_BE_DELETED\\\":\\\"Contact cannot be deleted\\\",\\\"TITLE_CONFIRM_DELETE\\\":\\\"Confirm deletion\\\",\\\"LB_CONFIRM\\\":\\\"Do you really want to delete '{{name}}' contact?\\\",\\\"ADD_FAVORITE\\\":\\\"Star this contact\\\"}},\\\"HOTKEY\\\":{\\\"TITLE\\\":\\\"Shortcuts cheatsheet\\\",\\\"CHEATSHEET\\\":\\\"Show/Hide cheatsheet\\\",\\\"FOCUS_ON_SEARCH\\\":\\\"Focus on Search\\\",\\\"LEAVE_FROM_SEARCH\\\":\\\"Leave from Search\\\",\\\"COMPOSE_EMAIL\\\":\\\"Compose new email\\\",\\\"MOVE_UP\\\":\\\"Move up\\\",\\\"MOVE_DOWN\\\":\\\"Move down\\\",\\\"SEND_EMAIL\\\":\\\"Send email\\\",\\\"ARCHIVE_EMAIL\\\":\\\"Archive email\\\",\\\"REPLY_EMAIL\\\":\\\"Reply email\\\",\\\"DELETE_EMAIL\\\":\\\"Delete email\\\",\\\"GOTO_INBOX\\\":\\\"Go to Inbox\\\",\\\"GOTO_DRAFTS\\\":\\\"Go to Drafts\\\",\\\"GOTO_SENT\\\":\\\"Go to Sent\\\",\\\"GOTO_SPAM\\\":\\\"Go to Spam\\\",\\\"GOTO_STARRED\\\":\\\"Go to Starred\\\",\\\"GOTO_TRASH\\\":\\\"Go to Trash\\\",\\\"GOTO_CONTACTS\\\":\\\"Go to Contacts\\\",\\\"GOTO_SETTINGS\\\":\\\"Go to Settings\\\"},\\\"CONTEXT_MENU\\\":{\\\"EMAIL\\\":{\\\"LB_ADD_CONTACT\\\":\\\"Add contact\\\",\\\"LB_REPLY\\\":\\\"Reply\\\"}}}\"))).fallbackLanguage(consts.DEFAULT_LANG).preferredLanguage(localStorage.lang ? localStorage.lang : consts.DEFAULT_LANG).useStaticFilesLoader({\n\t\tprefix: '/translations/',\n\t\tsuffix: '.json'\n\t});\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2NvbmZpZ3MvdHJhbnNsYXRpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXZCLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixVQUFDLGtCQUFrQixFQUFFLE1BQU0sRUFBSztBQUM3RCxLQUFNLHFCQUFxQixHQUFHLFNBQXhCLHFCQUFxQixDQUFJLFdBQVc7U0FDekMsa0JBQWtCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDO0VBQUEsQ0FBQztBQUNuRSxtQkFBa0IsQ0FBQyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFdkQsc0JBQXFCOztBQUVwQixLQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQ3pCLEVBQUUsQ0FBQyxZQUFZLENBQUMsU0FBUyxHQUFHLDJDQUEyQyxFQUFFLE1BQU0sQ0FBQyxDQUNoRixDQUFDLENBQ0YsQ0FDQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQ3JDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQzlFLG9CQUFvQixDQUFDO0FBQ3JCLFFBQU0sRUFBRSxnQkFBZ0I7QUFDeEIsUUFBTSxFQUFFLE9BQU87RUFDZixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9hcHBzL1V0aWxzL2NvbmZpZ3MvdHJhbnNsYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC8qQG5nSW5qZWN0Ki8oJHRyYW5zbGF0ZVByb3ZpZGVyLCBjb25zdHMpID0+IHtcblx0Y29uc3Qgc2V0RGVmYXVsdFRyYW5zbGF0aW9uID0gKHRyYW5zbGF0aW9uKSA9PlxuXHRcdCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoY29uc3RzLkRFRkFVTFRfTEFORywgdHJhbnNsYXRpb24pO1xuXHQkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdlc2NhcGVkJyk7XG5cblx0c2V0RGVmYXVsdFRyYW5zbGF0aW9uKFxuXHRcdC8vIGJyb3dzZXJpZnkgYnJmczogbG9hZCBwcmUtY29tcGlsZWQgZGVmYXVsdCBsYW5ndWFnZSBzbyBpdCB3aWxsIGJlIGF2YWlsYWJsZSB3aXRob3V0IGV4dHJhIHJlcXVlc3QgdG8gdGhlIHNlcnZlclxuXHRcdEpTT04ucGFyc2UoY29uc3RzLnN0cmlwQk9NKFxuXHRcdFx0ZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vLi4vLi4vLi4vLi4vZGlzdC90cmFuc2xhdGlvbnMvZW4uanNvbicsICd1dGY4Jylcblx0XHQpKVxuXHQpXG5cdFx0LmZhbGxiYWNrTGFuZ3VhZ2UoY29uc3RzLkRFRkFVTFRfTEFORylcblx0XHQucHJlZmVycmVkTGFuZ3VhZ2UobG9jYWxTdG9yYWdlLmxhbmcgPyBsb2NhbFN0b3JhZ2UubGFuZyA6IGNvbnN0cy5ERUZBVUxUX0xBTkcpXG5cdFx0LnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcblx0XHRcdHByZWZpeDogJy90cmFuc2xhdGlvbnMvJyxcblx0XHRcdHN1ZmZpeDogJy5qc29uJ1xuXHRcdH0pO1xufTsiXX0=","deps":{}}},"packageCache":{"/src/js/apps/package.json":false,"/src/js/package.json":false,"/src/package.json":false,"./src/js/apps/utils.js":false,"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/package.json":{"author":{"name":"Roman Shtylman","email":"shtylman@gmail.com"},"name":"process","description":"process information for node.js and browsers","keywords":["process"],"version":"0.10.1","repository":{"type":"git","url":"git://github.com/shtylman/node-process.git"},"browser":"./browser.js","main":"./index.js","engines":{"node":">= 0.6.0"},"gitHead":"b723f82028b12e94abfe732e9f432a3fb2b5cece","bugs":{"url":"https://github.com/shtylman/node-process/issues"},"homepage":"https://github.com/shtylman/node-process","_id":"process@0.10.1","scripts":{},"_shasum":"842457cc51cfed72dc775afeeafb8c6034372725","_from":"process@>=0.10.0 <0.11.0","_npmVersion":"2.6.1","_nodeVersion":"0.10.35","_npmUser":{"name":"shtylman","email":"shtylman@gmail.com"},"maintainers":[{"name":"coolaj86","email":"coolaj86@gmail.com"},{"name":"shtylman","email":"shtylman@gmail.com"}],"dist":{"shasum":"842457cc51cfed72dc775afeeafb8c6034372725","tarball":"http://registry.npmjs.org/process/-/process-0.10.1.tgz"},"directories":{},"_resolved":"https://registry.npmjs.org/process/-/process-0.10.1.tgz","readme":"ERROR: No README data found!","__dirname":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process"},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js":{"author":{"name":"Roman Shtylman","email":"shtylman@gmail.com"},"name":"process","description":"process information for node.js and browsers","keywords":["process"],"version":"0.10.1","repository":{"type":"git","url":"git://github.com/shtylman/node-process.git"},"browser":"./browser.js","main":"./index.js","engines":{"node":">= 0.6.0"},"gitHead":"b723f82028b12e94abfe732e9f432a3fb2b5cece","bugs":{"url":"https://github.com/shtylman/node-process/issues"},"homepage":"https://github.com/shtylman/node-process","_id":"process@0.10.1","scripts":{},"_shasum":"842457cc51cfed72dc775afeeafb8c6034372725","_from":"process@>=0.10.0 <0.11.0","_npmVersion":"2.6.1","_nodeVersion":"0.10.35","_npmUser":{"name":"shtylman","email":"shtylman@gmail.com"},"maintainers":[{"name":"coolaj86","email":"coolaj86@gmail.com"},{"name":"shtylman","email":"shtylman@gmail.com"}],"dist":{"shasum":"842457cc51cfed72dc775afeeafb8c6034372725","tarball":"http://registry.npmjs.org/process/-/process-0.10.1.tgz"},"directories":{},"_resolved":"https://registry.npmjs.org/process/-/process-0.10.1.tgz","readme":"ERROR: No README data found!","__dirname":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process"},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co-sleep/package.json":{"name":"co-sleep","version":"0.0.1","description":"setTimeout that works with the co generator framework","main":"index.js","scripts":{"test":"mocha --harmony"},"repository":{"type":"git","url":"https://github.com/eugeneware/co-sleep"},"keywords":["co","setTimeout","sleep","wait"],"author":{"name":"Eugene Ware","email":"eugene@noblesamurai.com"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/eugeneware/co-sleep/issues"},"dependencies":{},"devDependencies":{"expect.js":"~0.2.0","co":"~3.0.1","mocha":"~1.16.2"},"readme":"# co-sleep\n\nsetTimeout that works with the [co](https://github.com/visionmedia/co)\ngenerator framework\n\n[![build status](https://secure.travis-ci.org/eugeneware/co-sleep.png)](http://travis-ci.org/eugeneware/co-sleep)\n\n## Installation\n\nThis module is installed via npm:\n\n``` bash\n$ npm install co-sleep\n```\n\n## Example Usage\n\n``` js\nvar sleep = require('co-sleep');\nvar co = require('co');\n\nco(function *() {\n  var now = Date.now();\n  // wait for 1000 ms\n  yield sleep(1000);\n  expect(Date.now() - now).to.not.be.below(1000);\n})();\n```\n","readmeFilename":"README.md","homepage":"https://github.com/eugeneware/co-sleep","_id":"co-sleep@0.0.1","dist":{"shasum":"5ec6a9c77649eaf5c4e1116e62635668c608ee32","tarball":"http://registry.npmjs.org/co-sleep/-/co-sleep-0.0.1.tgz"},"_from":"co-sleep@0.0.1","_npmVersion":"1.3.15","_npmUser":{"name":"eugeneware","email":"eugene@noblesamurai.com"},"maintainers":[{"name":"eugeneware","email":"eugene@noblesamurai.com"}],"directories":{},"_shasum":"5ec6a9c77649eaf5c4e1116e62635668c608ee32","_resolved":"https://registry.npmjs.org/co-sleep/-/co-sleep-0.0.1.tgz","__dirname":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co-sleep"},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co-sleep/index.js":{"name":"co-sleep","version":"0.0.1","description":"setTimeout that works with the co generator framework","main":"index.js","scripts":{"test":"mocha --harmony"},"repository":{"type":"git","url":"https://github.com/eugeneware/co-sleep"},"keywords":["co","setTimeout","sleep","wait"],"author":{"name":"Eugene Ware","email":"eugene@noblesamurai.com"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/eugeneware/co-sleep/issues"},"dependencies":{},"devDependencies":{"expect.js":"~0.2.0","co":"~3.0.1","mocha":"~1.16.2"},"readme":"# co-sleep\n\nsetTimeout that works with the [co](https://github.com/visionmedia/co)\ngenerator framework\n\n[![build status](https://secure.travis-ci.org/eugeneware/co-sleep.png)](http://travis-ci.org/eugeneware/co-sleep)\n\n## Installation\n\nThis module is installed via npm:\n\n``` bash\n$ npm install co-sleep\n```\n\n## Example Usage\n\n``` js\nvar sleep = require('co-sleep');\nvar co = require('co');\n\nco(function *() {\n  var now = Date.now();\n  // wait for 1000 ms\n  yield sleep(1000);\n  expect(Date.now() - now).to.not.be.below(1000);\n})();\n```\n","readmeFilename":"README.md","homepage":"https://github.com/eugeneware/co-sleep","_id":"co-sleep@0.0.1","dist":{"shasum":"5ec6a9c77649eaf5c4e1116e62635668c608ee32","tarball":"http://registry.npmjs.org/co-sleep/-/co-sleep-0.0.1.tgz"},"_from":"co-sleep@0.0.1","_npmVersion":"1.3.15","_npmUser":{"name":"eugeneware","email":"eugene@noblesamurai.com"},"maintainers":[{"name":"eugeneware","email":"eugene@noblesamurai.com"}],"directories":{},"_shasum":"5ec6a9c77649eaf5c4e1116e62635668c608ee32","_resolved":"https://registry.npmjs.org/co-sleep/-/co-sleep-0.0.1.tgz","__dirname":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/co-sleep"}}}